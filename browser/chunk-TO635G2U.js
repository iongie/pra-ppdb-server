import{a as ke,b as Ce}from"./chunk-MAUHFKGZ.js";import{a as Ie,b as Ae,c as Me,d as Pe,e as Le,f as je,g as Ne,h as Ge,i as se,j as He,k as Re,l as Ke,m as me}from"./chunk-5FAWDNEO.js";import{a as Oe,b as qe,c as We}from"./chunk-WHPQ3OHY.js";import{a as Ze,b as Be}from"./chunk-PY5V5PRX.js";import{a as ze}from"./chunk-7UAJZ3SR.js";import{a as Te,b as Ve,c as le}from"./chunk-XBMJPYNS.js";import{a as Ue}from"./chunk-ETNDFRPA.js";import{b as J}from"./chunk-P4IB7WUJ.js";import{c as K,d as k,f as O,g as q,i as W,j as Z,k as B,l as Q,m as X,n as Y,o as z,p as Ee,q as ie}from"./chunk-LFLMX4KY.js";import{a as U}from"./chunk-ECMUYLIN.js";import{a as ye,b as Fe,c as De}from"./chunk-X4AFOLDU.js";import{d as we}from"./chunk-IFURFOTJ.js";import{B as ne,H as j,I as re,L as S,M as v,Ma as te,N as c,Na as N,O as _,Oa as oe,R as ge,S as R,V as $,Y as l,Z as F,bb as be,da as h,ea as m,g as T,ga as ce,ha as he,i as L,ia as fe,ja as e,ka as t,l as M,la as g,ma as p,na as u,o as P,oa as I,pa as x,qa as C,s as G,ta as _e,u as H,ua as Se,v as V,va as ve,w as y,wa as xe,x as f,xa as i,ya as D,za as A}from"./chunk-YOW73LMR.js";function it(n,s){if(n&1){let d=I();e(0,"map-marker",66,1),x("mapClick",function(){S(d);let r=xe(1),o=C();return v(o.bukaInfoMarker(r))}),t()}if(n&2){let d=s.$implicit;m("position",d)}}function at(n,s){if(n&1){let d=I();p(0),e(1,"div",67)(2,"prappdb-cari-alamat",68),x("view",function(r){S(d);let o=C();return v(o.viewModalCariAlamatAction(r))})("lokasi",function(r){S(d);let o=C();return v(o.dapatLokasi(r))}),t()(),u()}}function nt(n,s){if(n&1&&(p(0),e(1,"div",21)(2,"div",15),i(3),t()(),u()),n&2){let d=C();l(3),A(" ",d.alamatMap,"")}}function rt(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Alamat harap dipilih "),t()(),u())}function ot(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Nomor RT harap diisi "),t()(),u())}function lt(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Nomor RW harap diisi "),t()(),u())}function st(n,s){if(n&1&&(p(0),e(1,"option",73),i(2),t(),u()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),D(d.n_provinsi)}}function mt(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Provinsi harap dipilih "),t()(),u())}function dt(n,s){if(n&1&&(p(0),e(1,"option",73),i(2),t(),u()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),D(d.n_kabupaten)}}function pt(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Kota harap dipilih "),t()(),u())}function ut(n,s){if(n&1&&(p(0),e(1,"option",73),i(2),t(),u()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),D(d.n_kecamatan)}}function gt(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Kecamatan harap dipilih "),t()(),u())}function ct(n,s){if(n&1&&(p(0),e(1,"option",73),i(2),t(),u()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),D(d.n_kelurahan)}}function ht(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Kelurahan harap dipilih "),t()(),u())}function ft(n,s){n&1&&(p(0),c(),e(1,"svg",74),g(2,"path",75),t(),_(),e(3,"p",76)(4,"span",77),i(5,"Click to upload"),t()(),e(6,"p",78),i(7,"Hanya file berformat PNG, JPG "),t(),u())}function _t(n,s){if(n&1&&(p(0),c(),e(1,"svg",79),g(2,"path",80)(3,"path",81),t(),_(),e(4,"a",82)(5,"p",76),i(6),t()(),u()),n&2){let d=C();l(4),m("href",d.datasSiswa.file_kk_url,$),l(2),A(" ",d.nameFile," ")}}function St(n,s){n&1&&(p(0),e(1,"div",83),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Danger alert!"),t(),i(9," Harap mengupload kartu keluarga "),t()(),u())}function vt(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Nomor Kartu Keluarga harap diisi "),t()(),u())}function xt(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Tanggal Kartu Keluarga harap diisi "),t()(),u())}function bt(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Nama Ibu harap diisi "),t()(),u())}function wt(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Nomor Whatsapp harap diisi "),t()(),u())}function kt(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," Lama tinggal harap diisi "),t()(),u())}function Ct(n,s){if(n&1&&(p(0),e(1,"option",73),i(2),t(),u()),n&2){let d=s.$implicit;l(),m("value",d.n_sekolah),l(),D(d.n_sekolah)}}function Et(n,s){n&1&&(p(0),e(1,"div",69),c(),e(2,"svg",70),g(3,"path",71),t(),_(),e(4,"span",9),i(5,"Info"),t(),e(6,"div")(7,"span",72),i(8,"Penting!"),t(),i(9," SMP tujuan harap diisi "),t()(),u())}function yt(n,s){n&1&&(p(0),e(1,"div",84)(2,"span",72),i(3,"Info alert!"),t()(),u())}function Ft(n,s){n&1&&(p(0),i(1," Update data siswa "),u())}function Dt(n,s){n&1&&(p(0),c(),e(1,"svg",85),g(2,"path",86)(3,"path",87),t(),i(4," Loading... "),u())}var Je=(()=>{let s=class s{constructor(a,r,o,b,w){this.fb=a,this.callApiServe=r,this.responServe=o,this.geoLocationServe=b,this.geocoder=w,this.view=new R,this.nik=null,this.nisn=null,this.destroy=new L,this.provinsi=Ie,this.provinsiError=!1,this.kabupaten=Ae,this.kabupatenError=!1,this.kecamatan=Me,this.kecamatanError=!1,this.kelurahan=Pe,this.kelurahanError=!1,this.sekolahTujuan=ye,this.sekolahTujuanError=!1,this.editDataSiswaFormData=null,this.isLoading=!1,this.editDataSiswaGangguan=!1,this.nameFile=null,this.viewModalCariAlamat=!1,this.datasSiswa=Le,this.infoWindow=null,this.center={lat:0,lng:0},this.zoom=20,this.markerOptions={draggable:!1},this.markerPositions=[],this.isalamtMap=!1,this.alamatMap=""}ngOnInit(){this.dataSiswaForm(),this.dataSiswa(),this.getProvinsi(),this.getSekolahTujuan()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}dataSiswaForm(){this.editDataSiswaForm=this.fb.group({alamat:[null,[k.required]],provinsi_id:[null,[k.required]],kabupaten_id:[{value:null,disabled:!0},[k.required]],kecamatan_id:[{value:null,disabled:!0},[k.required]],kelurahan_id:[{value:null,disabled:!0},[k.required]],rt:[null,[k.required]],rw:[null,[k.required]],name_file:[null,[k.required]],kk:[""],no_kk:[null,[k.required]],tanggal_kk:[null,[k.required]],no_wa:[null,[k.required]],lama_tinggal:[null,[k.required]],sekolah_tujuan:[{value:null,disabled:!1},[k.required]],nama_ibu:[null,[k.required]],alamat_map:[""]})}dataSiswa(){this.callApiServe.post({nik:this.nik,nisn:this.nisn},"siswa/detail").pipe(P(a=>a.data),f(a=>this.datasSiswa=a),f(a=>{this.center={lat:parseInt(a.lat),lng:parseInt(a.long)},this.markerPositions.push({lat:parseInt(a.lat),lng:parseInt(a.long)}),this.geoLocationServe.updateLatLon({lat:parseInt(a.lat),lon:parseInt(a.long)}),this.editDataSiswaForm.get("alamat")?.setValue(a.alamat_detail),this.editDataSiswaForm.get("provinsi_id")?.setValue(a.provinsi_id),this.editDataSiswaForm.get("kabupaten_id")?.enable(),this.editDataSiswaForm.get("kabupaten_id")?.setValue(a.kabupaten_id),this.getKabupaten(a.provinsi_id),this.editDataSiswaForm.get("kecamatan_id")?.setValue(a.kecamatan_id),this.editDataSiswaForm.get("kecamatan_id")?.enable(),this.getKecamatan(a.kabupaten_id),this.editDataSiswaForm.get("kelurahan_id")?.setValue(a.kelurahan_id),this.editDataSiswaForm.get("kelurahan_id")?.enable(),this.getKelurahan(a.kecamatan_id),this.editDataSiswaForm.get("rt")?.setValue(a.alamat_rt),this.editDataSiswaForm.get("rw")?.setValue(a.alamat_rw),this.editDataSiswaForm.get("name_file")?.setValue(a.file_kk),this.nameFile=a.file_kk,this.editDataSiswaForm.get("kk")?.setValue(a.kk),this.editDataSiswaForm.get("no_kk")?.setValue(a.kk),this.editDataSiswaForm.get("tanggal_kk")?.setValue(a.tgl_terbit_kk),this.editDataSiswaForm.get("no_wa")?.setValue(a.telp),this.editDataSiswaForm.get("lama_tinggal")?.setValue(a.lama_tinggal),this.editDataSiswaForm.get("sekolah_tujuan")?.setValue(a.smp_tujuan),this.editDataSiswaForm.get("nama_ibu")?.setValue(a.nama_ibu),this.editDataSiswaForm.get("alamat_map")?.setValue(a.alamat_map)}),f(a=>{this.center={lat:parseFloat(a.lat),lng:parseFloat(a.long)},this.markerPositions.push({lat:this.center.lat,lng:this.center.lng}),this.geoLocationServe.updateLatLon({lat:this.center.lat,lon:this.center.lng})}),V(a=>this.geocoder.geocode({location:{lat:parseFloat(a.lat),lng:parseFloat(a.long)}})),f(a=>{this.alamatMap=a.results[0].formatted_address}),y(this.destroy)).subscribe()}tambahMarkerMap(a){M(a).pipe(f(r=>{this.markerPositions=[],this.markerPositions.push(r.latLng.toJSON()),this.geoLocationServe.updateLatLon({lat:r.latLng.toJSON().lat,lon:r.latLng.toJSON().lng})}),V(r=>this.geocoder.geocode({location:{lat:r.latLng.toJSON().lat,lng:r.latLng.toJSON().lng}})),f(r=>{console.log("alamat map",r.results),this.alamatMap=r.results[0].formatted_address}),y(this.destroy)).subscribe()}bukaInfoMarker(a){this.infoWindow.open(a)}viewModalCariAlamatAction(a){this.viewModalCariAlamat=a}openModalCariAlamat(){this.viewModalCariAlamat=!0}dapatLokasi(a){M(a).pipe(f(r=>{this.markerPositions=[],this.center={lat:r.lat,lng:r.lon},this.markerPositions.push({lat:r.lat,lng:r.lon}),this.geoLocationServe.updateLatLon({lat:r.lat,lon:r.lon})}),V(r=>this.geocoder.geocode({location:{lat:r.lat,lng:r.lon}})),f(r=>{this.alamatMap=r.results[0].formatted_address}),y(this.destroy)).subscribe()}alamatMapAction(){this.isalamtMap=!this.isalamtMap}getProvinsi(){this.callApiServe.get("provinsi").pipe(f(()=>this.provinsiError=!1),y(this.destroy)).subscribe({next:a=>{this.provinsi=a.data},error:a=>{this.provinsiError=!0}})}onProvinsiChange(a){return T(this,null,function*(){yield this.editDataSiswaForm.get("provinsi_id")?.setValue(a.target.value),yield this.editDataSiswaForm.get("kabupaten_id")?.enable(),yield this.getKabupaten(a.target.value)})}getKabupaten(a){this.callApiServe.getWithParam("kabupaten","provinsi_id",a).pipe(f(()=>this.provinsiError=!1),y(this.destroy)).subscribe({next:r=>{this.kabupaten=r.data},error:r=>{this.kecamatanError=!0}})}onKabupatenChange(a){return T(this,null,function*(){yield this.editDataSiswaForm.get("kabupaten_id")?.setValue(a.target.value),yield this.editDataSiswaForm.get("kecamatan_id")?.enable(),yield this.getKecamatan(a.target.value)})}getKecamatan(a){this.callApiServe.getWithParam("kecamatan","kabupaten_id",a).pipe(f(()=>this.provinsiError=!1),y(this.destroy)).subscribe({next:r=>{this.kecamatan=r.data},error:r=>{this.kecamatanError=!0}})}onKecamatanChange(a){return T(this,null,function*(){yield this.editDataSiswaForm.get("kecamatan_id")?.setValue(a.target.value),yield this.editDataSiswaForm.get("kelurahan_id")?.enable(),yield this.getKelurahan(a.target.value)})}getKelurahan(a){this.callApiServe.getWithParam("kelurahan","kecamatan_id",a).pipe(f(()=>this.provinsiError=!1),y(this.destroy)).subscribe({next:r=>{this.kelurahan=r.data},error:r=>{this.kecamatanError=!0}})}onKelurahanChange(a){return T(this,null,function*(){yield this.editDataSiswaForm.get("kelurahan_id")?.setValue(a.target.value)})}getSekolahTujuan(){this.callApiServe.get("sekolah").pipe(f(()=>this.sekolahTujuanError=!1),y(this.destroy)).subscribe({next:a=>{this.sekolahTujuan=a.data},error:a=>{this.sekolahTujuanError=!0}})}onSekolahTujuanChange(a){return T(this,null,function*(){yield this.editDataSiswaForm.get("sekolah_tujuan")?.setValue(a.target.value)})}get nikControl(){return this.editDataSiswaForm.get("nik")}get noNik(){return this.nikControl.hasError("required")&&this.nikControl.touched}get namaLengkapControl(){return this.editDataSiswaForm.get("nama_lengkap")}get noNamaLengkap(){return this.namaLengkapControl.hasError("required")&&this.namaLengkapControl.touched}get tempatLahirControl(){return this.editDataSiswaForm.get("tempat_lahir")}get noTempatLahir(){return this.tempatLahirControl.hasError("required")&&this.tempatLahirControl.touched}get tanggalLahirControl(){return this.editDataSiswaForm.get("tanggal_lahir")}get noTanggalLahir(){return this.tanggalLahirControl.hasError("required")&&this.tanggalLahirControl.touched}get noRtControl(){return this.editDataSiswaForm.get("rt")}get noRt(){return this.noRtControl.hasError("required")&&this.noRtControl.touched}get noRwControl(){return this.editDataSiswaForm.get("rw")}get noRw(){return this.noRwControl.hasError("required")&&this.noRwControl.touched}get sekolahAsalControl(){return this.editDataSiswaForm.get("sekolah_asal")}get noSekolahAsal(){return this.sekolahAsalControl.hasError("required")&&this.sekolahAsalControl.touched}get noKkControl(){return this.editDataSiswaForm.get("no_kk")}get noNomorKk(){return this.noKkControl.hasError("required")&&this.noKkControl.touched}get tanggalKkControl(){return this.editDataSiswaForm.get("tanggal_kk")}get noTanggalKk(){return this.tanggalKkControl.hasError("required")&&this.tanggalKkControl.touched}get nomorWaControl(){return this.editDataSiswaForm.get("no_wa")}get noNomorWa(){return this.nomorWaControl.hasError("required")&&this.nomorWaControl.touched}get lamaTinggalControl(){return this.editDataSiswaForm.get("lama_tinggal")}get noLamaTinggal(){return this.lamaTinggalControl.hasError("required")&&this.lamaTinggalControl.touched}get nisnControl(){return this.editDataSiswaForm.get("nisn")}get noNisn(){return this.nisnControl.hasError("required")&&this.nisnControl.touched}get npsnControl(){return this.editDataSiswaForm.get("npsn")}get noNpsn(){return this.npsnControl.hasError("required")&&this.npsnControl.touched}get sekolahTujuanControl(){return this.editDataSiswaForm.get("sekolah_tujuan")}get noSekolahTujuan(){return this.sekolahTujuanControl.hasError("required")&&this.sekolahTujuanControl.touched}get provinsiControl(){return this.editDataSiswaForm.get("provinsi_id")}get noProvinsi(){return this.provinsiControl.hasError("required")&&this.provinsiControl.touched}get kotaControl(){return this.editDataSiswaForm.get("kabupaten_id")}get noKota(){return this.kotaControl.hasError("required")&&this.kotaControl.touched}get kecamatanControl(){return this.editDataSiswaForm.get("kecamatan_id")}get noKecamatan(){return this.kecamatanControl.hasError("required")&&this.kecamatanControl.touched}get kelurahanControl(){return this.editDataSiswaForm.get("kelurahan_id")}get noKelurahan(){return this.kelurahanControl.hasError("required")&&this.kelurahanControl.touched}get alamatControl(){return this.editDataSiswaForm.get("alamat")}get noAlamat(){return this.alamatControl.hasError("required")&&this.alamatControl.touched}get namaIbuControl(){return this.editDataSiswaForm.get("nama_ibu")}get noNamaIbu(){return this.namaIbuControl.hasError("required")&&this.namaIbuControl.touched}get nameSertifikatControl(){return this.editDataSiswaForm.get("name_file")}get noNameSertifikat(){return this.nameSertifikatControl.hasError("required")&&this.nameSertifikatControl.touched}uploadKK(a){return T(this,null,function*(){try{let r=yield a.target.files[0];if(yield this.editDataSiswaForm.patchValue({kk:r}),yield this.editDataSiswaForm.patchValue({name_file:r.name}),r.type!=="image/png"&&r.type!=="image/jpg"&&r.type!=="image/jpeg")throw new Error("Format File tidak diizinkan");this.nameFile=r.name}catch(r){this.responServe.updateRespon({mode:"error",pesan:r.message})}})}updateDataSiswa(){M(this.editDataSiswaForm.valid).pipe(f(()=>this.isLoading=!0),P(a=>{if(!a)throw Object.values(this.editDataSiswaForm.controls).forEach(r=>{r.markAsTouched()}),new Error("harap mengisi form data");return a}),V(()=>this.geoLocationServe.getLatLon),f(a=>{this.editDataSiswaFormData=new FormData,this.editDataSiswaFormData.append("file_kk",this.editDataSiswaForm.get("kk")?.value),this.editDataSiswaFormData.append("nik",this.datasSiswa.nik),this.editDataSiswaFormData.append("no_kk",this.editDataSiswaForm.get("no_kk")?.value),this.editDataSiswaFormData.append("nama_ibu",this.editDataSiswaForm.get("nama_ibu")?.value),this.editDataSiswaFormData.append("no_telp",this.editDataSiswaForm.get("no_wa")?.value),this.editDataSiswaFormData.append("tanggal_terbit_kk",this.editDataSiswaForm.get("no_kk")?.value),this.editDataSiswaFormData.append("lama_tinggal",this.editDataSiswaForm.get("lama_tinggal")?.value),this.editDataSiswaFormData.append("alamat_detail",this.editDataSiswaForm.get("alamat")?.value),this.editDataSiswaFormData.append("rt",this.editDataSiswaForm.get("rt")?.value),this.editDataSiswaFormData.append("rw",this.editDataSiswaForm.get("rw")?.value),this.editDataSiswaFormData.append("provinsi_id",this.editDataSiswaForm.get("provinsi_id")?.value),this.editDataSiswaFormData.append("kabupaten_id",this.editDataSiswaForm.get("kabupaten_id")?.value),this.editDataSiswaFormData.append("kecamatan_id",this.editDataSiswaForm.get("kecamatan_id")?.value),this.editDataSiswaFormData.append("kelurahan_id",this.editDataSiswaForm.get("kelurahan_id")?.value),this.editDataSiswaFormData.append("lat",a.lat.toString()),this.editDataSiswaFormData.append("long",a.lon.toString()),this.editDataSiswaFormData.append("alamat_map",a.address===void 0?this.editDataSiswaForm.get("alamat")?.value:a.address),this.editDataSiswaFormData.append("smp_tujuan",this.editDataSiswaForm.get("sekolah_tujuan")?.value),this.editDataSiswaFormData.append("nisn",this.datasSiswa.nisn)}),V(()=>this.callApiServe.post(this.editDataSiswaFormData,"siswa/simpan/daftar")),V(()=>this.callApiServe.post({nik:this.nik,nisn:this.nisn},"siswa/simpan/konfirmasi")),f(a=>this.responServe.updateRespon({mode:"success",pesan:a.message})),f(()=>{this.dataSiswaForm(),this.view.emit(!1)}),G(a=>{throw this.isLoading=!1,this.responServe.updateRespon({mode:"error",pesan:a.error.message}),a}),f(()=>this.isLoading=!1),H(5e3),y(this.destroy)).subscribe()}cancelEdit(){this.view.emit(!1)}batal(){M(this.dataSiswaForm()).pipe(f(()=>this.view.emit(!1)),y(this.destroy)).subscribe()}};s.\u0275fac=function(r){return new(r||s)(F(z),F(U),F(J),F(Re),F(He))},s.\u0275cmp=j({type:s,selectors:[["prappdb-form-edit-data-siswa"]],viewQuery:function(r,o){if(r&1&&_e(Ne,5),r&2){let b;Se(b=ve())&&(o.infoWindow=b.first)}},inputs:{nik:"nik",nisn:"nisn"},outputs:{view:"view"},decls:201,vars:44,consts:[["formDir","ngForm"],["marker","mapMarker"],[1,"relative","w-auto","p-1","md:p-4"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t"],[1,"text-xl","font-semibold","text-gray-900"],["type","button","data-modal-hide","authentication-modal",1,"end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"modal-prestasi","p-4","md:p-5","max-h-96","overflow-y-auto"],["enctype","multipart/form-data",3,"submit","formGroup"],[1,"mb-4","text-lg","font-medium","leading-none","text-gray-900"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],[1,"block","mb-2","text-sm","font-medium","text-blue-900"],[1,"bg-blue-50","border","border-blue-50","text-blue-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5"],[1,"grid","gap-4","sm:col-span-2","md:gap-4","sm:grid-cols-2"],[1,"grid","gap-4","sm:col-span-2","md:gap-4","sm:grid-cols-3"],[1,"sm:col-span-2","relative","md:block"],[1,"flex","flex-row","gap-4","absolute","z-10","right-1","top-1"],["type","button",1,"w-auto","justify-center","inline-flex","text-white","bg-primary-main","hover:bg-primary-hover","hover:text-white","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],[1,"sm:col-span-2"],["height","400px","width","100%",3,"mapClick","center","zoom"],[3,"position"],[4,"ngIf"],["for","alamat",1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"text-red-500"],["id","alamat","name","alamt","rows","4","autocomplete","off","formControlName","alamat","placeholder","Alamat","formControlName","alamat",1,"block","p-2.5","w-full","text-sm","text-gray-900","bg-gray-50","rounded-lg","border","border-gray-300","focus:ring-primary-500","focus:border-primary-500"],[1,"grid","gap-4","sm:col-span-2","md:gap-6","sm:grid-cols-2"],["for","rt",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["prappdbInputHanyaNomor","","autocomplete","off","type","text","name","rt","id","rt","placeholder","Nomor RT","formControlName","rt",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"maxLength","zero"],["for","rw",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["prappdbInputHanyaNomor","","autocomplete","off","type","text","name","rw","id","rw","placeholder","Nomor RW","formControlName","rw",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"maxLength","zero"],[1,"grid","gap-4","sm:col-span-2","md:gap-6","sm:grid-cols-4"],["for","provinsi_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["id","provinsi_id","name","provinsi_id","formControlName","provinsi_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],["value","null"],[4,"ngFor","ngForOf"],["for","kabupaten_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["id","kabupaten_id","name","kabupaten_id","formControlName","kabupaten_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],["for","kecamatan_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["id","kecamatan_id","name","kecamatan_id","formControlName","kecamatan_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],["for","kelurahan_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["id","kelurahan_id","name","kelurahan_id","formControlName","kelurahan_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],[1,"mb-4"],[1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"flex","justify-center","items-center","w-full"],["for","dropzone-file",1,"flex","flex-col","justify-center","items-center","w-full","h-64","bg-gray-50","rounded-lg","border-2","border-gray-300","border-dashed","cursor-pointerhover:bg-gray-100"],[1,"flex","flex-col","justify-center","items-center","pt-5","pb-6"],["id","dropzone-file","type","file",1,"hidden",3,"change"],["for","no_kk",1,"mb-2","text-sm","font-medium","text-gray-900"],["prappdbInputHanyaNomor","","type","text","name","no_kk","id","no_kk","placeholder","Nomor Kartu Keluarga","formControlName","no_kk",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"maxLength","zero"],["for","tanggal_kk",1,"mb-2","text-sm","font-medium","text-gray-900"],["type","date","name","tanggal_kk","id","tanggal_kk","placeholder","Tanggal Kartu Keluarga","formControlName","tanggal_kk",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5"],["for","nama_ibu",1,"mb-2","text-sm","font-medium","text-gray-900"],["prappdbInputHanyaHuruf","","type","text","name","nama_ibu","id","nama_ibu","placeholder","Nama Ibu","formControlName","nama_ibu",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5"],["for","nik",1,"mb-2","text-sm","font-medium","text-gray-900"],["prappdbInputHanyaNomor","","type","text","name","no_wa","id","no_wa","placeholder","Nomor Whatsapp","formControlName","no_wa",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"maxLength"],[1,"flex"],["prappdbInputHanyaNomor","","type","text","name","lama_tinggal","id","lama_tinggal","placeholder","Lama Tinggal","formControlName","lama_tinggal",1,"rounded-none","rounded-s-lg","bg-gray-50","border","text-gray-900","focus:ring-blue-500","focus:border-blue-500","block","flex-1","min-w-0","w-full","text-sm","border-gray-300","p-2.5",3,"maxLength"],[1,"inline-flex","items-center","px-3","text-sm","text-gray-900","bg-gray-200","border","rounded-e-0","border-gray-300","border-e-0","rounded-e-md"],["for","smp_tujuan",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["id","kel","name","sekolah_asal","id","sekolah_asal","formControlName","sekolah_tujuan",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],[1,"items-center","space-y-4","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["type","submit",1,"w-full","sm:w-auto","justify-center","items-center","inline-flex","gap-3","text-white","bg-primary-main","hover:bg-primary-hover","hover:text-white","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],[3,"mapClick","position"],[1,"fixed","flex","justify-center","items-start","inset-0","z-50","bg-gray-300","bg-opacity-65","w-full","h-full"],[3,"view","lokasi"],["role","alert",1,"mt-1","flex","items-center","p-2","mb-4","text-xs","text-red-800","rounded-lg","bg-red-50"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"font-medium"],[3,"value"],["aria-hidden","true","fill","none","stroke","currentColor","viewbox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"mb-3","w-10","h-10","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"mb-3","w-10","h-10","text-gray-400"],["fill-rule","evenodd","d","M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["target","_blank","rel","noopener noreferrer",1,"font-medium","text-md","hover:underline",3,"href"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["role","alert",1,"p-4","mb-4","text-sm","text-blue-800","rounded-lg","bg-blue-50"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(r,o){if(r&1){let b=I();e(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3",5),i(4," Edit Data Siswa "),t(),e(5,"button",6),x("click",function(){return S(b),v(o.cancelEdit())}),c(),e(6,"svg",7),g(7,"path",8),t(),_(),e(8,"span",9),i(9,"Close modal"),t()()(),e(10,"div",10),p(11),e(12,"form",11,0),x("submit",function(){return S(b),v(o.updateDataSiswa())}),e(14,"h3",12),i(15,"Data Siswa"),t(),e(16,"div",13)(17,"div")(18,"label",14),i(19," NIK "),t(),e(20,"div",15),i(21),t()(),e(22,"div")(23,"label",14),i(24," Nama Lengkap "),t(),e(25,"div",15),i(26),t()(),e(27,"div",16)(28,"div")(29,"label",14),i(30," Tempat Lahir "),t(),e(31,"div",15),i(32),t()(),e(33,"div")(34,"label",14),i(35," Tanggal Lahir "),t(),e(36,"div",15),i(37),t()()(),e(38,"div",17)(39,"div")(40,"label",14),i(41," NISN "),t(),e(42,"div",15),i(43),t()(),e(44,"div")(45,"label",14),i(46," Sekolah Asal "),t(),e(47,"div",15),i(48),t()(),e(49,"div")(50,"label",14),i(51," NPSN "),t(),e(52,"div",15),i(53),t()()(),e(54,"div",18)(55,"div",19)(56,"button",20),x("click",function(){return S(b),v(o.alamatMapAction())}),e(57,"span"),i(58,"Lihat Alamat"),t()(),e(59,"button",20),x("click",function(){return S(b),v(o.openModalCariAlamat())}),e(60,"span"),i(61,"Cari Lokasi"),t()()(),e(62,"div",21)(63,"google-map",22),x("mapClick",function(E){return S(b),v(o.tambahMarkerMap(E))}),he(64,it,2,1,"map-marker",23,ce),t()()(),h(66,at,3,0,"ng-container",24)(67,nt,4,1,"ng-container",24),e(68,"div",21)(69,"label",25),i(70," Alamat "),e(71,"span",26),i(72,"*"),t()(),g(73,"textarea",27),h(74,rt,10,0,"ng-container",24),t(),e(75,"div",28)(76,"div")(77,"label",29),i(78," RT "),e(79,"span",26),i(80,"*"),t()(),g(81,"input",30),h(82,ot,10,0,"ng-container",24),t(),e(83,"div")(84,"label",31),i(85," RW "),e(86,"span",26),i(87,"*"),t()(),g(88,"input",32),h(89,lt,10,0,"ng-container",24),t()(),e(90,"div",33)(91,"div")(92,"label",34),i(93," Provinsi "),e(94,"span",26),i(95,"*"),t()(),e(96,"select",35),x("change",function(E){return S(b),v(o.onProvinsiChange(E))}),e(97,"option",36),i(98,"Pilih Provinsi"),t(),h(99,st,3,2,"ng-container",37),t(),h(100,mt,10,0,"ng-container",24),t(),e(101,"div")(102,"label",38),i(103," Kota / Kab "),e(104,"span",26),i(105,"*"),t()(),e(106,"select",39),x("change",function(E){return S(b),v(o.onKabupatenChange(E))}),e(107,"option",36),i(108,"Pilih Kota / Kab"),t(),h(109,dt,3,2,"ng-container",37),t(),h(110,pt,10,0,"ng-container",24),t(),e(111,"div")(112,"label",40),i(113," Kecamatan "),e(114,"span",26),i(115,"*"),t()(),e(116,"select",41),x("change",function(E){return S(b),v(o.onKecamatanChange(E))}),e(117,"option",36),i(118,"Pilih Kecamatan"),t(),h(119,ut,3,2,"ng-container",37),t(),h(120,gt,10,0,"ng-container",24),t(),e(121,"div")(122,"label",42),i(123," Kelurahan "),e(124,"span",26),i(125,"*"),t()(),e(126,"select",43),x("change",function(E){return S(b),v(o.onKelurahanChange(E))}),e(127,"option",36),i(128,"Pilih Kota"),t(),h(129,ct,3,2,"ng-container",37),t(),h(130,ht,10,0,"ng-container",24),t()()(),e(131,"div",44)(132,"span",45),i(133," Upload Kartu Keluarga "),e(134,"span",26),i(135,"*"),t()(),e(136,"div",46)(137,"label",47)(138,"div",48),h(139,ft,8,0,"ng-container",24)(140,_t,7,2,"ng-container",24),t(),e(141,"input",49),x("change",function(E){return S(b),v(o.uploadKK(E))}),t()()(),h(142,St,10,0,"ng-container",24),t(),e(143,"div",13)(144,"div")(145,"label",50),i(146," Nomor Kartu Keluarga (format .jpeg/ .jpg/ .png) "),e(147,"span",26),i(148,"*"),t()(),g(149,"input",51),h(150,vt,10,0,"ng-container",24),t(),e(151,"div")(152,"label",52),i(153," Tanggal Terbit Kartu Keluarga "),e(154,"span",26),i(155,"*"),t()(),g(156,"input",53),h(157,xt,10,0,"ng-container",24),t(),e(158,"div",33)(159,"div")(160,"label",54),i(161," Nama Ibu "),e(162,"span",26),i(163,"*"),t()(),g(164,"input",55),h(165,bt,10,0,"ng-container",24),t(),e(166,"div")(167,"label",56),i(168," Nomor Whatsapp "),e(169,"span",26),i(170,"*"),t()(),g(171,"input",57),h(172,wt,10,0,"ng-container",24),t(),e(173,"div")(174,"label",56),i(175," Lama Tinggal "),e(176,"span",26),i(177,"*"),t()(),e(178,"div",58),g(179,"input",59),e(180,"span",60),i(181," Tahun "),t()(),h(182,kt,10,0,"ng-container",24),t(),e(183,"div")(184,"label",61),i(185," SMPN Tujuan "),e(186,"span",26),i(187,"*"),t()(),e(188,"select",62),x("change",function(E){return S(b),v(o.onSekolahTujuanChange(E))}),e(189,"option",36),i(190,"Pilih Sekolah Tujuan"),t(),h(191,Ct,3,2,"ng-container",37),t(),h(192,Et,10,0,"ng-container",24),t()()(),h(193,yt,4,0,"ng-container",24),e(194,"div",63)(195,"button",64),x("click",function(){return S(b),v(o.batal())}),e(196,"span"),i(197,"Batal"),t()(),e(198,"button",65),h(199,Ft,2,0,"ng-container",24)(200,Dt,5,0,"ng-container",24),t()()(),u(),t()()()}r&2&&(l(12),m("formGroup",o.editDataSiswaForm),l(9),A(" ",o.datasSiswa.nik,""),l(5),A(" ",o.datasSiswa.n_siswa,""),l(6),A(" ",o.datasSiswa.t_lahir,""),l(5),A(" ",o.datasSiswa.d_lahir,""),l(6),A(" ",o.datasSiswa.nisn,""),l(5),A(" ",o.datasSiswa.sekolah_asal,""),l(5),A(" ",o.datasSiswa.npsn,""),l(10),m("center",o.center)("zoom",o.zoom),l(),fe(o.markerPositions),l(2),m("ngIf",o.viewModalCariAlamat),l(),m("ngIf",o.isalamtMap),l(7),m("ngIf",o.noAlamat),l(7),m("maxLength",3)("zero",!0),l(),m("ngIf",o.noRt),l(6),m("maxLength",3)("zero",!0),l(),m("ngIf",o.noRw),l(10),m("ngForOf",o.provinsi),l(),m("ngIf",o.noProvinsi),l(9),m("ngForOf",o.kabupaten),l(),m("ngIf",o.noKota),l(9),m("ngForOf",o.kecamatan),l(),m("ngIf",o.noKecamatan),l(9),m("ngForOf",o.kelurahan),l(),m("ngIf",o.noKelurahan),l(9),m("ngIf",o.nameFile===null),l(),m("ngIf",o.nameFile!==null),l(2),m("ngIf",o.noNameSertifikat),l(7),m("maxLength",16)("zero",!1),l(),m("ngIf",o.noNomorKk),l(7),m("ngIf",o.noTanggalKk),l(8),m("ngIf",o.noNamaIbu),l(6),m("maxLength",13),l(),m("ngIf",o.noNomorWa),l(7),m("maxLength",3),l(3),m("ngIf",o.noLamaTinggal),l(9),m("ngForOf",o.sekolahTujuan),l(),m("ngIf",o.noSekolahTujuan),l(),m("ngIf",o.editDataSiswaGangguan),l(6),m("ngIf",!o.isLoading),l(),m("ngIf",o.isLoading))},dependencies:[te,N,W,X,Y,K,Q,O,q,Z,B,Te,Ve,Ke,je,Ge]});let n=s;return n})();function Vt(n,s){if(n&1&&(p(0),e(1,"option",32),i(2),t(),u()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),D(d.n_jenis_afirmasi)}}function It(n,s){n&1&&(p(0),e(1,"div",33),c(),e(2,"svg",34),g(3,"path",35),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",36),i(8,"Penting!"),t(),i(9," Jenis afirmasi harap diisi "),t()(),u())}function At(n,s){n&1&&(p(0),e(1,"div",33),c(),e(2,"svg",34),g(3,"path",35),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",36),i(8,"Penting!"),t(),i(9," Nomor kartu harap diisi "),t()(),u())}function Mt(n,s){n&1&&(p(0),c(),e(1,"svg",37),g(2,"path",38),t(),_(),e(3,"p",39)(4,"span",40),i(5,"Click to upload"),t()(),e(6,"p",41),i(7,"Hanya file berformat PNG, JPG, PDF "),t(),u())}function Pt(n,s){if(n&1&&(p(0),c(),e(1,"svg",42),g(2,"path",43)(3,"path",44),t(),_(),e(4,"a",45)(5,"p",39),i(6),t()(),u()),n&2){let d=C();l(4),m("href",d.afirmasiData.file_url,$),l(2),A(" ",d.nameFile," ")}}function Lt(n,s){n&1&&(p(0),e(1,"div",33),c(),e(2,"svg",34),g(3,"path",35),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",36),i(8,"Penting!"),t(),i(9," Harap mengupload kartu keluarga "),t()(),u())}function jt(n,s){n&1&&(p(0),i(1," Update Data "),u())}function Nt(n,s){n&1&&(p(0),c(),e(1,"svg",46),g(2,"path",47)(3,"path",48),t(),i(4," Loading... "),u())}var $e=(()=>{let s=class s{constructor(a,r,o){this.fb=a,this.callApiServe=r,this.responServe=o,this.destroy=new L,this.view=new R,this.nik=null,this.nisn=null,this.siswa_id=null,this.editAfirmasiGangguan=!1,this.afirmasiFormData=null,this.afirmasiData=Be,this.jenis=Ze,this.jenisError=!1,this.isLoading=!1,this.nameFile=null,this.messageError=null}ngOnInit(){this.dataAfirmasiForm(),this.dataAfirmasi(),this.getJenis()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}dataAfirmasiForm(){this.editAfirmasiForm=this.fb.group({jns_afirmasi_id:[null,[k.required]],no_kartu:[null,[k.required]],name_file:[null,[k.required]],file:[null]})}dataAfirmasi(){this.callApiServe.getWithParam("siswa/afirmasi","siswa_id",this.siswa_id).pipe(P(a=>a.data),f(a=>this.afirmasiData=a),f(a=>{this.editAfirmasiForm.get("jns_afirmasi_id")?.setValue(a.tmjenis_afirmasi_id),this.editAfirmasiForm.get("no_kartu")?.setValue(a.nomor),this.editAfirmasiForm.get("name_file")?.setValue(a.file_name),this.editAfirmasiForm.get("file")?.setValue(a.file_url),this.nameFile=a.file_name}),y(this.destroy)).subscribe()}getJenis(){this.callApiServe.get("afirmasi").pipe(f(()=>this.jenisError=!1),y(this.destroy)).subscribe({next:a=>{this.jenis=a.data},error:a=>{this.jenisError=!0}})}onJenisChange(a){return T(this,null,function*(){yield this.editAfirmasiForm.get("jns_afirmasi_id")?.setValue(a.target.value)})}get nikControl(){return this.editAfirmasiForm.get("nik")}get noNik(){return this.nikControl.hasError("required")&&this.nikControl.touched}get nisnControl(){return this.editAfirmasiForm.get("nisn")}get noNisn(){return this.nisnControl.hasError("required")&&this.nisnControl.touched}get jenisAfirmasiIdControl(){return this.editAfirmasiForm.get("jns_afirmasi_id")}get noJenisAfirmasiId(){return this.jenisAfirmasiIdControl.hasError("required")&&this.jenisAfirmasiIdControl.touched}get nomorKartuControl(){return this.editAfirmasiForm.get("no_kartu")}get noNomorKartu(){return this.nomorKartuControl.hasError("required")&&this.nomorKartuControl.touched}get nameSertifikatControl(){return this.editAfirmasiForm.get("name_file")}get noNameSertifikat(){return this.nameSertifikatControl.hasError("required")&&this.nameSertifikatControl.touched}uploadFile(a){return T(this,null,function*(){try{let r=yield a.target.files[0];if(yield this.editAfirmasiForm.patchValue({file:r}),yield this.editAfirmasiForm.patchValue({name_file:r.name}),r.type!=="image/png"&&r.type!=="image/jpg"&&r.type!=="image/jpeg"&&r.type!=="application/pdf")throw new Error("Format File tidak diizinkan");this.nameFile=r.name}catch{}})}okTambah(){M(this.editAfirmasiForm.valid).pipe(f(()=>this.isLoading=!0),P(a=>{if(!a)throw Object.values(this.editAfirmasiForm.controls).forEach(r=>{r.markAsTouched()}),new Error("harap mengisi form data");return a}),f(a=>{this.afirmasiFormData=new FormData,this.afirmasiFormData.append("nik",this.nik),this.afirmasiFormData.append("nisn",this.nisn),this.afirmasiFormData.append("jns_afirmasi_id",this.editAfirmasiForm.get("jns_afirmasi_id")?.value),this.afirmasiFormData.append("no_kartu",this.editAfirmasiForm.get("no_kartu")?.value),this.afirmasiFormData.append("file",this.editAfirmasiForm.get("file")?.value)}),V(()=>this.callApiServe.post(this.afirmasiFormData,"siswa/simpan/afirmasi")),V(()=>this.callApiServe.post({nik:this.nik,nisn:this.nisn},"siswa/simpan/konfirmasi")),f(a=>this.responServe.updateRespon({mode:"success",pesan:a.message})),f(()=>{this.dataAfirmasiForm(),this.view.emit(!1)}),G(a=>{throw this.isLoading=!1,this.responServe.updateRespon({mode:"error",pesan:a.error.message}),a}),f(()=>this.isLoading=!1),H(5e3),y(this.destroy)).subscribe()}cancelEdit(){this.view.emit(!1)}batal(){M(this.dataAfirmasiForm()).pipe(f(()=>this.view.emit(!1)),y(this.destroy)).subscribe()}};s.\u0275fac=function(r){return new(r||s)(F(z),F(U),F(J))},s.\u0275cmp=j({type:s,selectors:[["prappdb-form-edit-afirmasi"]],inputs:{nik:"nik",nisn:"nisn",siswa_id:"siswa_id"},outputs:{view:"view"},decls:55,vars:9,consts:[["formDir","ngForm"],[1,"relative","w-auto","p-1","md:p-4"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t"],[1,"text-xl","font-semibold","text-gray-900"],["type","button","data-modal-hide","authentication-modal",1,"end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"modal-prestasi","p-4","md:p-5","max-h-96","overflow-y-auto"],["enctype","multipart/form-data",1,"space-y-4","pb-1",3,"submit","formGroup"],[1,"mb-4","text-lg","font-medium","leading-none","text-gray-900"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],["for","jns_afirmasi_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"text-red-500"],["name","jns_afirmasi_id","id","jns_afirmasi_id","formControlName","jns_afirmasi_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],["value","null"],[4,"ngFor","ngForOf"],[4,"ngIf"],["for","no_kartu",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","text","name","no_kartu","id","no_kartu","placeholder","Nomor Kartu","formControlName","no_kartu",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],[1,"mb-4"],[1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"flex","justify-center","items-center","w-full"],["for","dropzone-file",1,"flex","flex-col","justify-center","items-center","w-full","h-64","bg-gray-50","rounded-lg","border-2","border-gray-300","border-dashed","cursor-pointerhover:bg-gray-100"],[1,"flex","flex-col","justify-center","items-center","pt-5","pb-6"],["id","dropzone-file","type","file",1,"hidden",3,"change"],[1,"items-center","space-y-4","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"gap-1","w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["fill-rule","evenodd","d","M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z","clip-rule","evenodd"],["type","submit",1,"w-full","sm:w-auto","justify-center","items-center","inline-flex","gap-3","text-white","bg-primary-main","hover:bg-primary-hover","hover:text-white","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],[3,"value"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"font-medium"],["aria-hidden","true","fill","none","stroke","currentColor","viewbox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"mb-3","w-10","h-10","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"mb-3","w-10","h-10","text-gray-400"],["fill-rule","evenodd","d","M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["target","_blank","rel","noopener noreferrer",1,"font-medium","text-md","hover:underline",3,"href"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(r,o){if(r&1){let b=I();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),i(4," Edit Data Afirmasi "),t(),e(5,"button",5),x("click",function(){return S(b),v(o.cancelEdit())}),c(),e(6,"svg",6),g(7,"path",7),t(),_(),e(8,"span",8),i(9,"Close modal"),t()()(),e(10,"div",9),p(11),e(12,"form",10,0),x("submit",function(){return S(b),v(o.okTambah())}),e(14,"h3",11),i(15," Bukti Afirmasi atau Disabilitas "),t(),e(16,"div",12)(17,"div")(18,"label",13),i(19," Kategori "),e(20,"span",14),i(21,"*"),t()(),e(22,"select",15),x("change",function(E){return S(b),v(o.onJenisChange(E))}),e(23,"option",16),i(24,"Pilih Kategori Tujuan"),t(),h(25,Vt,3,2,"ng-container",17),t(),h(26,It,10,0,"ng-container",18),t(),e(27,"div")(28,"label",19),i(29," Nomor Kartu/Surat "),e(30,"span",14),i(31,"*"),t()(),g(32,"input",20),h(33,At,10,0,"ng-container",18),t()(),e(34,"div",21)(35,"span",22),i(36," Upload Kartu/ Surat (format .jpeg/ .jpg/ .png / .pdf) "),e(37,"span",14),i(38,"*"),t()(),e(39,"div",23)(40,"label",24)(41,"div",25),h(42,Mt,8,0,"ng-container",18)(43,Pt,7,2,"ng-container",18),t(),e(44,"input",26),x("change",function(E){return S(b),v(o.uploadFile(E))}),t()()(),h(45,Lt,10,0,"ng-container",18),t(),e(46,"div",27)(47,"button",28),x("click",function(){return S(b),v(o.batal())}),c(),e(48,"svg",29),g(49,"path",30),t(),_(),e(50,"span"),i(51,"Batal"),t()(),e(52,"button",31),h(53,jt,2,0,"ng-container",18)(54,Nt,5,0,"ng-container",18),t()()(),u(),t()()()}r&2&&(l(12),m("formGroup",o.editAfirmasiForm),l(13),m("ngForOf",o.jenis),l(),m("ngIf",o.noJenisAfirmasiId),l(7),m("ngIf",o.noNomorKartu),l(9),m("ngIf",o.nameFile===null),l(),m("ngIf",o.nameFile!==null),l(2),m("ngIf",o.noNameSertifikat),l(8),m("ngIf",!o.isLoading),l(),m("ngIf",o.isLoading))},dependencies:[te,N,W,X,Y,K,Q,O,q,Z,B]});let n=s;return n})();function Ht(n,s){n&1&&(p(0),e(1,"div",25),c(),e(2,"svg",26),g(3,"path",27),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",28),i(8,"Danger alert!"),t(),i(9," Nomor surat harap diisi "),t()(),u())}function Rt(n,s){n&1&&(p(0),c(),e(1,"svg",29),g(2,"path",30),t(),_(),e(3,"p",31)(4,"span",32),i(5,"Click to upload"),t()(),e(6,"p",33),i(7,"Hanya file berformat PNG, JPG, PDF "),t(),u())}function Kt(n,s){if(n&1&&(p(0),c(),e(1,"svg",34),g(2,"path",35)(3,"path",36),t(),_(),e(4,"a",37)(5,"p",31),i(6),t()(),u()),n&2){let d=C();l(4),m("href",d.editAnakGuru.file_url,$),l(2),A(" ",d.nameFile," ")}}function Ot(n,s){n&1&&(p(0),e(1,"div",25),c(),e(2,"svg",26),g(3,"path",27),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",28),i(8,"Danger alert!"),t(),i(9," Harap mengupload surat "),t()(),u())}function qt(n,s){n&1&&(p(0),i(1," Simpan dan Lanjut "),u())}function Wt(n,s){n&1&&(p(0),c(),e(1,"svg",38),g(2,"path",39)(3,"path",40),t(),i(4," Loading... "),u())}var Qe=(()=>{let s=class s{constructor(a,r,o){this.fb=a,this.callApiServe=r,this.responServe=o,this.destroy=new L,this.view=new R,this.nik=null,this.nisn=null,this.siswa_id=null,this.editAnakGuruGangguan=!1,this.editAnakGuruFormData=null,this.editAnakGuru=ze,this.jenisError=!1,this.isLoading=!1,this.nameFile=null,this.messageError=null}ngOnInit(){this.dataAnakGuruForm(),this.dataAnakGuru()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}dataAnakGuruForm(){this.editAnakGuruForm=this.fb.group({no_surat:[null,[k.required]],name_file:[null,[k.required]],file:[null]})}dataAnakGuru(){this.callApiServe.getWithParam("siswa/anak_guru","siswa_id",this.siswa_id).pipe(P(a=>a.data),f(a=>this.editAnakGuru=a),f(a=>{this.editAnakGuruForm.get("no_surat")?.setValue(a.no_sk),this.editAnakGuruForm.get("name_file")?.setValue(a.file_name),this.editAnakGuruForm.get("file")?.setValue(a.file_url),this.nameFile=a.file_name}),y(this.destroy)).subscribe()}get nomorSuratControl(){return this.editAnakGuruForm.get("no_surat")}get noNomorSUrat(){return this.nomorSuratControl.hasError("required")&&this.nomorSuratControl.touched}get nameSuratControl(){return this.editAnakGuruForm.get("name_file")}get noNameSurat(){return this.nameSuratControl.hasError("required")&&this.nameSuratControl.touched}get nameSertifikatControl(){return this.editAnakGuruForm.get("name_file")}get noNameSertifikat(){return this.nameSertifikatControl.hasError("required")&&this.nameSertifikatControl.touched}uploadFile(a){return T(this,null,function*(){try{let r=yield a.target.files[0];if(yield this.editAnakGuruForm.patchValue({file:r}),yield this.editAnakGuruForm.patchValue({name_file:r.name}),r.type!=="image/png"&&r.type!=="image/jpg"&&r.type!=="image/jpeg"&&r.type!=="application/pdf")throw new Error("Format File tidak diizinkan");this.nameFile=r.name}catch{}})}okTambah(){M(this.editAnakGuruForm.valid).pipe(f(()=>this.isLoading=!0),P(a=>{if(!a)throw Object.values(this.editAnakGuruForm.controls).forEach(r=>{r.markAsTouched()}),new Error("harap mengisi form data");return a}),f(a=>{this.editAnakGuruFormData=new FormData,this.editAnakGuruFormData.append("nik",this.nik),this.editAnakGuruFormData.append("nisn",this.nisn),this.editAnakGuruFormData.append("no_surat",this.editAnakGuruForm.get("no_surat")?.value),this.editAnakGuruFormData.append("file",this.editAnakGuruForm.get("file")?.value)}),V(()=>this.callApiServe.post(this.editAnakGuruFormData,"siswa/simpan/anak_guru")),V(()=>this.callApiServe.post({nik:this.nik,nisn:this.nisn},"siswa/simpan/konfirmasi")),f(a=>this.responServe.updateRespon({mode:"success",pesan:a.message})),f(()=>{this.dataAnakGuruForm(),this.view.emit(!1)}),G(a=>{throw this.isLoading=!1,this.responServe.updateRespon({mode:"error",pesan:a.error.message}),this.dataAnakGuruForm(),this.dataAnakGuru(),a}),f(()=>this.isLoading=!1),H(5e3),y(this.destroy)).subscribe()}cancelEdit(){this.view.emit(!1)}batal(){M(this.dataAnakGuruForm()).pipe(f(()=>this.view.emit(!1)),y(this.destroy)).subscribe()}};s.\u0275fac=function(r){return new(r||s)(F(z),F(U),F(J))},s.\u0275cmp=j({type:s,selectors:[["prappdb-form-edit-anak-guru"]],inputs:{nik:"nik",nisn:"nisn",siswa_id:"siswa_id"},outputs:{view:"view"},decls:42,vars:7,consts:[["formDir","ngForm"],[1,"relative","w-auto","p-1","md:p-4"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t"],[1,"text-xl","font-semibold","text-gray-900"],["type","button","data-modal-hide","authentication-modal",1,"end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"modal-prestasi","p-4","md:p-5","max-h-96","overflow-y-auto"],["enctype","multipart/form-data",1,"space-y-4","pb-1",3,"submit","formGroup"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],[1,"mb-4"],["for","no_surat",1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"text-red-500"],["type","text","name","no_surat","id","no_surat","placeholder","Nomor surat","formControlName","no_surat",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],[4,"ngIf"],[1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"flex","justify-center","items-center","w-full"],["for","dropzone-file",1,"flex","flex-col","justify-center","items-center","w-full","h-64","bg-gray-50","rounded-lg","border-2","border-gray-300","border-dashed","cursor-pointerhover:bg-gray-100"],[1,"flex","flex-col","justify-center","items-center","pt-5","pb-6"],["id","dropzone-file","type","file",1,"hidden",3,"change"],[1,"items-center","space-y-2","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"gap-1","w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["type","submit",1,"w-full","sm:w-auto","justify-center","items-center","inline-flex","gap-3","text-white","bg-primary-main","hover:bg-primary-hover","hover:text-white","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"font-medium"],["aria-hidden","true","fill","none","stroke","currentColor","viewbox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"mb-3","w-10","h-10","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"mb-3","w-10","h-10","text-gray-400"],["fill-rule","evenodd","d","M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["target","_blank","rel","noopener noreferrer",1,"font-medium","text-md","hover:underline",3,"href"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(r,o){if(r&1){let b=I();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),i(4," Edit Bukti Anak Guru "),t(),e(5,"button",5),x("click",function(){return S(b),v(o.cancelEdit())}),c(),e(6,"svg",6),g(7,"path",7),t(),_(),e(8,"span",8),i(9,"Close modal"),t()()(),e(10,"div",9),p(11),e(12,"form",10,0),x("submit",function(){return S(b),v(o.okTambah())}),g(14,"div",11),e(15,"div",12)(16,"div")(17,"label",13),i(18," Nomor SK Penugasan Mengajar "),e(19,"span",14),i(20,"*"),t()(),g(21,"input",15),h(22,Ht,10,0,"ng-container",16),t()(),e(23,"div",12)(24,"span",17),i(25," SK Penugasan Mengajar (format .jpeg/ .jpg/ .png / .pdf) "),e(26,"span",14),i(27,"*"),t()(),e(28,"div",18)(29,"label",19)(30,"div",20),h(31,Rt,8,0,"ng-container",16)(32,Kt,7,2,"ng-container",16),t(),e(33,"input",21),x("change",function(E){return S(b),v(o.uploadFile(E))}),t()()(),h(34,Ot,10,0,"ng-container",16),t(),e(35,"div",22)(36,"button",23),x("click",function(){return S(b),v(o.batal())}),e(37,"span"),i(38,"Batal"),t()(),e(39,"button",24),h(40,qt,2,0,"ng-container",16)(41,Wt,5,0,"ng-container",16),t()()(),u(),t()()()}r&2&&(l(12),m("formGroup",o.editAnakGuruForm),l(10),m("ngIf",o.noNomorSUrat),l(9),m("ngIf",o.nameFile===null),l(),m("ngIf",o.nameFile!==null),l(2),m("ngIf",o.noNameSurat),l(6),m("ngIf",!o.isLoading),l(),m("ngIf",o.isLoading))},dependencies:[N,W,K,O,q,Z,B]});let n=s;return n})();function Bt(n,s){n&1&&(p(0),e(1,"div",32),c(),e(2,"svg",33),g(3,"path",34),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",35),i(8,"Danger alert!"),t(),i(9," Nomor surat harap diisi "),t()(),u())}function zt(n,s){n&1&&(p(0),e(1,"div",32),c(),e(2,"svg",33),g(3,"path",34),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",35),i(8,"Danger alert!"),t(),i(9," Instansi wali harap diisi "),t()(),u())}function Ut(n,s){n&1&&(p(0),c(),e(1,"svg",36),g(2,"path",37),t(),_(),e(3,"p",38)(4,"span",39),i(5,"Click to upload"),t()(),e(6,"p",40),i(7,"Hanya file berformat PNG, JPG, PDF "),t(),u())}function Jt(n,s){if(n&1&&(p(0),c(),e(1,"svg",41),g(2,"path",42)(3,"path",43),t(),_(),e(4,"a",44)(5,"p",45),i(6),t()(),u()),n&2){let d=C();l(4),m("href",d.editPindahWali.file_url,$),l(2),A(" ",d.nameFile," ")}}function $t(n,s){n&1&&(p(0),e(1,"div",32),c(),e(2,"svg",33),g(3,"path",34),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",35),i(8,"Danger alert!"),t(),i(9," Harap mengupload surat "),t()(),u())}function Qt(n,s){n&1&&(p(0),i(1," Simpan dan Lanjut "),u())}function Xt(n,s){n&1&&(p(0),c(),e(1,"svg",46),g(2,"path",47)(3,"path",48),t(),i(4," Loading... "),u())}var Xe=(()=>{let s=class s{constructor(a,r,o){this.fb=a,this.callApiServe=r,this.responServe=o,this.destroy=new L,this.view=new R,this.nik=null,this.nisn=null,this.siswa_id=null,this.editPindahWaliGangguan=!1,this.editPindahWali=Ue,this.pindahWaliFormData=null,this.jenisError=!1,this.isLoading=!1,this.nameFile=null,this.messageError=null}ngOnInit(){this.dataPindahWaliForm(),this.dataPindahWali()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}dataPindahWaliForm(){this.editPindahWaliForm=this.fb.group({no_surat:[null,[k.required]],instansi_ortu:[null,[k.required]],name_file:[null,[k.required]],file:[null]})}dataPindahWali(){this.callApiServe.getWithParam("siswa/pindah_ortu","siswa_id",this.siswa_id).pipe(P(a=>a.data),f(a=>this.editPindahWali=a),f(a=>{this.editPindahWaliForm.get("no_surat")?.setValue(a.no_sk),this.editPindahWaliForm.get("instansi_ortu")?.setValue(a.instansi_ortu),this.editPindahWaliForm.get("name_file")?.setValue(a.file_name),this.editPindahWaliForm.get("file")?.setValue(a.file_url),this.nameFile=a.file_name}),y(this.destroy)).subscribe()}get nomorSuratControl(){return this.editPindahWaliForm.get("no_surat")}get noNomorSUrat(){return this.nomorSuratControl.hasError("required")&&this.nomorSuratControl.touched}get instansiOrtuControl(){return this.editPindahWaliForm.get("instansi_ortu")}get noInstansiOrtu(){return this.instansiOrtuControl.hasError("required")&&this.instansiOrtuControl.touched}get nameSuratControl(){return this.editPindahWaliForm.get("name_file")}get noNameSurat(){return this.nameSuratControl.hasError("required")&&this.nameSuratControl.touched}get nameSertifikatControl(){return this.editPindahWaliForm.get("name_file")}get noNameSertifikat(){return this.nameSertifikatControl.hasError("required")&&this.nameSertifikatControl.touched}onInstansiOrtu(a){return T(this,null,function*(){yield this.editPindahWaliForm.get("instansi_ortu")?.setValue(a.target.value)})}uploadFile(a){return T(this,null,function*(){try{let r=yield a.target.files[0];if(yield this.editPindahWaliForm.patchValue({file:r}),yield this.editPindahWaliForm.patchValue({name_file:r.name}),r.type!=="image/png"&&r.type!=="image/jpg"&&r.type!=="image/jpeg"&&r.type!=="application/pdf")throw new Error("Format File tidak diizinkan");this.nameFile=r.name}catch{}})}okTambah(){M(this.editPindahWaliForm.valid).pipe(f(()=>this.isLoading=!0),P(a=>{if(!a)throw Object.values(this.editPindahWaliForm.controls).forEach(r=>{r.markAsTouched()}),new Error("harap mengisi form data");return a}),f(a=>{this.pindahWaliFormData=new FormData,this.pindahWaliFormData.append("nik",this.nik),this.pindahWaliFormData.append("nisn",this.nisn),this.pindahWaliFormData.append("instansi_ortu",this.editPindahWaliForm.get("instansi_ortu")?.value),this.pindahWaliFormData.append("no_surat",this.editPindahWaliForm.get("no_surat")?.value),this.pindahWaliFormData.append("file",this.editPindahWaliForm.get("file")?.value)}),V(()=>this.callApiServe.post(this.pindahWaliFormData,"siswa/simpan/pindah_ortu")),V(()=>this.callApiServe.post({nik:this.nik,nisn:this.nisn},"siswa/simpan/konfirmasi")),f(a=>this.responServe.updateRespon({mode:"success",pesan:a.message})),f(()=>{this.dataPindahWaliForm(),this.view.emit(!1)}),G(a=>{throw this.isLoading=!1,this.responServe.updateRespon({mode:"error",pesan:a.error.message}),this.dataPindahWaliForm(),this.dataPindahWali(),a}),f(()=>this.isLoading=!1),H(5e3),y(this.destroy)).subscribe()}cancelEdit(){this.view.emit(!1)}batal(){M(this.dataPindahWaliForm()).pipe(f(()=>this.view.emit(!1)),y(this.destroy)).subscribe()}};s.\u0275fac=function(r){return new(r||s)(F(z),F(U),F(J))},s.\u0275cmp=j({type:s,selectors:[["prappdb-form-edit-pindah-ortu"]],inputs:{nik:"nik",nisn:"nisn",siswa_id:"siswa_id"},outputs:{view:"view"},decls:56,vars:8,consts:[["formDir","ngForm"],[1,"relative","w-auto","p-1","md:p-4"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t"],[1,"text-xl","font-semibold","text-gray-900"],["type","button","data-modal-hide","authentication-modal",1,"end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"modal-prestasi","p-4","md:p-5","max-h-96","overflow-y-auto"],["enctype","multipart/form-data",1,"space-y-4","pb-1",3,"submit","formGroup"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],["for","no_surat",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"text-red-500"],["type","text","name","no_surat","id","no_surat","placeholder","Nomor surat","formControlName","no_surat",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white"],[4,"ngIf"],["for","instansi_ortu",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","instansi_ortu","name","instansi_ortu","formControlName","instansi_ortu",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"change"],["value","null"],["value","negeri"],["value","swasta"],[1,"mb-4"],[1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"flex","justify-center","items-center","w-full"],["for","dropzone-file",1,"flex","flex-col","justify-center","items-center","w-full","h-64","bg-gray-50","rounded-lg","border-2","border-gray-300","border-dashed","cursor-pointer","dark:hover:bg-bray-800","dark:bg-gray-700","hover:bg-gray-100","dark:border-gray-600","dark:hover:border-gray-500","dark:hover:bg-gray-600"],[1,"flex","flex-col","justify-center","items-center","pt-5","pb-6"],["id","dropzone-file","type","file",1,"hidden",3,"change"],[1,"items-center","space-y-2","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"gap-1","w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["fill-rule","evenodd","d","M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z","clip-rule","evenodd"],["type","submit",1,"w-full","sm:w-auto","justify-center","items-center","inline-flex","gap-3","text-white","bg-primary-main","hover:bg-primary-hover","hover:text-white","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"font-medium"],["aria-hidden","true","fill","none","stroke","currentColor","viewbox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"mb-3","w-10","h-10","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500","dark:text-gray-400"],[1,"font-semibold"],[1,"text-xs","text-gray-500","dark:text-gray-400"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"mb-3","w-10","h-10","text-gray-400"],["fill-rule","evenodd","d","M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["target","_blank","rel","noopener noreferrer",1,"font-medium","text-md","hover:underline",3,"href"],[1,"mb-2","text-sm","text-gray-500"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(r,o){if(r&1){let b=I();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),i(4," Edit Data Perpindahan Orang tua/Wali "),t(),e(5,"button",5),x("click",function(){return S(b),v(o.cancelEdit())}),c(),e(6,"svg",6),g(7,"path",7),t(),_(),e(8,"span",8),i(9,"Close modal"),t()()(),e(10,"div",9),p(11),e(12,"form",10,0),x("submit",function(){return S(b),v(o.okTambah())}),e(14,"div",11)(15,"div")(16,"label",12),i(17," Nomor Surat "),e(18,"span",13),i(19,"*"),t()(),g(20,"input",14),h(21,Bt,10,0,"ng-container",15),t(),e(22,"div")(23,"label",16),i(24," Instansi Wali "),e(25,"span",13),i(26,"*"),t()(),e(27,"select",17),x("change",function(E){return S(b),v(o.onInstansiOrtu(E))}),e(28,"option",18),i(29,"Pilih Instansi"),t(),e(30,"option",19),i(31,"Negeri"),t(),e(32,"option",20),i(33,"Swasta"),t()(),h(34,zt,10,0,"ng-container",15),t()(),e(35,"div",21)(36,"span",22),i(37," Upload File (format .jpeg/ .jpg/ .png / .pdf) "),e(38,"span",13),i(39,"*"),t()(),e(40,"div",23)(41,"label",24)(42,"div",25),h(43,Ut,8,0,"ng-container",15)(44,Jt,7,2,"ng-container",15),t(),e(45,"input",26),x("change",function(E){return S(b),v(o.uploadFile(E))}),t()()(),h(46,$t,10,0,"ng-container",15),t(),e(47,"div",27)(48,"button",28),x("click",function(){return S(b),v(o.batal())}),c(),e(49,"svg",29),g(50,"path",30),t(),_(),e(51,"span"),i(52,"Batal"),t()(),e(53,"button",31),h(54,Qt,2,0,"ng-container",15)(55,Xt,5,0,"ng-container",15),t()()(),u(),t()()()}r&2&&(l(12),m("formGroup",o.editPindahWaliForm),l(9),m("ngIf",o.noNomorSUrat),l(13),m("ngIf",o.noInstansiOrtu),l(9),m("ngIf",o.nameFile===null),l(),m("ngIf",o.nameFile!==null),l(2),m("ngIf",o.noNameSurat),l(8),m("ngIf",!o.isLoading),l(),m("ngIf",o.isLoading))},dependencies:[N,W,X,Y,K,Q,O,q,Z,B]});let n=s;return n})();function ei(n,s){n&1&&(p(0),e(1,"div",36)(2,"span",37),i(3,"Info alert!"),t(),i(4," Sepertinya terjadi gangguan, harap mencoba kembali "),t(),u())}function ti(n,s){n&1&&(p(0),e(1,"div",38),c(),e(2,"svg",39),g(3,"path",40),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",37),i(8,"Danger alert!"),t(),i(9," Nama prestasi harap diisi "),t()(),u())}function ii(n,s){n&1&&(p(0),e(1,"div",38),c(),e(2,"svg",39),g(3,"path",40),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",37),i(8,"Danger alert!"),t(),i(9," Nomor sertifikat harap diisi "),t()(),u())}function ai(n,s){if(n&1&&(p(0),e(1,"option",41),i(2),t(),u()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),D(d.n_prestasikategori)}}function ni(n,s){n&1&&(p(0),e(1,"div",42),c(),e(2,"svg",39),g(3,"path",40),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",37),i(8,"Penting!"),t(),i(9," Kategori prestasi harap diisi "),t()(),u())}function ri(n,s){if(n&1&&(p(0),e(1,"option",41),i(2),t(),u()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),D(d.n_prestasi)}}function oi(n,s){n&1&&(p(0),e(1,"div",42),c(),e(2,"svg",39),g(3,"path",40),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",37),i(8,"Penting!"),t(),i(9," Tingkat prestasi harap diisi "),t()(),u())}function li(n,s){if(n&1&&(p(0),e(1,"option",41),i(2),t(),u()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),D(d.n_prestasibobot)}}function si(n,s){n&1&&(p(0),e(1,"div",42),c(),e(2,"svg",39),g(3,"path",40),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",37),i(8,"Penting!"),t(),i(9," Bobot prestasi harap diisi "),t()(),u())}function mi(n,s){n&1&&(p(0),c(),e(1,"svg",43),g(2,"path",44),t(),_(),e(3,"p",45)(4,"span",46),i(5,"Click to upload"),t()(),e(6,"p",47),i(7,"Hanya file berformat PNG, JPG, Pdf "),t(),u())}function di(n,s){if(n&1&&(p(0),c(),e(1,"svg",48),g(2,"path",49)(3,"path",50),t(),_(),e(4,"p",45),i(5),t(),u()),n&2){let d=C();l(5),A(" ",d.nameFile," ")}}function pi(n,s){n&1&&(p(0),e(1,"div",51),c(),e(2,"svg",39),g(3,"path",40),t(),_(),e(4,"span",8),i(5,"Info"),t(),e(6,"div")(7,"span",37),i(8,"Danger alert!"),t(),i(9," Harap mengupload surat "),t()(),u())}function ui(n,s){n&1&&(p(0),i(1," Tambah Data "),u())}function gi(n,s){n&1&&(p(0),c(),e(1,"svg",52),g(2,"path",53)(3,"path",54),t(),i(4," Loading... "),u())}var Ye=(()=>{let s=class s{constructor(a,r,o,b,w){this.fb=a,this.callApiServe=r,this.tahapanDaftarServe=o,this.hasilValidasiNikServe=b,this.responServe=w,this.destroy=new L,this.view=new R,this.nik=null,this.nisn=null,this.siswa_id=null,this.tambahPrestasiGangguan=!1,this.tambahPrestasiFormData=null,this.isLoading=!1,this.kategori=Oe,this.kategoriError=!1,this.tingkat=qe,this.tingkatError=!1,this.bobot=We,this.bobotError=!1,this.nameFile=null,this.toastSuccess=!1,this.messageError=!1}ngOnInit(){this.getKategori(),this.hasilValidasiNik()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}hasilValidasiNik(){this.tambahPrestasiForm=this.fb.group({kategori_id:[null,[k.required]],tingkat_id:[{value:null,disabled:!0},[k.required]],bobot_id:[{value:null,disabled:!0},[k.required]],nama_prestasi:[null,[k.required]],no_sertifikat:[null,[k.required]],name_file:[null,[k.required]],sertifikat:[""]})}getKategori(){this.callApiServe.get("kategori_prestasi").pipe(f(()=>this.kategoriError=!1),y(this.destroy)).subscribe({next:a=>{this.kategori=a.data},error:a=>{this.kategoriError=!0}})}onKategoriChange(a){return T(this,null,function*(){yield this.tambahPrestasiForm.get("kategori_id")?.setValue(a.target.value),yield this.tambahPrestasiForm.get("tingkat_id")?.enable(),yield this.getTingkat(a.target.value)})}getTingkat(a){this.callApiServe.getWithParam("tingkat_prestasi","kategori",a).pipe(f(()=>this.tingkatError=!1),y(this.destroy)).subscribe({next:r=>{this.tingkat=r.data},error:r=>{this.tingkatError=!0}})}onTingkatChange(a){return T(this,null,function*(){yield this.tambahPrestasiForm.get("tingkat_id")?.setValue(a.target.value),yield this.tambahPrestasiForm.get("bobot_id")?.enable(),yield this.getBobot(a.target.value)})}getBobot(a){this.callApiServe.getWithParam("bobot_prestasi","tingkat",a).pipe(f(()=>this.bobotError=!1),y(this.destroy)).subscribe({next:r=>{this.bobot=r.data},error:r=>{this.bobotError=!0}})}onBobotChange(a){return T(this,null,function*(){yield this.tambahPrestasiForm.get("bobot_id")?.setValue(a.target.value)})}get namaPrestasiControl(){return this.tambahPrestasiForm.get("nama_prestasi")}get noMamaPrestasi(){return this.namaPrestasiControl.hasError("required")&&this.namaPrestasiControl.touched}get bobotControl(){return this.tambahPrestasiForm.get("bobot_id")}get noBobot(){return this.bobotControl.hasError("required")&&this.bobotControl.touched}get nomorSertifikatControl(){return this.tambahPrestasiForm.get("no_sertifikat")}get noNomorSertifikat(){return this.nomorSertifikatControl.hasError("required")&&this.nomorSertifikatControl.touched}get namaSertifikatControl(){return this.tambahPrestasiForm.get("nama_sertifikat")}get noNamaSertifikat(){return this.namaSertifikatControl.hasError("required")&&this.namaSertifikatControl.touched}get kategoriControl(){return this.tambahPrestasiForm.get("kategori_id")}get noKategori(){return this.kategoriControl.hasError("required")&&this.kategoriControl.touched}get tingkatControl(){return this.tambahPrestasiForm.get("tingkat_id")}get noTingkat(){return this.tingkatControl.hasError("required")&&this.tingkatControl.touched}get nameSertifikatControl(){return this.tambahPrestasiForm.get("name_file")}get noNameSertifikat(){return this.nameSertifikatControl.hasError("required")&&this.nameSertifikatControl.touched}uploadSertifikat(a){return T(this,null,function*(){try{let r=yield a.target.files[0];if(console.log(r),yield this.tambahPrestasiForm.patchValue({sertifikat:r}),yield this.tambahPrestasiForm.patchValue({name_file:r.name}),r.type!=="image/png"&&r.type!=="image/jpg"&&r.type!=="image/jpeg"&&r.type!=="application/pdf")throw new Error("Format File tidak diizinkan");this.nameFile=r.name}catch(r){this.responServe.updateRespon({mode:"error",pesan:r.message})}})}cancelTambah(){this.view.emit(!1)}okTambah(){M(this.tambahPrestasiForm.valid).pipe(f(()=>this.isLoading=!0),P(a=>{if(!a)throw Object.values(this.tambahPrestasiForm.controls).forEach(r=>{r.markAsTouched()}),new Error("harap mengisi form data");return a}),V(()=>this.hasilValidasiNikServe.getHasilValidasiNik),f(a=>{this.tambahPrestasiFormData=new FormData,this.tambahPrestasiFormData.append("nik",a.nik),this.tambahPrestasiFormData.append("nisn",a.nisn),this.tambahPrestasiFormData.append("bobot_id",this.tambahPrestasiForm.get("bobot_id")?.value),this.tambahPrestasiFormData.append("nama_prestasi",this.tambahPrestasiForm.get("nama_prestasi")?.value),this.tambahPrestasiFormData.append("no_sertifikat",this.tambahPrestasiForm.get("no_sertifikat")?.value),this.tambahPrestasiFormData.append("sertifikat",this.tambahPrestasiForm.get("sertifikat")?.value)}),V(()=>this.callApiServe.post(this.tambahPrestasiFormData,"siswa/simpan/prestasi")),V(()=>this.callApiServe.post({nik:this.nik,nisn:this.nisn},"siswa/simpan/konfirmasi")),f(a=>this.responServe.updateRespon({mode:"success",pesan:a.message})),f(()=>{this.hasilValidasiNik(),this.view.emit(!1)}),f(()=>{let a=Fe;a.forEach(r=>{r.name==="data siswa"||r.name==="nilai rapor"?r.process="done":r.name==="afirmasi"&&(r.process="on proses")}),this.tahapanDaftarServe.updateStepRegistrasi(a,"register/prestasi")}),G(a=>{throw this.isLoading=!1,this.responServe.updateRespon({mode:"error",pesan:a.message}),a}),f(()=>this.isLoading=!1),H(5e3),y(this.destroy)).subscribe()}};s.\u0275fac=function(r){return new(r||s)(F(z),F(U),F(De),F(we),F(J))},s.\u0275cmp=j({type:s,selectors:[["prappdb-form-edit-prestasi"]],inputs:{nik:"nik",nisn:"nisn",siswa_id:"siswa_id"},outputs:{view:"view"},decls:79,vars:15,consts:[["formDir","ngForm"],[1,"relative","w-auto","p-1","md:p-4"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t"],[1,"text-xl","font-semibold","text-gray-900"],["type","button","data-modal-hide","authentication-modal",1,"end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"modal-prestasi","p-4","md:p-5","max-h-96","overflow-y-auto"],[4,"ngIf"],["enctype","multipart/form-data",1,"space-y-4",3,"submit","formGroup"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],["for","nama_prestasi",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"text-red-500"],["type","text","name","nama_prestasi","id","nama_prestasi","placeholder","Nama Prestasi","formControlName","nama_prestasi",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white"],["for","no_sertifikat",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","name","no_sertifikat","id","no_sertifikat","placeholder","Nama Prestasi","formControlName","no_sertifikat",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white"],[1,"grid","gap-4","sm:col-span-2","md:gap-6","sm:grid-cols-3"],["for","kategori_id",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["name","kategori_id","id","kategori_id","formControlName","kategori_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"change"],["value","null"],[4,"ngFor","ngForOf"],["for","tingkat_id",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["name","tingkat_id","id","tingkat_id","formControlName","tingkat_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"change"],["for","bobot_id",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["name","bobot_id","id","bobot_id","formControlName","bobot_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"change"],[1,"mb-4"],[1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"flex","justify-center","items-center","w-full"],["for","dropzone-file",1,"flex","flex-col","justify-center","items-center","w-full","h-64","bg-gray-50","rounded-lg","border-2","border-gray-300","border-dashed","cursor-pointerhover:bg-gray-100"],[1,"flex","flex-col","justify-center","items-center","pt-5","pb-6"],["id","dropzone-file","type","file",1,"hidden",3,"change"],[1,"items-center","space-y-2","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"gap-1","w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["type","submit",1,"w-full","sm:w-auto","justify-center","items-center","inline-flex","gap-3","text-white","bg-primary-main","hover:bg-primary-hover","hover:text-white","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],["role","alert",1,"p-4","mb-4","text-sm","text-blue-800","rounded-lg","bg-blue-50","dark:bg-gray-800","dark:text-blue-400"],[1,"font-medium"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[3,"value"],["role","alert",1,"mt-1","flex","items-center","p-2","mb-4","text-xs","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],["aria-hidden","true","fill","none","stroke","currentColor","viewbox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"mb-3","w-10","h-10","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"mb-3","w-10","h-10","text-gray-400"],["fill-rule","evenodd","d","M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(r,o){if(r&1){let b=I();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),i(4," Tambah Prestasi Siswa "),t(),e(5,"button",5),x("click",function(){return S(b),v(o.cancelTambah())}),c(),e(6,"svg",6),g(7,"path",7),t(),_(),e(8,"span",8),i(9,"Close modal"),t()()(),e(10,"div",9),h(11,ei,5,0,"ng-container",10),e(12,"form",11,0),x("submit",function(){return S(b),v(o.okTambah())}),e(14,"div",12)(15,"div")(16,"label",13),i(17," Nama Prestasi "),e(18,"span",14),i(19,"*"),t()(),g(20,"input",15),h(21,ti,10,0,"ng-container",10),t(),e(22,"div")(23,"label",16),i(24," Nomor Sertifikat Prestasi "),e(25,"span",14),i(26,"*"),t()(),g(27,"input",17),h(28,ii,10,0,"ng-container",10),t(),e(29,"div",18)(30,"div")(31,"label",19),i(32," Kategori "),e(33,"span",14),i(34,"*"),t()(),e(35,"select",20),x("change",function(E){return S(b),v(o.onKategoriChange(E))}),e(36,"option",21),i(37,"Pilih Kategori Tujuan"),t(),h(38,ai,3,2,"ng-container",22),t(),h(39,ni,10,0,"ng-container",10),t(),e(40,"div")(41,"label",23),i(42," Tingkat "),e(43,"span",14),i(44,"*"),t()(),e(45,"select",24),x("change",function(E){return S(b),v(o.onTingkatChange(E))}),e(46,"option",21),i(47,"Pilih Tingkat Tujuan"),t(),h(48,ri,3,2,"ng-container",22),t(),h(49,oi,10,0,"ng-container",10),t(),e(50,"div")(51,"label",25),i(52," Bobot "),e(53,"span",14),i(54,"*"),t()(),e(55,"select",26),x("change",function(E){return S(b),v(o.onBobotChange(E))}),e(56,"option",21),i(57,"Pilih Tingkat Tujuan"),t(),h(58,li,3,2,"ng-container",22),t(),h(59,si,10,0,"ng-container",10),t()()(),e(60,"div",27)(61,"span",28),i(62," Upload File (format .jpeg/ .jpg/ .png / .pdf) "),e(63,"span",14),i(64,"*"),t()(),e(65,"div",29)(66,"label",30)(67,"div",31),h(68,mi,8,0,"ng-container",10)(69,di,6,1,"ng-container",10),t(),e(70,"input",32),x("change",function(E){return S(b),v(o.uploadSertifikat(E))}),t()()(),h(71,pi,10,0,"ng-container",10),t(),e(72,"div",33)(73,"button",34),x("click",function(){return S(b),v(o.cancelTambah())}),e(74,"span"),i(75,"Batal"),t()(),e(76,"button",35),h(77,ui,2,0,"ng-container",10)(78,gi,5,0,"ng-container",10),t()()()()()()}r&2&&(l(11),m("ngIf",o.tambahPrestasiGangguan),l(),m("formGroup",o.tambahPrestasiForm),l(9),m("ngIf",o.noMamaPrestasi),l(7),m("ngIf",o.noNomorSertifikat),l(10),m("ngForOf",o.kategori),l(),m("ngIf",o.noKategori),l(9),m("ngForOf",o.tingkat),l(),m("ngIf",o.noTingkat),l(9),m("ngForOf",o.bobot),l(),m("ngIf",o.noBobot),l(9),m("ngIf",o.nameFile===null),l(),m("ngIf",o.nameFile!==null),l(2),m("ngIf",o.noNameSertifikat),l(6),m("ngIf",!o.isLoading),l(),m("ngIf",o.isLoading))},dependencies:[te,N,W,X,Y,K,Q,O,q,Z,B]});let n=s;return n})();function hi(n,s){n&1&&(p(0),e(1,"li",15)(2,"span",16),i(3," 2 "),t(),e(4,"span")(5,"h3",7),i(6,"Proses Verifikasi"),t()()(),e(7,"li",15)(8,"span",16),i(9," 3 "),t(),e(10,"span")(11,"h3",7),i(12,"Hasil Verifikasi"),t()()(),u())}function fi(n,s){n&1&&(p(0),e(1,"li",3)(2,"span",4),c(),e(3,"svg",5),g(4,"path",6),t()(),_(),e(5,"span")(6,"h3",7),i(7,"Proses Verifikasi"),t()()(),e(8,"li",15)(9,"span",16),i(10," 3 "),t(),e(11,"span")(12,"h3",7),i(13,"Hasil Verifikasi"),t()()(),u())}function _i(n,s){n&1&&(p(0),e(1,"li",3)(2,"span",4),c(),e(3,"svg",5),g(4,"path",6),t()(),_(),e(5,"span")(6,"h3",7),i(7,"Proses Verifikasi"),t()()(),e(8,"li",3)(9,"span",4),c(),e(10,"svg",5),g(11,"path",6),t()(),_(),e(12,"span")(13,"h3",7),i(14,"Hasil Verifikasi"),t()()(),u())}function Si(n,s){n&1&&(p(0),e(1,"li",3)(2,"span",4),c(),e(3,"svg",5),g(4,"path",6),t()(),_(),e(5,"span")(6,"h3",7),i(7,"Proses Verifikasi"),t()()(),e(8,"li",3)(9,"span",4),c(),e(10,"svg",5),g(11,"path",6),t()(),_(),e(12,"span")(13,"h3",7),i(14,"Hasil Verifikasi"),t()()(),u())}function vi(n,s){if(n&1){let d=I();p(0),e(1,"div")(2,"label",11),i(3," Status "),t(),e(4,"div",17)(5,"span",13),i(6),t(),c(),e(7,"svg",5),g(8,"path",18),t()()(),_(),e(9,"div")(10,"label",11),i(11," PIN "),t(),e(12,"div",19)(13,"span",20),i(14),t(),e(15,"button",21),x("click",function(){S(d);let r=C();return v(r.copyContent())}),c(),e(16,"svg",5),g(17,"path",22)(18,"path",23),t()()()(),u()}if(n&2){let d=C();l(6),D(d.hasilRegistrasi.status),l(8),D(d.hasilRegistrasi.pin)}}function xi(n,s){n&1&&(p(0),e(1,"label",24),i(2," Status "),t(),u())}function bi(n,s){if(n&1){let d=I();p(0),e(1,"button",25),x("click",function(){S(d);let r=C();return v(r.modalFormEditData())}),e(2,"span",26),i(3),t(),e(4,"span",27),i(5),t(),c(),e(6,"svg",28),g(7,"path",29),t()(),u()}if(n&2){let d=C();l(3),D(d.hasilRegistrasi.status),l(2),D(d.hasilRegistrasi.keterangan)}}function wi(n,s){if(n&1&&(p(0),e(1,"div",30),c(),e(2,"svg",31),g(3,"path",32),t(),_(),e(4,"span"),i(5),t()(),u()),n&2){let d=C();l(5),D(d.hasilRegistrasi.status)}}function ki(n,s){if(n&1){let d=I();p(0),e(1,"prappdb-form-edit-data-siswa",34),x("view",function(r){S(d);let o=C(3);return v(o.closeModalFormEditData(r))}),t(),u()}if(n&2){let d=C(3);l(),m("nik",d.hasilRegistrasi.nik)("nisn",d.hasilRegistrasi.nisn)}}function Ci(n,s){if(n&1){let d=I();p(0),e(1,"prappdb-form-edit-prestasi",35),x("view",function(r){S(d);let o=C(3);return v(o.closeModalFormEditData(r))}),t(),u()}if(n&2){let d=C(3);l(),m("nik",d.hasilRegistrasi.nik)("nisn",d.hasilRegistrasi.nisn)("siswa_id",d.hasilRegistrasi.siswa_id)}}function Ei(n,s){if(n&1){let d=I();p(0),e(1,"prappdb-form-edit-afirmasi",35),x("view",function(r){S(d);let o=C(3);return v(o.closeModalFormEditData(r))}),t(),u()}if(n&2){let d=C(3);l(),m("nik",d.hasilRegistrasi.nik)("nisn",d.hasilRegistrasi.nisn)("siswa_id",d.hasilRegistrasi.siswa_id)}}function yi(n,s){if(n&1){let d=I();p(0),e(1,"prappdb-form-edit-anak-guru",35),x("view",function(r){S(d);let o=C(3);return v(o.closeModalFormEditData(r))}),t(),u()}if(n&2){let d=C(3);l(),m("nik",d.hasilRegistrasi.nik)("nisn",d.hasilRegistrasi.nisn)("siswa_id",d.hasilRegistrasi.siswa_id)}}function Fi(n,s){if(n&1){let d=I();p(0),e(1,"prappdb-form-edit-pindah-ortu",35),x("view",function(r){S(d);let o=C(3);return v(o.closeModalFormEditData(r))}),t(),u()}if(n&2){let d=C(3);l(),m("nik",d.hasilRegistrasi.nik)("nisn",d.hasilRegistrasi.nisn)("siswa_id",d.hasilRegistrasi.siswa_id)}}function Di(n,s){if(n&1&&(p(0),e(1,"div",33),h(2,ki,2,2,"ng-container",8)(3,Ci,2,3,"ng-container",8)(4,Ei,2,3,"ng-container",8)(5,yi,2,3,"ng-container",8)(6,Fi,2,3,"ng-container",8),t(),u()),n&2){let d=C(2);l(2),m("ngIf",d.hasilRegistrasi.verifikasi_tahap_no==="1"),l(),m("ngIf",d.hasilRegistrasi.verifikasi_tahap_no==="3"),l(),m("ngIf",d.hasilRegistrasi.verifikasi_tahap_no==="4"),l(),m("ngIf",d.hasilRegistrasi.verifikasi_tahap_no==="5"),l(),m("ngIf",d.hasilRegistrasi.verifikasi_tahap_no==="6")}}function Ti(n,s){if(n&1&&(p(0),h(1,Di,7,5,"ng-container",8),u()),n&2){let d=C();l(),m("ngIf",d.formEditData)}}var et=(()=>{let s=class s{constructor(a,r){this.cekRegistrasi=a,this.elementRef=r,this.hasilRegistrasi=ke,this.destroy=new L,this.formEditData=!1}ngOnInit(){this.dataCekRegistrasi()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}dataCekRegistrasi(){this.cekRegistrasi.getStepCekRegistrasi.pipe(f(a=>this.hasilRegistrasi=a),y(this.destroy)).subscribe()}modalFormEditData(){this.formEditData=!this.formEditData}closeModalFormEditData(a){this.formEditData=a}copyContent(){let a=this.elementRef.nativeElement.querySelector("#pin").innerHTML;navigator.clipboard.writeText(a).then(()=>{console.log("Content copied to clipboard")}).catch(r=>{console.error("Failed to copy: ",r)})}};s.\u0275fac=function(r){return new(r||s)(F(Ce),F(ge))},s.\u0275cmp=j({type:s,selectors:[["prappdb-lihat-data"]],decls:57,vars:15,consts:[[1,"flex","flex-col","md:items-center","justify-center","w-full"],[1,"flex","pt-20","px-6","md:justify-center","pb-10"],[1,"items-center","space-y-4","sm:flex","sm:space-x-8","sm:space-y-0","rtl:space-x-reverse"],[1,"flex","items-center","text-green-600","space-x-2.5","rtl:space-x-reverse"],[1,"flex","items-center","justify-center","w-8","h-8","border","border-green-600","rounded-full","shrink-0"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["fill-rule","evenodd","d","M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z","clip-rule","evenodd"],[1,"font-medium","leading-tight"],[4,"ngIf"],[1,"md:w-3/6","grid","gap-4","mb-4","sm:grid-cols-2","px-6"],[1,"sm:col-span-2"],[1,"block","mb-2","text-sm","font-medium","text-blue-900"],[1,"bg-blue-50","text-blue-900","text-sm","rounded-lg","block","w-full","p-2.5"],[1,"opacity-80"],[1,"self-center"],[1,"flex","items-center","text-gray-500","space-x-2.5","rtl:space-x-reverse"],[1,"flex","items-center","justify-center","w-8","h-8","border","border-gray-500","rounded-full","shrink-0"],[1,"animate-pulse","flex","justify-between","text-white","bg-green-500","hover:bg-secondary-main","hover:text-secondary-1","text-sm","rounded-lg","w-full","p-2.5"],["fill-rule","evenodd","d","M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],[1,"animate-pulse","flex","justify-between","bg-blue-50","text-blue-900","text-sm","rounded-lg","w-full","p-2.5"],["id","pin",1,"opacity-80"],["type","button",3,"click"],["d","M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z"],["d","M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z"],[1,"block","mb-2","text-sm","font-medium","text-blue-900","text-center"],["type","button",1,"inline-flex","justify-between","items-center","py-1","px-1","pr-4","mb-7","text-sm","text-blue-700","bg-blue-100","rounded-full","hover:bg-blue-200",3,"click"],[1,"animate-pulse","text-xs","bg-red-700","rounded-full","text-white","px-4","py-1.5","mr-3"],[1,"text-sm","font-medium"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"ml-2","w-5","h-5"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"animate-pulse","gap-1","w-full","sm:w-auto","justify-center","text-white","inline-flex","bg-primary-main","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5"],["fill-rule","evenodd","d","M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z","clip-rule","evenodd"],[1,"fixed","flex","justify-center","items-center","inset-0","z-50","bg-blue-300","bg-opacity-65","w-full","h-full"],[3,"view","nik","nisn"],[3,"view","nik","nisn","siswa_id"]],template:function(r,o){r&1&&(e(0,"div",0)(1,"div",1)(2,"ol",2)(3,"li",3)(4,"span",4),c(),e(5,"svg",5),g(6,"path",6),t()(),_(),e(7,"span")(8,"h3",7),i(9,"Pendaftaran"),t()()(),h(10,hi,13,0,"ng-container",8)(11,fi,14,0,"ng-container",8)(12,_i,15,0,"ng-container",8)(13,Si,15,0,"ng-container",8),t()(),e(14,"div",9)(15,"div",10)(16,"label",11),i(17," Nomor pendaftaran "),t(),e(18,"div",12)(19,"span",13),i(20),t()()(),e(21,"div")(22,"label",11),i(23," NIK "),t(),e(24,"div",12)(25,"span",13),i(26),t()()(),e(27,"div")(28,"label",11),i(29," NISN "),t(),e(30,"div",12)(31,"span",13),i(32),t()()(),e(33,"div",10)(34,"label",11),i(35," Nama "),t(),e(36,"div",12)(37,"span",13),i(38),t()()(),e(39,"div")(40,"label",11),i(41," Sekolah asal "),t(),e(42,"div",12)(43,"span",13),i(44),t()()(),e(45,"div")(46,"label",11),i(47," Sekolah tujuan "),t(),e(48,"div",12)(49,"span",13),i(50),t()()(),h(51,vi,19,2,"ng-container",8),t(),e(52,"div",14),h(53,xi,3,0,"ng-container",8)(54,bi,8,2,"ng-container",8)(55,wi,6,1,"ng-container",8),t(),h(56,Ti,2,1,"ng-container",8),t()),r&2&&(l(10),m("ngIf",o.hasilRegistrasi.status===null),l(),m("ngIf",o.hasilRegistrasi.status==="Verifikasi Operator"),l(),m("ngIf",o.hasilRegistrasi.status==="Revisi"),l(),m("ngIf",o.hasilRegistrasi.status==="Disetujui"),l(7),D(o.hasilRegistrasi.no_pendaftaran),l(6),D(o.hasilRegistrasi.nik),l(6),D(o.hasilRegistrasi.nisn),l(6),D(o.hasilRegistrasi.nama_lengkap),l(6),D(o.hasilRegistrasi.sekolah_asal),l(6),D(o.hasilRegistrasi.sekolah_tujuan),l(),m("ngIf",o.hasilRegistrasi.status==="Disetujui"),l(2),m("ngIf",o.hasilRegistrasi.status!=="Disetujui"),l(),m("ngIf",o.hasilRegistrasi.status==="Revisi"),l(),m("ngIf",o.hasilRegistrasi.status==="Verifikasi Operator"),l(),m("ngIf",o.hasilRegistrasi.status==="Revisi"))},dependencies:[N,Je,$e,Qe,Xe,Ye]});let n=s;return n})();var tt=(()=>{let s=class s{};s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=re({type:s}),s.\u0275inj=ne({imports:[oe,ie,le,me,ie,se,Ee]});let n=s;return n})();var Vi=[{path:"",component:et}],nn=(()=>{let s=class s{};s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=re({type:s}),s.\u0275inj=ne({imports:[oe,le,me,ie,se,tt,be.forChild(Vi)]});let n=s;return n})();export{nn as LihatDataModule};
