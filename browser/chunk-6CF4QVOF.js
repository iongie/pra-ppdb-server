import{b as mt,c as q,d as I,e as je,f as U,g as te,h as Re,i as ie,j as ae,k as ne,l as de,m as pe,n as ge,o as re,p as dt,q as pt}from"./chunk-G6IPGEOF.js";import{a as O,b as N}from"./chunk-4PJBVILJ.js";import{a as $}from"./chunk-YPDUCIS6.js";import{b as W,c as gt,d as J}from"./chunk-7A4NIGQY.js";import{A as X,Aa as it,B as ye,Ba as at,Da as nt,E as Ue,Ea as rt,F as Ee,H as D,I as be,J as le,K as Ge,L as S,M,N as h,O as y,Oa as st,Pa as ee,Qa as P,R as Ze,Ra as Oe,S as se,Sa as ot,T as qe,V as me,X as l,Y as u,a as Ce,aa as Q,ab as V,b as Se,ca as v,cb as lt,d as G,da as m,e as Ve,f as T,fa as Je,g as K,ga as $e,h as We,ha as Qe,ia as i,j as L,ja as a,ka as c,la as p,m as A,ma as g,n as Ne,na as Z,oa as k,p as ve,pa as E,qa as Ye,r as F,ra as Xe,s as Me,sa as He,t as Y,ta as Te,ua as Ae,v as C,va as et,w,wa as o,x as _,xa as R,ya as z,za as tt}from"./chunk-PGRBZLYU.js";var ct=(()=>{let s=class s{constructor(t){this.ngControl=t,this.maxLength=16,this.zero=!1}onInput(t){let e=t.replace(/[^0-9]/g,"");this.zero,e=e.slice(0,this.maxLength),this.ngControl.valueAccessor?.writeValue(e)}};s.\u0275fac=function(e){return new(e||s)(u(je))},s.\u0275dir=le({type:s,selectors:[["","prappdbInputHanyaNomor",""]],hostBindings:function(e,r){e&1&&k("input",function(b){return r.onInput(b.target.value)})},inputs:{maxLength:"maxLength",zero:"zero"}});let n=s;return n})();var ht=(()=>{let s=class s{constructor(t){this.ngControl=t}onInput(t){let e=t.replace(/[^a-zA-Z\s]/g,"");this.ngControl.valueAccessor?.writeValue(e)}};s.\u0275fac=function(e){return new(e||s)(u(je))},s.\u0275dir=le({type:s,selectors:[["","prappdbInputHanyaHuruf",""]],hostBindings:function(e,r){e&1&&k("input",function(b){return r.onInput(b.target.value)})}});let n=s;return n})();var ut=(()=>{let s=class s{};s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=be({type:s}),s.\u0275inj=ye({imports:[Oe]});let n=s;return n})();var ft=[];var _t=[],vt=[],yt=[],bt=[];var Kt=["*"],ke=class{_clearListeners(){for(let s of this._listeners)s.remove();this._listeners=[]}constructor(s){this._ngZone=s,this._pending=[],this._listeners=[],this._targetStream=new K(void 0)}getLazyEmitter(s){return this._targetStream.pipe(C(d=>{let t=new Ve(e=>{if(!d){this._pending.push({observable:t,observer:e});return}let r=d.addListener(s,f=>{this._ngZone.run(()=>e.next(f))});if(!r){e.complete();return}return this._listeners.push(r),()=>r.remove()});return t}))}setTarget(s){let d=this._targetStream.value;s!==d&&(d&&(this._clearListeners(),this._pending=[]),this._targetStream.next(s),this._pending.forEach(t=>t.observable.subscribe(t.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},Ie={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},kt="500px",wt="500px",ze=(()=>{let s=class s{set center(t){this._center=t}set zoom(t){this._zoom=t}set options(t){this._options=t||Ie}constructor(t,e,r){if(this._elementRef=t,this._ngZone=e,this._eventManager=new ke(Ee(Q)),this.height=kt,this.width=wt,this._options=Ie,this.mapInitialized=new se,this.authFailure=new se,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=ot(r),this._isBrowser){let f=window;f.google,this._existingAuthFailureCallback=f.gm_authFailure,f.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(t){(t.height||t.width)&&this._setSize();let e=this.googleMap;e&&(t.options&&e.setOptions(this._combineOptions()),t.center&&this._center&&e.setCenter(this._center),t.zoom&&this._zoom!=null&&e.setZoom(this._zoom),t.mapTypeId&&this.mapTypeId&&e.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(t=>this._initialize(t.Map))}))}_initialize(t){this._ngZone.runOutsideAngular(()=>{this.googleMap=new t(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let t=window;t.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(t,e){this._assertInitialized(),this.googleMap.fitBounds(t,e)}panBy(t,e){this._assertInitialized(),this.googleMap.panBy(t,e)}panTo(t){this._assertInitialized(),this.googleMap.panTo(t)}panToBounds(t,e){this._assertInitialized(),this.googleMap.panToBounds(t,e)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(Me(1)).toPromise()}_setSize(){if(this._mapEl){let t=this._mapEl.style;t.height=this.height===null?"":xt(this.height)||kt,t.width=this.width===null?"":xt(this.width)||wt}}_combineOptions(){let t=this._options||{};return Se(Ce({},t),{center:this._center||t.center||Ie.center,zoom:this._zoom??t.zoom??Ie.zoom,mapTypeId:this.mapTypeId||t.mapTypeId||Ie.mapTypeId,mapId:this.mapId||t.mapId})}_assertInitialized(){this.googleMap}};s.\u0275fac=function(e){return new(e||s)(u(Ze),u(Q),u(qe))},s.\u0275cmp=D({type:s,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],standalone:!0,features:[Ge,nt],ngContentSelectors:Kt,decls:2,vars:0,consts:[[1,"map-container"]],template:function(e,r){e&1&&(Ye(),c(0,"div",0),Xe(1))},encapsulation:2,changeDetection:0});let n=s;return n})(),Bt=/([A-Za-z%]+)$/;function xt(n){return n==null?"":Bt.test(n)?n:`${n}px`}var Ct=(()=>{let s=class s{set options(t){this._options.next(t||{})}set position(t){this._position.next(t)}constructor(t,e,r){this._googleMap=t,this._elementRef=e,this._ngZone=r,this._eventManager=new ke(Ee(Q)),this._options=new K({}),this._position=new K(void 0),this._destroy=new T,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed"),this.infoWindowInitialized=new se}ngOnInit(){this._googleMap._isBrowser&&this._combineOptions().pipe(Me(1)).subscribe(t=>{google.maps.InfoWindow?this._initialize(google.maps.InfoWindow,t):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(e=>{this._initialize(e.InfoWindow,t)})})})}_initialize(t,e){this._ngZone.runOutsideAngular(()=>{this.infoWindow=new t(e),this._eventManager.setTarget(this.infoWindow),this.infoWindowInitialized.emit(this.infoWindow),this._watchForOptionsChanges(),this._watchForPositionChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}openAdvancedMarkerElement(t,e){this.open({getAnchor:()=>t},void 0,e)}open(t,e,r){this._assertInitialized();let f=t?t.getAnchor():void 0;(this.infoWindow.get("anchor")!==f||!f)&&(this._elementRef.nativeElement.style.display="",r&&this.infoWindow.setContent(r),this.infoWindow.open({map:this._googleMap.googleMap,anchor:f,shouldFocus:e}))}_combineOptions(){return Ne([this._options,this._position]).pipe(A(([t,e])=>Se(Ce({},t),{position:e||t.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe(w(this._destroy)).subscribe(t=>{this._assertInitialized(),this.infoWindow.setOptions(t)})}_watchForPositionChanges(){this._position.pipe(w(this._destroy)).subscribe(t=>{t&&(this._assertInitialized(),this.infoWindow.setPosition(t))})}_assertInitialized(){}};s.\u0275fac=function(e){return new(e||s)(u(ze),u(Ze),u(Q))},s.\u0275dir=le({type:s,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged",infoWindowInitialized:"infoWindowInitialized"},exportAs:["mapInfoWindow"],standalone:!0});let n=s;return n})();var Wt={position:{lat:37.421995,lng:-122.084092}},St=(()=>{let s=class s{set title(t){this._title=t}set position(t){this._position=t}set label(t){this._label=t}set clickable(t){this._clickable=t}set options(t){this._options=t}set icon(t){this._icon=t}set visible(t){this._visible=t}constructor(t,e){this._googleMap=t,this._ngZone=e,this._eventManager=new ke(Ee(Q)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed"),this.markerInitialized=new se}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([t,e])=>{this._initialize(t,e.Marker)})}))}_initialize(t,e){this._ngZone.runOutsideAngular(()=>{this.marker=new e(this._combineOptions()),this._assertInitialized(),this.marker.setMap(t),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(t){let{marker:e,_title:r,_position:f,_label:b,_clickable:x,_icon:B,_visible:De}=this;e&&(t.options&&e.setOptions(this._combineOptions()),t.title&&r!==void 0&&e.setTitle(r),t.position&&f&&e.setPosition(f),t.label&&b!==void 0&&e.setLabel(b),t.clickable&&x!==void 0&&e.setClickable(x),t.icon&&B&&e.setIcon(B),t.visible&&De!==void 0&&e.setVisible(De))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(Me(1)).toPromise()}_combineOptions(){let t=this._options||Wt;return Se(Ce({},t),{title:this._title||t.title,position:this._position||t.position,label:this._label||t.label,clickable:this._clickable??t.clickable,map:this._googleMap.googleMap,icon:this._icon||t.icon,visible:this._visible??t.visible})}_assertInitialized(){}};s.\u0275fac=function(e){return new(e||s)(u(ze),u(Q))},s.\u0275dir=le({type:s,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],standalone:!0,features:[Ge]});let n=s;return n})();var Mt=(()=>{let s=class s{set options(t){this._options.next(t||{})}set paths(t){this._paths.next(t)}constructor(t,e){this._map=t,this._ngZone=e,this._eventManager=new ke(Ee(Q)),this._options=new K({}),this._paths=new K(void 0),this._destroyed=new T,this.polygonClick=this._eventManager.getLazyEmitter("click"),this.polygonDblclick=this._eventManager.getLazyEmitter("dblclick"),this.polygonDrag=this._eventManager.getLazyEmitter("drag"),this.polygonDragend=this._eventManager.getLazyEmitter("dragend"),this.polygonDragstart=this._eventManager.getLazyEmitter("dragstart"),this.polygonMousedown=this._eventManager.getLazyEmitter("mousedown"),this.polygonMousemove=this._eventManager.getLazyEmitter("mousemove"),this.polygonMouseout=this._eventManager.getLazyEmitter("mouseout"),this.polygonMouseover=this._eventManager.getLazyEmitter("mouseover"),this.polygonMouseup=this._eventManager.getLazyEmitter("mouseup"),this.polygonRightclick=this._eventManager.getLazyEmitter("rightclick"),this.polygonInitialized=new se}ngOnInit(){this._map._isBrowser&&this._combineOptions().pipe(Me(1)).subscribe(t=>{google.maps.Polygon&&this._map.googleMap?this._initialize(this._map.googleMap,google.maps.Polygon,t):this._ngZone.runOutsideAngular(()=>{Promise.all([this._map._resolveMap(),google.maps.importLibrary("maps")]).then(([e,r])=>{this._initialize(e,r.Polygon,t)})})})}_initialize(t,e,r){this._ngZone.runOutsideAngular(()=>{this.polygon=new e(r),this._assertInitialized(),this.polygon.setMap(t),this._eventManager.setTarget(this.polygon),this.polygonInitialized.emit(this.polygon),this._watchForOptionsChanges(),this._watchForPathChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.polygon?.setMap(null)}getDraggable(){return this._assertInitialized(),this.polygon.getDraggable()}getEditable(){return this._assertInitialized(),this.polygon.getEditable()}getPath(){return this._assertInitialized(),this.polygon.getPath()}getPaths(){return this._assertInitialized(),this.polygon.getPaths()}getVisible(){return this._assertInitialized(),this.polygon.getVisible()}_combineOptions(){return Ne([this._options,this._paths]).pipe(A(([t,e])=>Se(Ce({},t),{paths:e||t.paths})))}_watchForOptionsChanges(){this._options.pipe(w(this._destroyed)).subscribe(t=>{this._assertInitialized(),this.polygon.setOptions(t)})}_watchForPathChanges(){this._paths.pipe(w(this._destroyed)).subscribe(t=>{t&&(this._assertInitialized(),this.polygon.setPaths(t))})}_assertInitialized(){}};s.\u0275fac=function(e){return new(e||s)(u(ze),u(Q))},s.\u0275dir=le({type:s,selectors:[["map-polygon"]],inputs:{options:"options",paths:"paths"},outputs:{polygonClick:"polygonClick",polygonDblclick:"polygonDblclick",polygonDrag:"polygonDrag",polygonDragend:"polygonDragend",polygonDragstart:"polygonDragstart",polygonMousedown:"polygonMousedown",polygonMousemove:"polygonMousemove",polygonMouseout:"polygonMouseout",polygonMouseover:"polygonMouseover",polygonMouseup:"polygonMouseup",polygonRightclick:"polygonRightclick",polygonInitialized:"polygonInitialized"},exportAs:["mapPolygon"],standalone:!0});let n=s;return n})();var Et=(()=>{let s=class s{};s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=be({type:s}),s.\u0275inj=ye({});let n=s;return n})();var Pe=(()=>{let s=class s{constructor(t){this._ngZone=t}geocode(t){return new Ve(e=>{this._getGeocoder().then(r=>{r.geocode(t,(f,b)=>{this._ngZone.run(()=>{e.next({results:f||[],status:b}),e.complete()})})})})}_getGeocoder(){if(!this._geocoder)if(google.maps.Geocoder)this._geocoder=new google.maps.Geocoder;else return google.maps.importLibrary("geocoding").then(t=>(this._geocoder=new t.Geocoder,this._geocoder));return Promise.resolve(this._geocoder)}};s.\u0275fac=function(e){return new(e||s)(Ue(Q))},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var zt={id:null,nisn:null,tmsekolah_id:null,n_siswa:null,jns_kelamin:null,sekolah_asal:null,trsekolah_kelas_id:null,n_kelas:null,t_lahir:null,d_lahir:null,kk:null,nik:null,nama_ibu:null,telp:null,tgl_terbit_kk:null,file_kk:null,alamat_detail:null,lama_tinggal:null,smp_tujuan:null,alamat_rt:null,alamat_rw:null,kelurahan_id:null,kecamatan_id:null,kabupaten_id:null,provinsi_id:null,lat:null,long:null,alamat_map:null,acc:null,npsn:null,file_kk_url:null,kode:null};var Ke={lat:null,lon:null};var Ft=(()=>{let s=class s{constructor(){this.latlon=new K(Ke),this.getLatLon=this.latlon.asObservable(),this.allowGeoLocation=new K(!1),this.getAlloeGeoLocation=this.allowGeoLocation.asObservable()}updateLatLon(t){return G(this,null,function*(){this.latlon.next(t)})}clearLatLon(){return G(this,null,function*(){this.latlon.next(Ke)})}updateAllow(t){return G(this,null,function*(){this.allowGeoLocation.next(t)})}clearAllow(){return G(this,null,function*(){this.allowGeoLocation.next(!0)})}};s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var oe={mode:null,pesan:null};var H=(()=>{let s=class s{constructor(){this.modelToast=new K(oe),this.modelModal=new K(oe),this.getModelToast=this.modelToast.asObservable(),this.getModelModal=this.modelModal.asObservable()}updateModelToast(t){this.modelToast.next(t)}clearRespons(){this.modelToast.next(oe)}updateModelModal(t){this.modelModal.next(t)}clearModelModal(){this.modelModal.next(oe)}};s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var Lt=(()=>{let s=class s{constructor(){}minmaxCoor(t){return t.reduce((e,r)=>({maxLat:Math.max(e.maxLat,r.lat),minLat:Math.min(e.minLat,r.lat),maxLng:Math.max(e.maxLng,r.lng),minLng:Math.min(e.minLng,r.lng)}),{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})}padNumber(t,e){let r=t;for(;r.length<e;)r="0"+r;return r}modifKodeWilayah(t){return t.replace(/\./g,"_")+".json"}};s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();function Jt(n,s){if(n&1){let d=Z();p(0),i(1,"p",18),k("click",function(){let e=S(d).index,r=E();return M(r.ambilAlamat(e))}),o(2),a(),g()}if(n&2){let d=s.$implicit;l(2),z(" ",d.formatted_address," ")}}function $t(n,s){n&1&&(p(0),i(1,"div",19),h(),i(2,"svg",20),c(3,"path",21),a(),y(),i(4,"p",22),o(5,"ALamat tidak ditemukan"),a()(),g())}function Qt(n,s){n&1&&(p(0),i(1,"div",19),h(),i(2,"svg",23),c(3,"path",24)(4,"path",25),a(),y(),i(5,"p",22),o(6,"Harap tunggu"),a()(),g())}var Dt=(()=>{let s=class s{constructor(t){this.geocoder=t,this.destroy=new T,this.isLoading=!1,this.view=new se,this.lokasi=new se,this.kataKunciCariAlamat="",this.hasilCariAlamat=[],this.hasilCariAlamatError=!1}ngOnInit(){}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}cariAlamat(){L(this.isLoading).pipe(_(()=>this.hasilCariAlamat=[]),_(()=>this.isLoading=!0),_(()=>this.hasilCariAlamatError=!1),Y(5e3),C(()=>this.geocoder.geocode({address:this.kataKunciCariAlamat})),A(t=>{if(t.results.length===0)throw new Error("harap mengisi form data");this.hasilCariAlamat=t.results}),F(t=>{throw this.isLoading=!1,this.hasilCariAlamatError=!0,t}),_(()=>this.isLoading=!1),w(this.destroy)).subscribe()}cancelCariAlamat(){this.view.emit(!1)}ambilAlamat(t){this.lokasi.emit({lat:this.hasilCariAlamat[t].geometry.location.lat(),lon:this.hasilCariAlamat[t].geometry.location.lng()}),this.view.emit(!1)}};s.\u0275fac=function(e){return new(e||s)(u(Pe))},s.\u0275cmp=D({type:s,selectors:[["prappdb-modal-cari-alamat-registrasi"]],outputs:{view:"view",lokasi:"lokasi"},decls:22,vars:4,consts:[[1,"relative","w-screen","p-1","md:p-4","min-h-32","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","items-center","justify-between","p-4","md:p-5","gap-1","border-b","rounded-t"],[1,"flex-1","w-full","mx-auto"],["for","default-search",1,"mb-2","text-sm","font-medium","text-gray-900","sr-only","dark:text-white"],[1,"relative"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","search","id","default-search","placeholder","Cari Lokasi Anda",1,"block","w-full","p-4","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","button",1,"text-white","absolute","end-2.5","bottom-2.5","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-4","py-2",3,"click"],["type","button","data-modal-hide","medium-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","space-y-4","divide-y"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"cursor-pointer","p-1","hover:underline","text-base","leading-relaxed","text-gray-500",3,"click"],[1,"flex","flex-col","justify-center","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-40","h-40","text-gray-300"],["fill-rule","evenodd","d","M8.161 2.58a1.875 1.875 0 0 1 1.678 0l4.993 2.498c.106.052.23.052.336 0l3.869-1.935A1.875 1.875 0 0 1 21.75 4.82v12.485c0 .71-.401 1.36-1.037 1.677l-4.875 2.437a1.875 1.875 0 0 1-1.676 0l-4.994-2.497a.375.375 0 0 0-.336 0l-3.868 1.935A1.875 1.875 0 0 1 2.25 19.18V6.695c0-.71.401-1.36 1.036-1.677l4.875-2.437ZM9 6a.75.75 0 0 1 .75.75V15a.75.75 0 0 1-1.5 0V6.75A.75.75 0 0 1 9 6Zm6.75 3a.75.75 0 0 0-1.5 0v8.25a.75.75 0 0 0 1.5 0V9Z","clip-rule","evenodd"],[1,"text-base","leading-relaxed","text-gray-300","font-medium"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-8","h-8","text-gray-200","animate-spin","dark:text-gray-600","fill-blue-600"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),o(5,"Search"),a(),i(6,"div",5)(7,"div",6),h(),i(8,"svg",7),c(9,"path",8),a()(),y(),i(10,"input",9),at("ngModelChange",function(b){return it(r.kataKunciCariAlamat,b)||(r.kataKunciCariAlamat=b),b}),a(),i(11,"button",10),k("click",function(){return r.cariAlamat()}),o(12," Cari Lokasi "),a()()(),i(13,"button",11),k("click",function(){return r.cancelCariAlamat()}),h(),i(14,"svg",12),c(15,"path",13),a(),y(),i(16,"span",14),o(17,"Close modal"),a()()(),i(18,"div",15),v(19,Jt,3,1,"ng-container",16)(20,$t,6,0,"ng-container",17)(21,Qt,7,0,"ng-container",17),a()()()),e&2&&(l(10),tt("ngModel",r.kataKunciCariAlamat),l(9),m("ngForOf",r.hasilCariAlamat),l(),m("ngIf",r.hasilCariAlamatError),l(),m("ngIf",r.isLoading))},dependencies:[ee,P,q,U,Re]});let n=s;return n})();var Xt=["captchaElem"];function ei(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Alamat harap dipilih "),a()(),g())}function ti(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Nomor RT harap diisi "),a()(),g())}function ii(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Nomor RW harap diisi "),a()(),g())}function ai(n,s){if(n&1&&(p(0),i(1,"option",60),o(2),a(),g()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),R(d.n_provinsi)}}function ni(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Provinsi harap dipilih "),a()(),g())}function ri(n,s){if(n&1&&(p(0),i(1,"option",60),o(2),a(),g()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),R(d.n_kabupaten)}}function si(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Kota harap dipilih "),a()(),g())}function oi(n,s){if(n&1&&(p(0),i(1,"option",60),o(2),a(),g()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),R(d.n_kecamatan)}}function li(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Kecamatan harap dipilih "),a()(),g())}function mi(n,s){if(n&1&&(p(0),i(1,"option",60),o(2),a(),g()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),R(d.n_kelurahan)}}function di(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Kelurahan harap dipilih "),a()(),g())}function pi(n,s){n&1&&(p(0),i(1,"div",66),h(),i(2,"svg",67),c(3,"path",68),a(),y(),i(4,"p",69),o(5,"Silahkan pilih titik Area Kelurahan yang dipilih "),a()(),g())}function gi(n,s){if(n&1){let d=Z();p(0),i(1,"map-polygon",70),k("polygonClick",function(e){S(d);let r=E(2);return M(r.addMarkerMapPolygonAction(e))}),a(),g()}if(n&2){let d=E(2);l(),m("paths",d.vertices)("options",d.optionMapPolygon)}}function ci(n,s){if(n&1){let d=Z();i(0,"map-marker",71,1),k("mapClick",function(){S(d);let e=et(1),r=E(2);return M(r.openInfoMarkerAction(e))}),a()}if(n&2){let d=s.$implicit;m("position",d)}}function hi(n,s){if(n&1){let d=Z();p(0),i(1,"div",72)(2,"prappdb-modal-cari-alamat-registrasi",73),k("view",function(e){S(d);let r=E(2);return M(r.viewModalCariAlamatAction(e))})("lokasi",function(e){S(d);let r=E(2);return M(r.getLokasi(e))}),a()(),g()}}function ui(n,s){if(n&1&&(p(0),i(1,"div",74)(2,"div",9)(3,"label",28),o(4," Latitude "),i(5,"span",11),o(6,"*"),a()(),i(7,"div",6),o(8),a()(),i(9,"div",9)(10,"label",28),o(11," Longitude "),i(12,"span",11),o(13,"*"),a()(),i(14,"div",6),o(15),a()(),i(16,"div",9)(17,"label",28),o(18," Alamat Map "),i(19,"span",11),o(20,"*"),a()(),i(21,"div",6),o(22),a()()(),g()),n&2){let d=E(2);l(8),z(" ",d.infoLatMap,""),l(7),z(" ",d.infoLonMap,""),l(7),z(" ",d.infoAlamatMap,"")}}function fi(n,s){if(n&1){let d=Z();p(0),i(1,"div",61)(2,"div",62)(3,"button",63),k("click",function(){S(d);let e=E();return M(e.infoAlamatMapAction())}),i(4,"span"),o(5,"Lihat Alamat"),a()(),i(6,"button",63),k("click",function(){S(d);let e=E();return M(e.openCariAlamatAction())}),i(7,"span"),o(8,"Cari Lokasi"),a()()(),v(9,pi,6,0,"ng-container",13),i(10,"div",9)(11,"google-map",64),k("mapClick",function(e){S(d);let r=E();return M(r.addMarkerMapAction(e))}),v(12,gi,2,2,"ng-container",13),$e(13,ci,2,1,"map-marker",65,Je),a()()(),v(15,hi,3,0,"ng-container",13)(16,ui,23,3,"ng-container",13),g()}if(n&2){let d=E();l(9),m("ngIf",d.minmaxError),l(2),m("center",d.center)("zoom",d.zoom),l(),m("ngIf",d.vertices.length!==0),l(),Qe(d.markerPositions),l(2),m("ngIf",d.isCariAlamat),l(),m("ngIf",d.isInfoAlamatMap)}}function _i(n,s){n&1&&(p(0),h(),i(1,"svg",75),c(2,"path",76),a(),y(),i(3,"p",77)(4,"span",78),o(5,"Click to upload"),a()(),i(6,"p",79),o(7,"Hanya file berformat PNG, JPG "),a(),g())}function vi(n,s){if(n&1&&(p(0),h(),i(1,"svg",80),c(2,"path",81)(3,"path",82),a(),y(),i(4,"a",83)(5,"p",77),o(6),a()(),g()),n&2){let d=E();l(4),m("href",d.dataSiswa.file_kk_url,me),l(2),z(" ",d.nameFile," ")}}function yi(n,s){n&1&&(p(0),i(1,"div",84),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Danger alert!"),a(),o(9," Harap mengupload kartu keluarga "),a()(),g())}function bi(n,s){if(n&1&&(p(0),i(1,"div",84),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Danger alert!"),a(),o(9),a()(),g()),n&2){let d=E();l(9),z(" ",d.uploadErrorMessage," ")}}function ki(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Nomor Kartu Keluarga harap diisi "),a()(),g())}function wi(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Tanggal Kartu Keluarga harap diisi "),a()(),g())}function xi(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Nama Ibu harap diisi "),a()(),g())}function Ci(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Nomor Whatsapp harap diisi "),a()(),g())}function Si(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," Lama tinggal harap diisi "),a()(),g())}function Mi(n,s){if(n&1&&(p(0),i(1,"option",60),o(2),a(),g()),n&2){let d=s.$implicit;l(),m("value",d.n_sekolah),l(),R(d.n_sekolah)}}function Ei(n,s){n&1&&(p(0),i(1,"div",55),h(),i(2,"svg",56),c(3,"path",57),a(),y(),i(4,"span",58),o(5,"Info"),a(),i(6,"div")(7,"span",59),o(8,"Penting!"),a(),o(9," SMP tujuan harap diisi "),a()(),g())}function Ii(n,s){if(n&1&&(p(0),i(1,"div",85)(2,"span",59),o(3,"Info alert!"),a(),o(4),a(),g()),n&2){let d=E();l(4),z(" ",d.messageError," ")}}function zi(n,s){n&1&&(p(0),o(1," Simpan dan lanjut "),h(),i(2,"svg",86),c(3,"path",87),a(),g())}function Fi(n,s){n&1&&(p(0),h(),i(1,"svg",88),c(2,"path",89)(3,"path",90),a(),o(4," Loading... "),g())}var xn=(()=>{let s=class s{constructor(t,e,r,f,b,x,B,De,Nt,Gt){this.fb=t,this.stateLogin=e,this.router=r,this.stateTahapanegistrasi=f,this.stateNavigasi=b,this.stateGeoLokasi=x,this.stateRespon=B,this.callApi=De,this.helper=Nt,this.geocoder=Gt,this.destroy=new T,this.sekolah=ft,this.sekolahError=!1,this.sekolahErrorMessage="",this.provinsi=_t,this.provinsiError=!1,this.provinsiErrorMessage="",this.kabupaten=vt,this.kabupatenError=!1,this.kabupatenErrorMessage="",this.kecamatan=yt,this.kecamatanError=!1,this.kecamatanErrorMessage="",this.kelurahan=bt,this.kelurahanError=!1,this.kelurahanErrorMessage="",this.dataSiswa=zt,this.dataSiswaFormData=null,this.actionMessageError=!1,this.messageError="",this.isLoading=!1,this.captchaSiteKey=gt.CAPTCHA_SITE_KEY,this.url=null,this.nameFile=null,this.uploadError=!1,this.uploadErrorMessage="",this.geoLokasiError=!1,this.geoLokasiErrorMessage="",this.infoWindow=null,this.center={lat:0,lng:0},this.location={lat:0,lng:0},this.zoom=13,this.markerOptions={draggable:!1},this.markerPositions=[],this.vertices=[],this.actionMapPolygon=!1,this.optionMapPolygon={strokeColor:"red",strokeWeight:2,fillColor:"red",fillOpacity:.2},this.minmaxError=!1,this.actionMap=!1,this.isInfoAlamatMap=!0,this.infoAlamatMap="",this.infoLatMap="",this.infoLonMap="",this.isCariAlamat=!1}ngOnInit(){this.formDataSiswa(),this.getDataSiswa(),this.getProvinsi(),this.getSekolah(),this.getDataPolygonMap(),this.allowGeo()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}allowGeo(){return G(this,null,function*(){let t=yield navigator.permissions.query({name:"geolocation"});t.state==="granted"?(this.stateGeoLokasi.updateAllow(!1),console.log("Geolocation permission granted.")):t.state==="prompt"?(this.stateGeoLokasi.updateAllow(!0),console.log("Geolocation permission prompt.")):t.state==="denied"&&(this.stateGeoLokasi.updateAllow(!0),console.log("Geolocation permission denied.")),t.onchange=function(){console.log("Geolocation permission state has changed to: ",this.state)}})}formDataSiswa(){this.dataSiswaForm=this.fb.group({alamat:[null,[I.required]],provinsi_id:[null,[I.required]],kabupaten_id:[{value:null,disabled:!0},[I.required]],kecamatan_id:[{value:null,disabled:!0},[I.required]],kelurahan_id:[{value:null,disabled:!0},[I.required]],rt:[null,[I.required]],rw:[null,[I.required]],name_file:[null,[I.required]],kk:[""],no_kk:[null,[I.required]],tanggal_kk:[null,[I.required]],no_wa:[null,[I.required]],lama_tinggal:[null,[I.required]],sekolah_tujuan:[{value:null,disabled:!1},[I.required]],nama_ibu:[null,[I.required]],alamat_map:[""]})}get noRtControl(){return this.dataSiswaForm.get("rt")}get noRt(){return this.noRtControl.hasError("required")&&this.noRtControl.touched}get noRwControl(){return this.dataSiswaForm.get("rw")}get noRw(){return this.noRwControl.hasError("required")&&this.noRwControl.touched}get noKkControl(){return this.dataSiswaForm.get("no_kk")}get noNomorKk(){return this.noKkControl.hasError("required")&&this.noKkControl.touched}get tanggalKkControl(){return this.dataSiswaForm.get("tanggal_kk")}get noTanggalKk(){return this.tanggalKkControl.hasError("required")&&this.tanggalKkControl.touched}get nomorWaControl(){return this.dataSiswaForm.get("no_wa")}get noNomorWa(){return this.nomorWaControl.hasError("required")&&this.nomorWaControl.touched}get lamaTinggalControl(){return this.dataSiswaForm.get("lama_tinggal")}get noLamaTinggal(){return this.lamaTinggalControl.hasError("required")&&this.lamaTinggalControl.touched}get sekolahTujuanControl(){return this.dataSiswaForm.get("sekolah_tujuan")}get noSekolahTujuan(){return this.sekolahTujuanControl.hasError("required")&&this.sekolahTujuanControl.touched}get provinsiControl(){return this.dataSiswaForm.get("provinsi_id")}get noProvinsi(){return this.provinsiControl.hasError("required")&&this.provinsiControl.touched}get kotaControl(){return this.dataSiswaForm.get("kabupaten_id")}get noKota(){return this.kotaControl.hasError("required")&&this.kotaControl.touched}get kecamatanControl(){return this.dataSiswaForm.get("kecamatan_id")}get noKecamatan(){return this.kecamatanControl.hasError("required")&&this.kecamatanControl.touched}get kelurahanControl(){return this.dataSiswaForm.get("kelurahan_id")}get noKelurahan(){return this.kelurahanControl.hasError("required")&&this.kelurahanControl.touched}get alamatControl(){return this.dataSiswaForm.get("alamat")}get noAlamat(){return this.alamatControl.hasError("required")&&this.alamatControl.touched}get namaIbuControl(){return this.dataSiswaForm.get("nama_ibu")}get noNamaIbu(){return this.namaIbuControl.hasError("required")&&this.namaIbuControl.touched}get nameSertifikatControl(){return this.dataSiswaForm.get("name_file")}get noNameSertifikat(){return this.nameSertifikatControl.hasError("required")&&this.nameSertifikatControl.touched}getProvinsi(){L(this.provinsiError=!1).pipe(C(()=>this.callApi.get("provinsi")),_(t=>this.provinsi=t.data),F(t=>{throw this.provinsiError=!0,this.provinsiErrorMessage=t.error.message,t}),w(this.destroy)).subscribe()}onProvinsiChange(t){let e=t.target.value;this.dataSiswaForm.get("provinsi_id")?.setValue(e),this.dataSiswaForm.get("kabupaten_id")?.enable(),this.getKabupaten(t.target.value),this.getKecamatan(t.target.value),this.getKelurahan(t.target.value)}refreshDataGetProvinsi(){this.getProvinsi()}getKabupaten(t){L(this.kabupatenError=!1).pipe(C(()=>this.callApi.getWithParam("kabupaten","provinsi_id",t)),_(e=>this.kabupaten=e.data),F(e=>{throw this.kabupatenError=!0,this.kabupatenErrorMessage=e.error.message,e}),w(this.destroy)).subscribe()}onKabupatenChange(t){let e=t.target.value;this.dataSiswaForm.get("kabupaten_id")?.setValue(e),this.dataSiswaForm.get("kecamatan_id")?.enable(),this.getKecamatan(t.target.value),this.getKelurahan(t.target.value),this.kabupaten.length!==0&&(this.kabupaten.filter(f=>f.id===parseInt(e))[0].kode==="36.74"?this.actionMap=!0:this.actionMap=!1)}refreshDataGetKabupaten(){this.getKabupaten(this.dataSiswaForm.get("provinsi_id")?.value())}getKecamatan(t){L(this.kecamatanError=!1).pipe(C(()=>this.callApi.getWithParam("kecamatan","kabupaten_id",t)),_(e=>this.kecamatan=e.data),F(e=>{throw this.kecamatanError=!0,this.kecamatanErrorMessage=e.error.message,e}),w(this.destroy)).subscribe()}onKecamatanChange(t){let e=t.target.value;this.dataSiswaForm.get("kecamatan_id")?.setValue(e),this.dataSiswaForm.get("kelurahan_id")?.enable(),this.getKelurahan(t.target.value)}refreshDataGetKecamatan(){this.getKecamatan(this.dataSiswaForm.get("kabupaten_id")?.value())}getKelurahan(t){L(this.kecamatanError=!1).pipe(C(()=>this.callApi.getWithParam("kelurahan","kecamatan_id",t)),A(e=>e.data),_(e=>this.kelurahan=e),F(e=>{throw this.kelurahanError=!0,this.kelurahanErrorMessage=e.error.message,e}),w(this.destroy)).subscribe()}onKelurahanChange(t){let e=t.target.value;if(this.dataSiswaForm.get("kelurahan_id")?.setValue(e),this.kelurahan.length!==0){let r=this.kelurahan.filter(f=>f.id===parseInt(e));this.callApi.exGetKoordinat(this.helper.modifKodeWilayah(r[0].kode)).pipe(_(f=>{this.markerPositions=[],this.vertices=[],f.features[0].geometry.coordinates[0].map(b=>{this.vertices.push({lat:parseFloat(b[1]),lng:parseFloat(b[0])})})}),w(this.destroy)).subscribe(),console.log(r,e,this.kelurahan)}}refreshDataGetKelurahan(){this.getKelurahan(this.dataSiswaForm.get("kecamatan_id")?.value())}getSekolah(){L(this.sekolahError=!1).pipe(C(()=>this.callApi.get("sekolah")),_(t=>this.sekolah=t.data),F(t=>{throw this.sekolahError=!0,this.sekolahErrorMessage=t.error.message,t}),w(this.destroy)).subscribe()}onSekolahChange(t){let e=t.target.value;this.dataSiswaForm.get("tmsekolah_id")?.setValue(e)}refreshDataGetSekolah(){this.getSekolah()}uploadKK(t){return G(this,null,function*(){try{this.uploadError=!1;let e=yield t.target.files[0];if(yield this.dataSiswaForm.patchValue({kk:e}),yield this.dataSiswaForm.patchValue({name_file:e.name}),e.type!=="image/png"&&e.type!=="image/jpg"&&e.type!=="image/jpeg")throw new Error("Format File tidak diizinkan");this.nameFile=e.name}catch(e){this.uploadError=!0,this.uploadErrorMessage=e.message}})}getDataPolygonMap(){this.stateLogin.getLogin.pipe(C(t=>this.callApi.post({nik:t.nik,nisn:t.nisn},"siswa/detail")),A(t=>t.data),C(t=>t.kode!==void 0?this.callApi.exGetKoordinat(this.helper.modifKodeWilayah(t.kode)):We),_(t=>{t.features[0].geometry.coordinates[0].map(e=>{this.vertices.push({lat:parseFloat(e[1]),lng:parseFloat(e[0])})})}),w(this.destroy)).subscribe()}validasiMarker(t){let e=new google.maps.Polygon({paths:this.vertices});return google.maps.geometry.poly.containsLocation(t,e)}addMarkerMapPolygonAction(t){L(t).pipe(_(e=>{this.minmaxError=!1,this.validasiMarker(e.latLng.toJSON()),this.markerPositions=[],this.markerPositions.push(e.latLng.toJSON()),this.stateGeoLokasi.updateLatLon({lat:e.latLng.toJSON().lat,lon:e.latLng.toJSON().lng}),this.infoLatMap=e.latLng.toJSON().lat.toString(),this.infoLonMap=e.latLng.toJSON().lng.toString()}),C(e=>this.geocoder.geocode({location:{lat:e.latLng.toJSON().lat,lng:e.latLng.toJSON().lng}})),_(e=>{this.infoAlamatMap=e.results[0].formatted_address}),w(this.destroy)).subscribe()}addMarkerMapAction(t){L(t).pipe(_(e=>{this.validasiMarker(e.latLng.toJSON())||(this.minmaxError=!0)}),C(()=>ve(2e3)),_(()=>this.minmaxError=!1),w(this.destroy)).subscribe()}openInfoMarkerAction(t){this.infoWindow.open(t)}openCariAlamatAction(){this.isCariAlamat=!0}getLokasi(t){L(t).pipe(_(e=>{this.markerPositions=[],this.validasiMarker({lat:e.lat,lng:e.lon})?(this.center={lat:e.lat,lng:e.lon},this.markerPositions.push({lat:e.lat,lng:e.lon}),this.stateGeoLokasi.updateLatLon({lat:e.lat,lon:e.lon}),this.infoLatMap=e.lat.toString(),this.infoLonMap=e.lon.toString()):this.minmaxError=!0}),C(e=>this.validasiMarker({lat:e.lat,lng:e.lon})?(this.infoLatMap=e.lat.toString(),this.infoLonMap=e.lon.toString(),this.geocoder.geocode({location:{lat:e.lat,lng:e.lon}})):(this.minmaxError=!0,ve(2e3))),_(e=>{e!==0?this.infoAlamatMap=e.results[0].formatted_address:this.minmaxError=!1}),w(this.destroy)).subscribe()}infoAlamatMapAction(){this.isInfoAlamatMap=!this.isInfoAlamatMap}viewModalCariAlamatAction(t){this.isCariAlamat=t}getDataSiswa(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{this.stateLogin.getLogin.pipe(C(e=>this.callApi.post({nik:e.nik,nisn:e.nisn},"siswa/detail")),A(e=>e.data),_(e=>this.dataSiswa=e),_(e=>{e.alamat_detail!==""&&this.dataSiswaForm.get("alamat")?.setValue(e.alamat_detail),e.provinsi_id!==""&&this.dataSiswaForm.get("provinsi_id")?.setValue(e.provinsi_id),e.provinsi_id!==""&&this.getKabupaten(e.provinsi_id),e.kabupaten_id!==""&&this.dataSiswaForm.get("kabupaten_id")?.enable(),e.kabupaten_id!==""&&this.dataSiswaForm.get("kabupaten_id")?.setValue(e.kabupaten_id),e.kabupaten_id!==""&&this.getKecamatan(e.kabupaten_id),e.kecamatan_id!==""&&this.dataSiswaForm.get("kecamatan_id")?.setValue(e.kecamatan_id),e.kecamatan_id!==""&&this.dataSiswaForm.get("kecamatan_id")?.enable(),e.kecamatan_id!==""&&this.getKelurahan(e.kecamatan_id),e.kelurahan_id!==""&&this.dataSiswaForm.get("kelurahan_id")?.setValue(e.kelurahan_id),e.kelurahan_id!==""&&this.dataSiswaForm.get("kelurahan_id")?.enable(),e.alamat_rt!==""&&this.dataSiswaForm.get("rt")?.setValue(e.alamat_rt),e.alamat_rw!==""&&this.dataSiswaForm.get("rw")?.setValue(e.alamat_rw),e.file_kk!==""&&this.dataSiswaForm.get("name_file")?.setValue(e.file_kk),this.nameFile=e.file_kk===""?null:e.file_kk,e.kk!==""&&this.dataSiswaForm.get("kk")?.setValue(e.kk),e.kk!==""&&this.dataSiswaForm.get("no_kk")?.setValue(e.kk),e.tgl_terbit_kk!==""&&this.dataSiswaForm.get("tanggal_kk")?.setValue(e.tgl_terbit_kk),e.telp!==""&&this.dataSiswaForm.get("no_wa")?.setValue(e.telp),e.lama_tinggal!==""&&this.dataSiswaForm.get("lama_tinggal")?.setValue(e.lama_tinggal),e.smp_tujuan!==""&&this.dataSiswaForm.get("sekolah_tujuan")?.setValue(e.smp_tujuan),e.nama_ibu!==""&&this.dataSiswaForm.get("nama_ibu")?.setValue(e.nama_ibu),e.alamat_map!==""&&this.dataSiswaForm.get("alamat_map")?.setValue(e.alamat_map)}),_(e=>{this.infoLatMap=e.lat===""?t.coords.latitude:e.lat,this.infoLonMap=e.lat===""?t.coords.longitude:e.long,this.actionMap=!(e.lat===""&&e.long===""),this.center=e.lat===""&&e.long===""?{lat:t.coords.latitude,lng:t.coords.longitude}:{lat:parseFloat(e.lat),lng:parseFloat(e.long)},this.markerPositions.push({lat:this.center.lat,lng:this.center.lng}),this.stateGeoLokasi.updateLatLon({lat:this.center.lat,lon:this.center.lng})}),C(e=>e.lat===""&&e.long===""?this.geocoder.geocode({location:{lat:t.coords.latitude,lng:t.coords.longitude}}):this.geocoder.geocode({location:{lat:parseFloat(e.lat),lng:parseFloat(e.long)}})),_(e=>{this.infoAlamatMap=e.results[0].formatted_address}),F(e=>{throw this.messageError=e.error.message,e}),w(this.destroy)).subscribe()}):this.geoLokasiErrorMessage="Deteksi Lokasi tidak support di browser ini, harap ganti browser seperti Google chrome, firefox"}cancel(){L(this.getDataSiswa()).pipe(_(()=>this.router.navigate(["/"])),_(()=>this.stateLogin.clearLogin()),_(()=>this.stateTahapanegistrasi.clearTahapanRegistrasi()),w(this.destroy)).subscribe()}submit(){L(this.dataSiswaForm.valid).pipe(A(t=>{if(!t)throw Object.values(this.dataSiswaForm.controls).forEach(e=>{e.markAsTouched()}),new Error("harap mengisi form data");return t}),C(()=>this.stateGeoLokasi.getLatLon),_(t=>{this.dataSiswaFormData=new FormData,this.dataSiswaFormData.append("file_kk",this.dataSiswaForm.get("kk")?.value),this.dataSiswaFormData.append("nik",this.dataSiswa.nik),this.dataSiswaFormData.append("no_kk",this.dataSiswaForm.get("no_kk")?.value),this.dataSiswaFormData.append("nama_ibu",this.dataSiswaForm.get("nama_ibu")?.value),this.dataSiswaFormData.append("no_telp",this.dataSiswaForm.get("no_wa")?.value),this.dataSiswaFormData.append("tanggal_terbit_kk",this.dataSiswaForm.get("tanggal_kk")?.value),this.dataSiswaFormData.append("lama_tinggal",this.dataSiswaForm.get("lama_tinggal")?.value),this.dataSiswaFormData.append("alamat_detail",this.dataSiswaForm.get("alamat")?.value),this.dataSiswaFormData.append("rt",this.helper.padNumber(this.dataSiswaForm.get("rt")?.value,3)),this.dataSiswaFormData.append("rw",this.helper.padNumber(this.dataSiswaForm.get("rt")?.value,3)),this.dataSiswaFormData.append("provinsi_id",this.dataSiswaForm.get("provinsi_id")?.value),this.dataSiswaFormData.append("kabupaten_id",this.dataSiswaForm.get("kabupaten_id")?.value),this.dataSiswaFormData.append("kecamatan_id",this.dataSiswaForm.get("kecamatan_id")?.value),this.dataSiswaFormData.append("kelurahan_id",this.dataSiswaForm.get("kelurahan_id")?.value),this.dataSiswaFormData.append("lat",t.lat.toString()),this.dataSiswaFormData.append("long",t.lon.toString()),this.dataSiswaFormData.append("alamat_map",this.infoAlamatMap),this.dataSiswaFormData.append("smp_tujuan",this.dataSiswaForm.get("sekolah_tujuan")?.value),this.dataSiswaFormData.append("nisn",this.dataSiswa.nisn)}),C(()=>this.callApi.post(this.dataSiswaFormData,"siswa/simpan/daftar")),_(t=>{this.stateRespon.updateModelToast({mode:"success",pesan:t.message});let e=O;e.forEach(r=>{r.name==="data siswa"?r.process="done":r.name==="nilai rapor"&&(r.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(e,"registrasi/nilai-rapor"),this.router.navigate(["registrasi/nilai-rapor"]),this.formDataSiswa()}),F(t=>{throw this.isLoading=!1,this.actionMessageError=!0,this.messageError=t.message==="harap mengisi form data"?t.message:t.error.message,t}),w(this.destroy)).subscribe()}};s.\u0275fac=function(e){return new(e||s)(u(re),u(W),u(V),u(N),u($),u(Ft),u(H),u(J),u(Lt),u(Pe))},s.\u0275cmp=D({type:s,selectors:[["prappdb-form-data-siswa-utama"]],viewQuery:function(e,r){if(e&1&&(He(Xt,5),He(Ct,5)),e&2){let f;Te(f=Ae())&&(r.captchaElem=f.first),Te(f=Ae())&&(r.infoWindow=f.first)}},decls:179,vars:42,consts:[["formDir","ngForm"],["marker","mapMarker"],["enctype","multipart/form-data",3,"submit","formGroup"],[1,"mb-4","text-lg","font-medium","leading-none","text-gray-900"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],[1,"block","mb-2","text-sm","font-medium","text-blue-900"],[1,"bg-blue-50","border","border-blue-50","text-blue-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5"],[1,"grid","gap-4","sm:col-span-2","md:gap-4","sm:grid-cols-2"],[1,"grid","gap-4","sm:col-span-2","md:gap-4","sm:grid-cols-3"],[1,"sm:col-span-2"],["for","alamat",1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"text-red-500"],["id","alamat","name","alamt","rows","4","autocomplete","off","formControlName","alamat","placeholder","Alamat","formControlName","alamat",1,"block","p-2.5","w-full","text-sm","text-gray-900","bg-gray-50","rounded-lg","border","border-gray-300","focus:ring-primary-500","focus:border-primary-500"],[4,"ngIf"],[1,"grid","gap-4","sm:col-span-2","md:gap-6","sm:grid-cols-2"],["for","rt",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["prappdbInputHanyaNomor","","autocomplete","off","type","text","name","rt","id","rt","placeholder","Nomor RT","formControlName","rt",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"maxLength","zero"],["for","rw",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["prappdbInputHanyaNomor","","autocomplete","off","type","text","name","rw","id","rw","placeholder","Nomor RW","formControlName","rw",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"maxLength","zero"],[1,"grid","gap-4","sm:col-span-2","md:gap-6","sm:grid-cols-4"],["for","provinsi_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["id","provinsi_id","name","provinsi_id","formControlName","provinsi_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],["value","null"],[4,"ngFor","ngForOf"],["for","kabupaten_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["id","kabupaten_id","name","kabupaten_id","formControlName","kabupaten_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],["for","kecamatan_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["id","kecamatan_id","name","kecamatan_id","formControlName","kecamatan_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],["for","kelurahan_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["id","kelurahan_id","name","kelurahan_id","formControlName","kelurahan_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],[1,"grid","gap-4","sm:col-span-2","md:gap-6","sm:grid-cols-5"],[1,"mb-4"],[1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"flex","justify-center","items-center","w-full"],["for","dropzone-file",1,"flex","flex-col","justify-center","items-center","w-full","h-64","bg-gray-50","rounded-lg","border-2","border-gray-300","border-dashed","cursor-pointerhover:bg-gray-100"],[1,"flex","flex-col","justify-center","items-center","pt-5","pb-6"],["accept","image/png, image/jpeg, image/jpg","id","dropzone-file","type","file",1,"hidden",3,"change"],["for","no_kk",1,"mb-2","text-sm","font-medium","text-gray-900"],["prappdbInputHanyaNomor","","type","text","name","no_kk","id","no_kk","placeholder","Nomor Kartu Keluarga","formControlName","no_kk",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"maxLength","zero"],["for","tanggal_kk",1,"mb-2","text-sm","font-medium","text-gray-900"],["type","date","name","tanggal_kk","id","tanggal_kk","placeholder","Tanggal Kartu Keluarga","formControlName","tanggal_kk",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5"],[1,"grid","gap-4","sm:col-span-2","md:gap-4","sm:grid-cols-4"],["for","nama_ibu",1,"mb-2","text-sm","font-medium","text-gray-900"],["prappdbInputHanyaHuruf","","type","text","name","nama_ibu","id","nama_ibu","placeholder","Nama Ibu","formControlName","nama_ibu",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5"],["for","no_wa",1,"mb-2","text-sm","font-medium","text-gray-900"],["prappdbInputHanyaNomor","","type","text","name","no_wa","id","no_wa","placeholder","Nomor Whatsapp","formControlName","no_wa",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"maxLength"],["for","nik",1,"mb-2","text-sm","font-medium","text-gray-900"],[1,"flex"],["prappdbInputHanyaNomor","","type","text","name","lama_tinggal","id","lama_tinggal","placeholder","Lama Tinggal","formControlName","lama_tinggal",1,"rounded-none","rounded-s-lg","bg-gray-50","border","text-gray-900","focus:ring-blue-500","focus:border-blue-500","block","flex-1","min-w-0","w-full","text-sm","border-gray-300","p-2.5",3,"maxLength"],[1,"inline-flex","items-center","px-3","text-sm","text-gray-900","bg-gray-200","border","rounded-e-0","border-gray-300","border-e-0","rounded-e-md"],["for","smp_tujuan",1,"mb-2","text-sm","font-medium","text-gray-900"],["id","kel","name","sekolah_asal","id","sekolah_asal","formControlName","sekolah_tujuan",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],[1,"items-center","space-y-4","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["type","submit",1,"w-full","sm:w-auto","justify-center","items-center","inline-flex","gap-3","text-white","bg-colors-primary","mary-main","hover:bg-colors-secondary","hover:text-black","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],["role","alert",1,"mt-1","flex","items-center","p-2","mb-4","text-xs","text-red-800","rounded-lg","bg-red-50"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"font-medium"],[3,"value"],[1,"sm:col-span-3","relative","md:block"],[1,"flex","flex-row","gap-4","absolute","z-10","right-1","top-1"],["type","button",1,"w-auto","justify-center","inline-flex","text-white","bg-colors-primary","hover:bg-colors-secondary","hover:text-black","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["height","320px","width","100%",3,"mapClick","center","zoom"],[3,"position"],[1,"flex","flex-col","gap-1","absolute","z-20","right-0","top-0","justify-center","items-center","w-full","h-80","backdrop-blur-lg","bg-white","bg-opacity-50"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"text-red-500","w-11","h-11","mx-auto"],["fill-rule","evenodd","d","M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule","evenodd"],[1,"mb-4","text-black","font-bold","text-lg"],[3,"polygonClick","paths","options"],[3,"mapClick","position"],[1,"fixed","flex","justify-center","items-start","inset-0","z-50","bg-gray-300","bg-opacity-65","w-full","h-full"],[3,"view","lokasi"],[1,"grid","gap-4","mb-4","sm:grid-cols-1","sm:col-span-2"],["aria-hidden","true","fill","none","stroke","currentColor","viewbox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"mb-3","w-10","h-10","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"mb-3","w-10","h-10","text-gray-400"],["fill-rule","evenodd","d","M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["target","_blank","rel","noopener noreferrer",1,"font-medium","text-md","hover:underline",3,"href"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["role","alert",1,"p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["fill-rule","evenodd","d","M14.47 2.47a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06l4.72-4.72H9a5.25 5.25 0 1 0 0 10.5h3a.75.75 0 0 1 0 1.5H9a6.75 6.75 0 0 1 0-13.5h10.19l-4.72-4.72a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(e,r){if(e&1){let f=Z();p(0),i(1,"form",2,0),k("submit",function(){return S(f),M(r.submit())}),i(3,"h3",3),o(4,"Data Siswa"),a(),i(5,"div",4)(6,"div")(7,"label",5),o(8," NIK "),a(),i(9,"div",6),o(10),a()(),i(11,"div")(12,"label",5),o(13," Nama Lengkap "),a(),i(14,"div",6),o(15),a()(),i(16,"div",7)(17,"div")(18,"label",5),o(19," Tempat Lahir "),a(),i(20,"div",6),o(21),a()(),i(22,"div")(23,"label",5),o(24," Tanggal Lahir "),a(),i(25,"div",6),o(26),a()()(),i(27,"div",8)(28,"div")(29,"label",5),o(30," NISN "),a(),i(31,"div",6),o(32),a()(),i(33,"div")(34,"label",5),o(35," Sekolah Asal "),a(),i(36,"div",6),o(37),a()(),i(38,"div")(39,"label",5),o(40," NPSN "),a(),i(41,"div",6),o(42),a()()(),i(43,"div",9)(44,"label",10),o(45," Alamat "),i(46,"span",11),o(47,"*"),a()(),c(48,"textarea",12),v(49,ei,10,0,"ng-container",13),a(),i(50,"div",14)(51,"div")(52,"label",15),o(53," RT "),i(54,"span",11),o(55,"*"),a()(),c(56,"input",16),v(57,ti,10,0,"ng-container",13),a(),i(58,"div")(59,"label",17),o(60," RW "),i(61,"span",11),o(62,"*"),a()(),c(63,"input",18),v(64,ii,10,0,"ng-container",13),a()(),i(65,"div",19)(66,"div")(67,"label",20),o(68," Provinsi "),i(69,"span",11),o(70,"*"),a()(),i(71,"select",21),k("change",function(x){return S(f),M(r.onProvinsiChange(x))}),i(72,"option",22),o(73,"Pilih Provinsi"),a(),v(74,ai,3,2,"ng-container",23),a(),v(75,ni,10,0,"ng-container",13),a(),i(76,"div")(77,"label",24),o(78," Kota / Kab "),i(79,"span",11),o(80,"*"),a()(),i(81,"select",25),k("change",function(x){return S(f),M(r.onKabupatenChange(x))}),i(82,"option",22),o(83,"Pilih Kota / Kab"),a(),v(84,ri,3,2,"ng-container",23),a(),v(85,si,10,0,"ng-container",13),a(),i(86,"div")(87,"label",26),o(88," Kecamatan "),i(89,"span",11),o(90,"*"),a()(),i(91,"select",27),k("change",function(x){return S(f),M(r.onKecamatanChange(x))}),i(92,"option",22),o(93,"Pilih Kecamatan"),a(),v(94,oi,3,2,"ng-container",23),a(),v(95,li,10,0,"ng-container",13),a(),i(96,"div")(97,"label",28),o(98," Kelurahan "),i(99,"span",11),o(100,"*"),a()(),i(101,"select",29),k("change",function(x){return S(f),M(r.onKelurahanChange(x))}),i(102,"option",22),o(103,"Pilih Kota"),a(),v(104,mi,3,2,"ng-container",23),a(),v(105,di,10,0,"ng-container",13),a()(),i(106,"div",30),v(107,fi,17,6,"ng-container",13),a()(),i(108,"div",31)(109,"span",32),o(110," Upload Kartu Keluarga (format .jpeg/ .jpg/ .png) "),i(111,"span",11),o(112,"*"),a()(),i(113,"div",33)(114,"label",34)(115,"div",35),v(116,_i,8,0,"ng-container",13)(117,vi,7,2,"ng-container",13),a(),i(118,"input",36),k("change",function(x){return S(f),M(r.uploadKK(x))}),a()()(),v(119,yi,10,0,"ng-container",13)(120,bi,10,1,"ng-container",13),a(),i(121,"div",4)(122,"div")(123,"label",37),o(124," Nomor Kartu Keluarga "),i(125,"span",11),o(126,"*"),a()(),c(127,"input",38),v(128,ki,10,0,"ng-container",13),a(),i(129,"div")(130,"label",39),o(131," Tanggal Terbit Kartu Keluarga "),i(132,"span",11),o(133,"*"),a()(),c(134,"input",40),v(135,wi,10,0,"ng-container",13),a(),i(136,"div",41)(137,"div")(138,"label",42),o(139," Nama Ibu "),i(140,"span",11),o(141,"*"),a()(),c(142,"input",43),v(143,xi,10,0,"ng-container",13),a(),i(144,"div")(145,"label",44),o(146," Nomor Whatsapp "),i(147,"span",11),o(148,"*"),a()(),c(149,"input",45),v(150,Ci,10,0,"ng-container",13),a(),i(151,"div")(152,"label",46),o(153," Lama Tinggal "),i(154,"span",11),o(155,"*"),a()(),i(156,"div",47),c(157,"input",48),i(158,"span",49),o(159," Tahun "),a()(),v(160,Si,10,0,"ng-container",13),a(),i(161,"div")(162,"label",50),o(163," Tempat Verifikasi "),i(164,"span",11),o(165,"*"),a()(),i(166,"select",51),k("change",function(x){return S(f),M(r.onSekolahChange(x))}),i(167,"option",22),o(168,"Pilih Sekolah Tujuan"),a(),v(169,Mi,3,2,"ng-container",23),a(),v(170,Ei,10,0,"ng-container",13),a()()(),v(171,Ii,5,1,"ng-container",13),i(172,"div",52)(173,"button",53),k("click",function(){return S(f),M(r.cancel())}),i(174,"span"),o(175,"Batal"),a()(),i(176,"button",54),v(177,zi,4,0,"ng-container",13)(178,Fi,5,0,"ng-container",13),a()()(),g()}e&2&&(l(),m("formGroup",r.dataSiswaForm),l(9),z(" ",r.dataSiswa.nik,""),l(5),z(" ",r.dataSiswa.n_siswa,""),l(6),z(" ",r.dataSiswa.t_lahir,""),l(5),z(" ",r.dataSiswa.d_lahir,""),l(6),z(" ",r.dataSiswa.nisn,""),l(5),z(" ",r.dataSiswa.sekolah_asal,""),l(5),z(" ",r.dataSiswa.npsn,""),l(7),m("ngIf",r.noAlamat),l(7),m("maxLength",3)("zero",!0),l(),m("ngIf",r.noRt),l(6),m("maxLength",3)("zero",!0),l(),m("ngIf",r.noRw),l(10),m("ngForOf",r.provinsi),l(),m("ngIf",r.noProvinsi),l(9),m("ngForOf",r.kabupaten),l(),m("ngIf",r.noKota),l(9),m("ngForOf",r.kecamatan),l(),m("ngIf",r.noKecamatan),l(9),m("ngForOf",r.kelurahan),l(),m("ngIf",r.noKelurahan),l(2),m("ngIf",r.actionMap),l(9),m("ngIf",r.nameFile===null),l(),m("ngIf",r.nameFile!==null),l(2),m("ngIf",r.noNameSertifikat),l(),m("ngIf",r.uploadError),l(7),m("maxLength",16)("zero",!1),l(),m("ngIf",r.noNomorKk),l(7),m("ngIf",r.noTanggalKk),l(8),m("ngIf",r.noNamaIbu),l(6),m("maxLength",13),l(),m("ngIf",r.noNomorWa),l(7),m("maxLength",3),l(3),m("ngIf",r.noLamaTinggal),l(9),m("ngForOf",r.sekolah),l(),m("ngIf",r.noSekolahTujuan),l(),m("ngIf",r.actionMessageError),l(6),m("ngIf",!r.isLoading),l(),m("ngIf",r.isLoading))},dependencies:[ee,P,ct,ht,ie,pe,ge,q,de,U,te,ae,ne,ze,St,Mt,Dt]});let n=s;return n})();var Li=(n,s,d)=>({"text-green-700 border-green-300 bg-green-50":n,"text-blue-700 bg-blue-100 border-blue-300":s,"text-gray-900 bg-gray-100 border-gray-300":d});function Di(n,s){n&1&&(p(0),h(),i(1,"svg",7),c(2,"path",8),a(),g())}function Ti(n,s){n&1&&(p(0),h(),i(1,"svg",9),c(2,"path",10),a(),g())}function Ai(n,s){if(n&1&&(p(0),i(1,"li")(2,"div",2)(3,"div",3)(4,"span",4),o(5),a(),i(6,"h3",5),o(7),a(),v(8,Di,3,0,"ng-container",6)(9,Ti,3,0,"ng-container",6),a()()(),g()),n&2){let d=s.$implicit,t=s.index;l(2),m("ngClass",rt(5,Li,d.process==="done",d.process==="on proses",d.process==="none")),l(3),R(d.name),l(2),R(t+1+". "+d.name),l(),m("ngIf",d.process==="done"),l(),m("ngIf",d.process==="on proses")}}var In=(()=>{let s=class s{constructor(t){this.stateTahapanRegistrasi=t,this.destroy=new T,this.step=O}ngOnInit(){this.stateTahapanRegistrasi.gettahapanRegistrasi.pipe(_(t=>this.step=t),w(this.destroy)).subscribe()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}};s.\u0275fac=function(e){return new(e||s)(u(N))},s.\u0275cmp=D({type:s,selectors:[["prappdb-tahapan-registrasi-utama"]],decls:2,vars:1,consts:[[1,"md:space-y-4","md:w-full","md:block","hidden"],[4,"ngFor","ngForOf"],["role","alert",1,"w-full","p-4","rounded-lg","border",3,"ngClass"],[1,"flex","items-center","justify-between"],[1,"sr-only","capitalize"],[1,"font-medium","capitalize"],[4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 16 12",1,"w-4","h-4"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 5.917 5.724 10.5 15 1.5"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 10",1,"rtl:rotate-180","w-4","h-4"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 5h12m0 0L9 1m4 4L9 9"]],template:function(e,r){e&1&&(i(0,"ol",0),v(1,Ai,10,9,"ng-container",1),a()),e&2&&(l(),m("ngForOf",r.step))},dependencies:[st,ee,P]});let n=s;return n})();function Oi(n,s){n&1&&(p(0),i(1,"div",4),h(),i(2,"svg",5),c(3,"path",6),a(),y(),i(4,"span",7),o(5,"Check icon"),a()(),g())}function ji(n,s){n&1&&(p(0),i(1,"div",8),h(),i(2,"svg",5),c(3,"path",9),a(),y(),i(4,"span",7),o(5,"Warning icon"),a()(),g())}function Ri(n,s){if(n&1&&(p(0),i(1,"div",1)(2,"div",2),v(3,Oi,6,0,"ng-container",0)(4,ji,6,0,"ng-container",0),i(5,"div",3),o(6),a()()(),g()),n&2){let d=E();l(3),m("ngIf",d.respon.mode==="success"),l(),m("ngIf",d.respon.mode==="error"),l(2),R(d.respon.pesan)}}var Dn=(()=>{let s=class s{constructor(t,e){this.stateResponS=t,this.router=e,this.destroy=new T,this.respon=oe}ngOnInit(){this.getRespon()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}getRespon(){this.stateResponS.getModelToast.pipe(_(t=>this.respon=t),C(()=>ve(2e3)),_(()=>this.stateResponS.clearRespons()),w(this.destroy)).subscribe()}};s.\u0275fac=function(e){return new(e||s)(u(H),u(V))},s.\u0275cmp=D({type:s,selectors:[["prappdb-respon-toast"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"fixed","w-auto","flex","justify-end","items-start","top-5","right-5","z-50"],["id","toast-success","role","alert",1,"flex","items-center","w-full","max-w-xs","p-4","mb-4","text-gray-500","bg-white","rounded-lg","shadow"],[1,"ms-3","text-sm","font-normal","capitalize"],[1,"inline-flex","items-center","justify-center","flex-shrink-0","w-8","h-8","text-green-500","bg-green-100","rounded-lg"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"],[1,"sr-only"],[1,"inline-flex","items-center","justify-center","flex-shrink-0","w-8","h-8","text-orange-500","bg-orange-100","rounded-lg"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z"]],template:function(e,r){e&1&&v(0,Ri,7,3,"ng-container",0),e&2&&m("ngIf",r.respon.mode!==null)},dependencies:[P],styles:["@supports (animation: grow .5s cubic-bezier(.25,.25,.25,1) forwards){.tick[_ngcontent-%COMP%]{stroke-opacity:0;stroke-dasharray:29px;stroke-dashoffset:29px;animation:_ngcontent-%COMP%_draw .5s cubic-bezier(.25,.25,.25,1) forwards;animation-delay:.6s}.circle-success[_ngcontent-%COMP%]{fill-opacity:0;stroke:#219a00;stroke-width:16px;transform-origin:center;transform:scale(0);animation:_ngcontent-%COMP%_grow-success 1s cubic-bezier(.25,.25,.25,1.25) forwards}.circle-failed[_ngcontent-%COMP%]{fill-opacity:0;stroke:red;stroke-width:16px;transform-origin:center;transform:scale(0);animation:_ngcontent-%COMP%_grow-failed 1s cubic-bezier(.25,.25,.25,1.25) forwards}}@keyframes _ngcontent-%COMP%_grow-success{60%{transform:scale(.8);stroke-width:4px;fill-opacity:0}to{transform:scale(.9);stroke-width:8px;fill-opacity:1;fill:#219a00}}@keyframes _ngcontent-%COMP%_grow-failed{60%{transform:scale(.8);stroke-width:4px;fill-opacity:0}to{transform:scale(.9);stroke-width:8px;fill-opacity:1;fill:red}}@keyframes _ngcontent-%COMP%_draw{0%,to{stroke-opacity:1}to{stroke-dashoffset:0}}"]});let n=s;return n})();var Tt={id:null,tmsiswa_id:null,no_sk:null,ket:null,acc:null,file_url:null,file_name:null};function Pi(n,s){if(n&1&&(p(0),i(1,"div",24)(2,"span",3),o(3,"Info alert!"),a(),o(4),a(),g()),n&2){let d=E();l(4),z(" ",d.messageError," ")}}function Vi(n,s){n&1&&(p(0),i(1,"div",25),h(),i(2,"svg",26),c(3,"path",27),a(),y(),i(4,"span",28),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Danger alert!"),a(),o(9," Nomor surat harap diisi "),a()(),g())}function Ni(n,s){n&1&&(p(0),h(),i(1,"svg",29),c(2,"path",30),a(),y(),i(3,"p",31)(4,"span",32),o(5,"Click to upload"),a()(),i(6,"p",33),o(7,"Hanya file berformat PNG, JPG, PDF "),a(),g())}function Gi(n,s){if(n&1&&(p(0),h(),i(1,"svg",34),c(2,"path",35)(3,"path",36),a(),y(),i(4,"a",37)(5,"p",31),o(6),a()(),g()),n&2){let d=E();l(4),m("href",d.anakGuruData.file_url,me),l(2),z(" ",d.nameFile," ")}}function Zi(n,s){n&1&&(p(0),i(1,"div",25),h(),i(2,"svg",26),c(3,"path",27),a(),y(),i(4,"span",28),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Danger alert!"),a(),o(9," Harap mengupload surat "),a()(),g())}function Hi(n,s){if(n&1&&(p(0),i(1,"div",25),h(),i(2,"svg",26),c(3,"path",27),a(),y(),i(4,"span",28),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Danger alert!"),a(),o(9),a()(),g()),n&2){let d=E();l(9),z(" ",d.uploadErrorMessage," ")}}function Ki(n,s){n&1&&(p(0),o(1," Simpan dan Lanjut "),g())}function Bi(n,s){n&1&&(p(0),h(),i(1,"svg",38),c(2,"path",39)(3,"path",40),a(),o(4," Loading... "),g())}var Vn=(()=>{let s=class s{constructor(t,e,r,f,b,x,B){this.fb=t,this.stateLogin=e,this.router=r,this.stateTahapanegistrasi=f,this.stateNavigasi=b,this.callApi=x,this.stateRespon=B,this.destroy=new T,this.nameFile=null,this.uploadError=!1,this.uploadErrorMessage="",this.anakGuruData=Tt,this.anakGuruFormData=null,this.actionMessageError=!1,this.messageError="",this.isLoading=!1}ngOnInit(){this.formAnakGuru(),this.anakGuru()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}formAnakGuru(){this.anakGuruForm=this.fb.group({no_surat:[null,[I.required]],name_file:[null,[I.required]],file:[null]})}anakGuru(){this.stateLogin.getLogin.pipe(C(t=>this.callApi.getWithParam("siswa/anak_guru","siswa_id",parseInt(t.siswa_id))),A(t=>t.data),_(t=>this.anakGuruData=t),_(t=>{t.length!==0&&(this.anakGuruForm.get("no_surat")?.setValue(t.no_sk),this.anakGuruForm.get("name_file")?.setValue(t.file_name),this.anakGuruForm.get("file")?.setValue(t.file_url),this.nameFile=t.file_name===""?null:t.file_name)}),F(t=>{throw this.actionMessageError=!0,this.messageError=t.error.message,t}),w(this.destroy)).subscribe()}get nomorSuratControl(){return this.anakGuruForm.get("no_surat")}get noNomorSUrat(){return this.nomorSuratControl.hasError("required")&&this.nomorSuratControl.touched}get nameSuratControl(){return this.anakGuruForm.get("name_file")}get noNameSurat(){return this.nameSuratControl.hasError("required")&&this.nameSuratControl.touched}get nameSertifikatControl(){return this.anakGuruForm.get("name_file")}get noNameSertifikat(){return this.nameSertifikatControl.hasError("required")&&this.nameSertifikatControl.touched}uploadFile(t){return G(this,null,function*(){try{this.uploadError=!1;let e=yield t.target.files[0];if(yield this.anakGuruForm.patchValue({file:e}),yield this.anakGuruForm.patchValue({name_file:e.name}),e.type!=="image/png"&&e.type!=="image/jpg"&&e.type!=="image/jpeg"&&e.type!=="application/pdf")throw new Error("Format File tidak diizinkan");this.nameFile=e.name}catch(e){this.uploadError=!0,this.uploadErrorMessage=e.message}})}submit(){L(this.anakGuruForm.valid).pipe(_(()=>this.isLoading=!0),A(t=>{if(!t)throw Object.values(this.anakGuruForm.controls).forEach(e=>{e.markAsTouched()}),new Error("harap mengisi form data");return t}),C(()=>this.stateLogin.getLogin),_(t=>{this.anakGuruFormData=new FormData,this.anakGuruFormData.append("nik",t.nik),this.anakGuruFormData.append("nisn",t.nisn),this.anakGuruFormData.append("no_surat",this.anakGuruForm.get("no_surat")?.value),this.anakGuruFormData.append("file",this.anakGuruForm.get("file")?.value)}),C(()=>this.callApi.post(this.anakGuruFormData,"siswa/simpan/anak_guru")),_(t=>{this.formAnakGuru(),this.stateRespon.updateModelToast({mode:"success",pesan:t.message});let e=O;e.forEach(r=>{r.name==="data siswa"||r.name==="nilai rapor"||r.name==="prestasi"||r.name==="afirmasi / disabilitas"||r.name==="anak guru"?r.process="done":r.name==="perpindahan orang tua / wali"&&(r.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(e,"registrasi/pindah-wali")}),_(()=>this.router.navigate(["registrasi/pindah-wali"])),F(t=>{if(this.isLoading=!1,this.stateRespon.updateModelToast({mode:"error",pesan:t.error.message}),t.error.message==="Data sudah tersedia."){let e=O;e.forEach(r=>{r.name==="data siswa"||r.name==="nilai rapor"||r.name==="prestasi"||r.name==="afirmasi / disabilitas"||r.name==="anak guru"?r.process="done":r.name==="perpindahan orang tua / wali"&&(r.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(e,"registrasi/pindah-wali"),this.router.navigate(["registrasi/pindah-wali"])}throw t}),_(()=>this.isLoading=!1),Y(5e3),w(this.destroy)).subscribe()}lewati(){let t=O;t.forEach(e=>{e.name==="data siswa"||e.name==="nilai rapor"||e.name==="prestasi"||e.name==="afirmasi / disabilitas"||e.name==="anak guru"?e.process="done":e.name==="perpindahan orang tua / wali"&&(e.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(t,"registrasi/pindah-wali"),this.router.navigate(["registrasi/pindah-wali"])}kembali(){let t=O;t.forEach(e=>{e.name==="data siswa"||e.name==="nilai rapor"||e.name==="prestasi"?e.process="done":e.name==="afirmasi / disabilitas"?e.process="on proses":e.name==="anak guru"&&(e.process="none")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(t,"registrasi/afirmasi-disabilitas"),this.router.navigate(["registrasi/afirmasi-disabilitas"])}};s.\u0275fac=function(e){return new(e||s)(u(re),u(W),u(V),u(N),u($),u(J),u(H))},s.\u0275cmp=D({type:s,selectors:[["prappdb-form-anak-guru-registrasi"]],decls:51,vars:9,consts:[["formDir","ngForm"],[1,"p-4","md:p-5"],["role","alert",1,"p-4","mb-4","text-sm","text-blue-800","rounded-lg","bg-blue-50","dark:bg-gray-800","dark:text-blue-400"],[1,"font-medium"],["role","alert",1,"p-4","mb-4","text-sm","text-orange-800","rounded-lg","bg-orange-50","dark:bg-gray-800","dark:text-orange-800"],[4,"ngIf"],["enctype","multipart/form-data",1,"space-y-4","pb-1",3,"submit","formGroup"],[1,"mb-4","text-lg","font-medium","leading-none","text-gray-900"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],[1,"mb-4"],["for","no_surat",1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"text-red-500"],["type","text","name","no_surat","id","no_surat","placeholder","Nomor surat","formControlName","no_surat",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],[1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"flex","justify-center","items-center","w-full"],["for","dropzone-file",1,"flex","flex-col","justify-center","items-center","w-full","h-64","bg-gray-50","rounded-lg","border-2","border-gray-300","border-dashed","cursor-pointerhover:bg-gray-100"],[1,"flex","flex-col","justify-center","items-center","pt-5","pb-6"],["accept","application/pdf, image/png, image/jpeg, image/jpg","id","dropzone-file","type","file",1,"hidden",3,"change"],[1,"items-center","space-y-2","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"gap-1","w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["fill-rule","evenodd","d","M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z","clip-rule","evenodd"],["type","submit",1,"w-full","sm:w-auto","justify-center","items-center","text-white","inline-flex","gap-3","bg-colors-primary","hover:bg-colors-secondary","hover:text-black","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],["fill-rule","evenodd","d","M14.47 2.47a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06l4.72-4.72H9a5.25 5.25 0 1 0 0 10.5h3a.75.75 0 0 1 0 1.5H9a6.75 6.75 0 0 1 0-13.5h10.19l-4.72-4.72a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],["role","alert",1,"p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],["aria-hidden","true","fill","none","stroke","currentColor","viewbox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"mb-3","w-10","h-10","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"mb-3","w-10","h-10","text-gray-400"],["fill-rule","evenodd","d","M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["target","_blank","rel","noopener noreferrer",1,"font-medium","text-md","hover:underline",3,"href"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(e,r){if(e&1){let f=Z();i(0,"div",1),p(1),i(2,"div",2)(3,"span",3),o(4,"Informasi!"),a(),o(5," Tahapan ini bisa dilewati, anda bisa langsung ke proses berikutnya "),a(),i(6,"div",4)(7,"span",3),o(8,"Informasi!"),a(),o(9," Guru yang di maksud adalah guru yang mengajar di sekolah tujuan "),a(),g(),v(10,Pi,5,1,"ng-container",5),i(11,"form",6,0),k("submit",function(){return S(f),M(r.submit())}),i(13,"h3",7),o(14," Bukti Anak Guru "),a(),c(15,"div",8),i(16,"div",9)(17,"div")(18,"label",10),o(19," Nomor SK Penugasan Mengajar "),i(20,"span",11),o(21,"*"),a()(),c(22,"input",12),v(23,Vi,10,0,"ng-container",5),a()(),i(24,"div",9)(25,"span",13),o(26," SK Penugasan Mengajar (format .jpeg/ .jpg/ .png / .pdf) "),i(27,"span",11),o(28,"*"),a()(),i(29,"div",14)(30,"label",15)(31,"div",16),v(32,Ni,8,0,"ng-container",5)(33,Gi,7,2,"ng-container",5),a(),i(34,"input",17),k("change",function(x){return S(f),M(r.uploadFile(x))}),a()()(),v(35,Zi,10,0,"ng-container",5)(36,Hi,10,1,"ng-container",5),a(),i(37,"div",18)(38,"button",19),k("click",function(){return S(f),M(r.kembali())}),h(),i(39,"svg",20),c(40,"path",21),a(),y(),i(41,"span"),o(42,"Kembali"),a()(),i(43,"button",22),v(44,Ki,2,0,"ng-container",5)(45,Bi,5,0,"ng-container",5),a(),i(46,"button",19),k("click",function(){return S(f),M(r.lewati())}),i(47,"span"),o(48,"Lewati"),a(),h(),i(49,"svg",20),c(50,"path",23),a()()()()()}e&2&&(l(10),m("ngIf",r.actionMessageError),l(),m("formGroup",r.anakGuruForm),l(12),m("ngIf",r.noNomorSUrat),l(9),m("ngIf",r.nameFile===null),l(),m("ngIf",r.nameFile!==null),l(2),m("ngIf",r.noNameSurat),l(),m("ngIf",r.uploadError),l(8),m("ngIf",!r.isLoading),l(),m("ngIf",r.isLoading))},dependencies:[P,ie,q,U,te,ae,ne]});let n=s;return n})();var At={id:null,tmsiswa_id:null,no_sk:null,instansi_ortu:null,ket:null,acc:null,file_url:null,file_name:null};function Wi(n,s){if(n&1&&(p(0),i(1,"div",28)(2,"span",3),o(3,"Info alert!"),a(),o(4),a(),g()),n&2){let d=E();l(4),z(" ",d.messageError," ")}}function Ui(n,s){n&1&&(p(0),i(1,"div",29),h(),i(2,"svg",30),c(3,"path",31),a(),y(),i(4,"span",32),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Danger alert!"),a(),o(9," Nomor surat harap diisi "),a()(),g())}function qi(n,s){n&1&&(p(0),i(1,"div",29),h(),i(2,"svg",30),c(3,"path",31),a(),y(),i(4,"span",32),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Danger alert!"),a(),o(9," Instansi wali harap diisi "),a()(),g())}function Ji(n,s){n&1&&(p(0),h(),i(1,"svg",33),c(2,"path",34),a(),y(),i(3,"p",35)(4,"span",36),o(5,"Click to upload"),a()(),i(6,"p",37),o(7,"Hanya file berformat PNG, JPG, PDF "),a(),g())}function $i(n,s){if(n&1&&(p(0),h(),i(1,"svg",38),c(2,"path",39)(3,"path",40),a(),y(),i(4,"a",41)(5,"p",42),o(6),a()(),g()),n&2){let d=E();l(4),m("href",d.pindahWaliData.file_url,me),l(2),z(" ",d.nameFile," ")}}function Qi(n,s){n&1&&(p(0),i(1,"div",29),h(),i(2,"svg",30),c(3,"path",31),a(),y(),i(4,"span",32),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Danger alert!"),a(),o(9," Harap mengupload surat "),a()(),g())}function Yi(n,s){if(n&1&&(p(0),i(1,"div",43),h(),i(2,"svg",30),c(3,"path",31),a(),y(),i(4,"span",32),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Danger alert!"),a(),o(9),a()(),g()),n&2){let d=E();l(9),z(" ",d.uploadErrorMessage," ")}}function Xi(n,s){n&1&&(p(0),o(1," Simpan dan Lanjut "),g())}function ea(n,s){n&1&&(p(0),h(),i(1,"svg",44),c(2,"path",45)(3,"path",46),a(),o(4," Loading... "),g())}var Un=(()=>{let s=class s{constructor(t,e,r,f,b,x,B){this.fb=t,this.stateLogin=e,this.router=r,this.stateTahapanegistrasi=f,this.stateNavigasi=b,this.callApi=x,this.stateRespon=B,this.destroy=new T,this.nameFile=null,this.uploadError=!1,this.uploadErrorMessage="",this.pindahWaliData=At,this.pindahWaliFormData=null,this.actionMessageError=!1,this.messageError="",this.isLoading=!1}ngOnInit(){this.formPindahWali(),this.pindahWali()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}formPindahWali(){this.pindahWaliForm=this.fb.group({no_surat:[null,[I.required]],instansi_ortu:[null,[I.required]],name_file:[null,[I.required]],file:[null]})}pindahWali(){this.stateLogin.getLogin.pipe(C(t=>this.callApi.getWithParam("siswa/pindah_ortu","siswa_id",parseInt(t.siswa_id))),A(t=>t.data),_(t=>this.pindahWali=t),_(t=>{t.length!==0&&(this.pindahWaliForm.get("no_surat")?.setValue(t.no_sk),this.pindahWaliForm.get("instansi_ortu")?.setValue(t.instansi_ortu),this.pindahWaliForm.get("name_file")?.setValue(t.file_name),this.pindahWaliForm.get("file")?.setValue(t.file_url),this.nameFile=t.file_name===""?null:t.file_name)}),F(t=>{throw this.actionMessageError=!0,this.messageError=t.error.message,t}),w(this.destroy)).subscribe()}get nomorSuratControl(){return this.pindahWaliForm.get("no_surat")}get noNomorSUrat(){return this.nomorSuratControl.hasError("required")&&this.nomorSuratControl.touched}get instansiOrtuControl(){return this.pindahWaliForm.get("instansi_ortu")}get noInstansiOrtu(){return this.instansiOrtuControl.hasError("required")&&this.instansiOrtuControl.touched}get nameSuratControl(){return this.pindahWaliForm.get("name_file")}get noNameSurat(){return this.nameSuratControl.hasError("required")&&this.nameSuratControl.touched}get nameSertifikatControl(){return this.pindahWaliForm.get("name_file")}get noNameSertifikat(){return this.nameSertifikatControl.hasError("required")&&this.nameSertifikatControl.touched}onInstansiOrtu(t){return G(this,null,function*(){yield this.pindahWaliForm.get("instansi_ortu")?.setValue(t.target.value)})}uploadFile(t){return G(this,null,function*(){try{this.uploadError=!1;let e=yield t.target.files[0];if(yield this.pindahWaliForm.patchValue({file:e}),yield this.pindahWaliForm.patchValue({name_file:e.name}),e.type!=="image/png"&&e.type!=="image/jpg"&&e.type!=="image/jpeg"&&e.type!=="application/pdf")throw new Error("Format File tidak diizinkan");this.nameFile=e.name}catch(e){this.uploadError=!0,this.uploadErrorMessage=e.message}})}submit(){L(this.pindahWaliForm.valid).pipe(_(()=>this.isLoading=!0),A(t=>{if(!t)throw Object.values(this.pindahWaliForm.controls).forEach(e=>{e.markAsTouched()}),new Error("harap mengisi form data");return t}),C(()=>this.stateLogin.getLogin),_(t=>{this.pindahWaliFormData=new FormData,this.pindahWaliFormData.append("nik",t.nik),this.pindahWaliFormData.append("nisn",t.nisn),this.pindahWaliFormData.append("instansi_ortu",this.pindahWaliForm.get("instansi_ortu")?.value),this.pindahWaliFormData.append("no_surat",this.pindahWaliForm.get("no_surat")?.value),this.pindahWaliFormData.append("file",this.pindahWaliForm.get("file")?.value)}),C(()=>this.callApi.post(this.pindahWaliFormData,"siswa/simpan/pindah_ortu")),_(t=>{this.formPindahWali(),this.stateRespon.updateModelToast({mode:"success",pesan:t.message});let e=O;e.forEach(r=>{r.name==="data siswa"||r.name==="nilai rapor"||r.name==="prestasi"||r.name==="afirmasi / disabilitas"||r.name==="anak guru"||r.name==="perpindahan orang tua / wali"?r.process="done":r.name==="konfirmasi"&&(r.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(e,"registrasi/konfirmasi")}),_(()=>this.router.navigate(["registrasi/konfirmasi"])),F(t=>{if(this.isLoading=!1,this.stateRespon.updateModelToast({mode:"error",pesan:t.error.message}),t.error.message==="Data sudah tersedia."){let e=O;e.forEach(r=>{r.name==="data siswa"||r.name==="nilai rapor"||r.name==="prestasi"||r.name==="afirmasi / disabilitas"||r.name==="anak guru"||r.name==="perpindahan orang tua / wali"?r.process="done":r.name==="konfirmasi"&&(r.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(e,"registrasi/konfirmasi"),this.router.navigate(["registrasi/konfirmasi"])}throw t}),_(()=>this.isLoading=!1),Y(5e3),w(this.destroy)).subscribe()}lewati(){let t=O;t.forEach(e=>{e.name==="data siswa"||e.name==="nilai rapor"||e.name==="prestasi"||e.name==="afirmasi / disabilitas"||e.name==="anak guru"||e.name==="perpindahan orang tua / wali"?e.process="done":e.name==="konfirmasi"&&(e.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(t,"registrasi/konfirmasi"),this.router.navigate(["registrasi/konfirmasi"])}kembali(){let t=O;t.forEach(e=>{e.name==="data siswa"||e.name==="nilai rapor"||e.name==="prestasi"||e.name==="afirmasi / disabilitas"?e.process="done":e.name==="anak guru"?e.process="on proses":e.name==="perpindahan orang tua / wali"&&(e.process="none")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(t,"registrasi/anak-guru"),this.router.navigate(["registrasi/anak-guru"])}};s.\u0275fac=function(e){return new(e||s)(u(re),u(W),u(V),u(N),u($),u(J),u(H))},s.\u0275cmp=D({type:s,selectors:[["prappdb-form-pindah-wali-registrasi"]],decls:59,vars:10,consts:[["formDir","ngForm"],[1,"p-4","md:p-5"],["role","alert",1,"p-4","mb-4","text-sm","text-blue-800","rounded-lg","bg-blue-50","dark:bg-gray-800","dark:text-blue-400"],[1,"font-medium"],[4,"ngIf"],["enctype","multipart/form-data",1,"space-y-4","pb-1",3,"submit","formGroup"],[1,"mb-4","text-lg","font-medium","leading-none","text-gray-900"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],["for","no_surat",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"text-red-500"],["type","text","name","no_surat","id","no_surat","placeholder","Nomor surat","formControlName","no_surat",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white"],["for","instansi_ortu",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","instansi_ortu","name","instansi_ortu","formControlName","instansi_ortu",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"change"],["value","null"],["value","negeri"],["value","swasta"],[1,"mb-4"],[1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"flex","justify-center","items-center","w-full"],["for","dropzone-file",1,"flex","flex-col","justify-center","items-center","w-full","h-64","bg-gray-50","rounded-lg","border-2","border-gray-300","border-dashed","cursor-pointer","dark:hover:bg-bray-800","dark:bg-gray-700","hover:bg-gray-100","dark:border-gray-600","dark:hover:border-gray-500","dark:hover:bg-gray-600"],[1,"flex","flex-col","justify-center","items-center","pt-5","pb-6"],["accept","application/pdf, image/png, image/jpeg, image/jpg","id","dropzone-file","type","file",1,"hidden",3,"change"],[1,"items-center","space-y-2","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"gap-1","w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["fill-rule","evenodd","d","M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z","clip-rule","evenodd"],["type","submit",1,"w-full","sm:w-auto","justify-center","items-center","text-white","inline-flex","gap-3","bg-colors-primary","hover:bg-colors-secondary","hover:text-black","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],["fill-rule","evenodd","d","M14.47 2.47a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06l4.72-4.72H9a5.25 5.25 0 1 0 0 10.5h3a.75.75 0 0 1 0 1.5H9a6.75 6.75 0 0 1 0-13.5h10.19l-4.72-4.72a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],["role","alert",1,"p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],["aria-hidden","true","fill","none","stroke","currentColor","viewbox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"mb-3","w-10","h-10","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500","dark:text-gray-400"],[1,"font-semibold"],[1,"text-xs","text-gray-500","dark:text-gray-400"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"mb-3","w-10","h-10","text-gray-400"],["fill-rule","evenodd","d","M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["target","_blank","rel","noopener noreferrer",1,"font-medium","text-md","hover:underline",3,"href"],[1,"mb-2","text-sm","text-gray-500"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(e,r){if(e&1){let f=Z();i(0,"div",1),p(1),i(2,"div",2)(3,"span",3),o(4,"Informasi!"),a(),o(5," Tahapan ini bisa dilewati, anda bisa langsung ke proses berikutnya "),a(),g(),v(6,Wi,5,1,"ng-container",4),i(7,"form",5,0),k("submit",function(){return S(f),M(r.submit())}),i(9,"h3",6),o(10," Bukti Perpindahan Orang tua/Wali "),a(),i(11,"div",7)(12,"div")(13,"label",8),o(14," Nomor Surat Ket. Pindah "),i(15,"span",9),o(16,"*"),a()(),c(17,"input",10),v(18,Ui,10,0,"ng-container",4),a(),i(19,"div")(20,"label",11),o(21," Instansi Orang tua/Wali "),i(22,"span",9),o(23,"*"),a()(),i(24,"select",12),k("change",function(x){return S(f),M(r.onInstansiOrtu(x))}),i(25,"option",13),o(26,"Pilih Instansi"),a(),i(27,"option",14),o(28,"Negeri"),a(),i(29,"option",15),o(30,"Swasta"),a()(),v(31,qi,10,0,"ng-container",4),a()(),i(32,"div",16)(33,"span",17),o(34," Surat Ket. Pindah (format .jpeg/ .jpg/ .png / .pdf) "),i(35,"span",9),o(36,"*"),a()(),i(37,"div",18)(38,"label",19)(39,"div",20),v(40,Ji,8,0,"ng-container",4)(41,$i,7,2,"ng-container",4),a(),i(42,"input",21),k("change",function(x){return S(f),M(r.uploadFile(x))}),a()()(),v(43,Qi,10,0,"ng-container",4)(44,Yi,10,1,"ng-container",4),a(),i(45,"div",22)(46,"button",23),k("click",function(){return S(f),M(r.kembali())}),h(),i(47,"svg",24),c(48,"path",25),a(),y(),i(49,"span"),o(50,"Kembali"),a()(),i(51,"button",26),v(52,Xi,2,0,"ng-container",4)(53,ea,5,0,"ng-container",4),a(),i(54,"button",23),k("click",function(){return S(f),M(r.lewati())}),i(55,"span"),o(56,"Lewati"),a(),h(),i(57,"svg",24),c(58,"path",27),a()()()()()}e&2&&(l(6),m("ngIf",r.actionMessageError),l(),m("formGroup",r.pindahWaliForm),l(11),m("ngIf",r.noNomorSUrat),l(13),m("ngIf",r.noInstansiOrtu),l(9),m("ngIf",r.nameFile===null),l(),m("ngIf",r.nameFile!==null),l(2),m("ngIf",r.noNameSurat),l(),m("ngIf",r.uploadError),l(8),m("ngIf",!r.isLoading),l(),m("ngIf",r.isLoading))},dependencies:[P,ie,pe,ge,q,de,U,te,ae,ne]});let n=s;return n})();var Ot=[],jt={id:null,tmsiswa_id:null,tmjenis_afirmasi_id:null,nomor:null,acc:null,file_url:null,file_name:null};function ta(n,s){if(n&1&&(p(0),i(1,"div",27)(2,"span",3),o(3,"Info alert!"),a(),o(4),a(),g()),n&2){let d=E();l(4),z(" ",d.messageError," ")}}function ia(n,s){if(n&1&&(p(0),i(1,"option",28),o(2),a(),g()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),R(d.n_jenis_afirmasi)}}function aa(n,s){n&1&&(p(0),i(1,"div",29),h(),i(2,"svg",30),c(3,"path",31),a(),y(),i(4,"span",32),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Penting!"),a(),o(9," Jenis afirmasi harap diisi "),a()(),g())}function na(n,s){n&1&&(p(0),i(1,"div",29),h(),i(2,"svg",30),c(3,"path",31),a(),y(),i(4,"span",32),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Penting!"),a(),o(9," Nomor kartu harap diisi "),a()(),g())}function ra(n,s){n&1&&(p(0),h(),i(1,"svg",33),c(2,"path",34),a(),y(),i(3,"p",35)(4,"span",36),o(5,"Click to upload"),a()(),i(6,"p",37),o(7,"Hanya file berformat PNG, JPG, PDF "),a(),g())}function sa(n,s){if(n&1&&(p(0),h(),i(1,"svg",38),c(2,"path",39)(3,"path",40),a(),y(),i(4,"a",41)(5,"p",35),o(6),a()(),g()),n&2){let d=E();l(4),m("href",d.afirmasiData.file_url,me),l(2),z(" ",d.nameFile," ")}}function oa(n,s){n&1&&(p(0),i(1,"div",29),h(),i(2,"svg",30),c(3,"path",31),a(),y(),i(4,"span",32),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Penting!"),a(),o(9," Harap mengupload kartu keluarga "),a()(),g())}function la(n,s){if(n&1&&(p(0),i(1,"div",29),h(),i(2,"svg",30),c(3,"path",31),a(),y(),i(4,"span",32),o(5,"Info"),a(),i(6,"div")(7,"span",3),o(8,"Danger alert!"),a(),o(9),a()(),g()),n&2){let d=E();l(9),z(" ",d.uploadErrorMessage," ")}}function ma(n,s){n&1&&(p(0),o(1," Simpan dan Lanjut "),g())}function da(n,s){n&1&&(p(0),h(),i(1,"svg",42),c(2,"path",43)(3,"path",44),a(),o(4," Loading... "),g())}var tr=(()=>{let s=class s{constructor(t,e,r,f,b,x,B){this.fb=t,this.stateLogin=e,this.router=r,this.stateTahapanegistrasi=f,this.stateNavigasi=b,this.callApi=x,this.stateRespon=B,this.destroy=new T,this.jenis=Ot,this.jenisError=!1,this.jenisErrorMessage="",this.nameFile=null,this.uploadError=!1,this.uploadErrorMessage="",this.afirmasiData=jt,this.afirmasiFormData=null,this.actionMessageError=!1,this.messageError="",this.isLoading=!1}ngOnInit(){this.formAfirmasi(),this.getJenis(),this.afirmasi()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}formAfirmasi(){this.afirmasiForm=this.fb.group({jns_afirmasi_id:[null,[I.required]],no_kartu:[null,[I.required]],name_file:[null,[I.required]],file:[null]})}afirmasi(){this.stateLogin.getLogin.pipe(C(t=>this.callApi.getWithParam("siswa/afirmasi","siswa_id",parseInt(t.siswa_id))),A(t=>t.data),_(t=>this.afirmasiData=t),_(t=>{t.length!==0&&(this.afirmasiForm.get("jns_afirmasi_id")?.setValue(t.tmjenis_afirmasi_id),this.afirmasiForm.get("no_kartu")?.setValue(t.nomor),this.afirmasiForm.get("name_file")?.setValue(t.file_name),this.afirmasiForm.get("file")?.setValue(t.file_url),this.nameFile=t.file_name===""?null:t.file_name)}),F(t=>{throw this.actionMessageError=!0,this.messageError=t.error.message,t}),w(this.destroy)).subscribe()}getJenis(){L(this.jenisError=!1).pipe(C(()=>this.callApi.get("afirmasi")),_(t=>this.jenis=t.data),F(t=>{throw this.jenisError=!0,this.jenisErrorMessage=t.error.message,t}),w(this.destroy)).subscribe()}onJenisChange(t){let e=t.target.value;this.afirmasiForm.get("jns_afirmasi_id")?.setValue(e)}refreshDataGetJenis(){this.getJenis()}get jenisAfirmasiIdControl(){return this.afirmasiForm.get("jns_afirmasi_id")}get noJenisAfirmasiId(){return this.jenisAfirmasiIdControl.hasError("required")&&this.jenisAfirmasiIdControl.touched}get nomorKartuControl(){return this.afirmasiForm.get("no_kartu")}get noNomorKartu(){return this.nomorKartuControl.hasError("required")&&this.nomorKartuControl.touched}get nameSertifikatControl(){return this.afirmasiForm.get("name_file")}get noNameSertifikat(){return this.nameSertifikatControl.hasError("required")&&this.nameSertifikatControl.touched}uploadFile(t){return G(this,null,function*(){try{this.uploadError=!1;let e=yield t.target.files[0];if(yield this.afirmasiForm.patchValue({file:e}),yield this.afirmasiForm.patchValue({name_file:e.name}),e.type!=="image/png"&&e.type!=="image/jpg"&&e.type!=="image/jpeg"&&e.type!=="application/pdf")throw new Error("Format File tidak diizinkan");this.nameFile=e.name}catch(e){this.uploadError=!0,this.uploadErrorMessage=e.message}})}submit(){L(this.afirmasiForm.valid).pipe(_(()=>this.isLoading=!0),A(t=>{if(!t)throw Object.values(this.afirmasiForm.controls).forEach(e=>{e.markAsTouched()}),new Error("harap mengisi form data");return t}),C(()=>this.stateLogin.getLogin),_(t=>{this.afirmasiFormData=new FormData,this.afirmasiFormData.append("nik",t.nik),this.afirmasiFormData.append("nisn",t.nisn),this.afirmasiFormData.append("jns_afirmasi_id",this.afirmasiForm.get("jns_afirmasi_id")?.value),this.afirmasiFormData.append("no_kartu",this.afirmasiForm.get("no_kartu")?.value),this.afirmasiFormData.append("file",this.afirmasiForm.get("file")?.value)}),C(()=>this.callApi.post(this.afirmasiFormData,"siswa/simpan/afirmasi")),_(t=>{this.formAfirmasi(),this.stateRespon.updateModelToast({mode:"success",pesan:t.message});let e=O;e.forEach(r=>{r.name==="data siswa"||r.name==="nilai rapor"||r.name==="prestasi"||r.name==="afirmasi / disabilitas"?r.process="done":r.name==="anak guru"&&(r.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(e,"registrasi/anak-guru")}),_(()=>this.router.navigate(["registrasi/anak-guru"])),F(t=>{if(this.isLoading=!1,this.stateRespon.updateModelToast({mode:"error",pesan:t.error.message}),t.error.message==="Data sudah tersedia."){let e=O;e.forEach(r=>{r.name==="data siswa"||r.name==="nilai rapor"||r.name==="prestasi"||r.name==="afirmasi / disabilitas"?r.process="done":r.name==="anak guru"&&(r.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(e,"registrasi/anak-guru"),this.router.navigate(["registrasi/anak-guru"])}throw t}),_(()=>this.isLoading=!1),Y(5e3),w(this.destroy)).subscribe()}lewati(){let t=O;t.forEach(e=>{e.name==="data siswa"||e.name==="nilai rapor"||e.name==="prestasi"||e.name==="afirmasi / disabilitas"?e.process="done":e.name==="anak guru"&&(e.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(t,"registrasi/anak-guru"),this.router.navigate(["registrasi/anak-guru"])}kembali(){let t=O;t.forEach(e=>{e.name==="data siswa"||e.name==="nilai rapor"?e.process="done":e.name==="prestasi"?e.process="on proses":e.name==="afirmasi / disabilitas"&&(e.process="none")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(t,"registrasi/prestasi"),this.router.navigate(["registrasi/prestasi"]),this.formAfirmasi()}};s.\u0275fac=function(e){return new(e||s)(u(re),u(W),u(V),u(N),u($),u(J),u(H))},s.\u0275cmp=D({type:s,selectors:[["prappdb-form-afirmasi-registrasi"]],decls:56,vars:11,consts:[["formDir","ngForm"],[1,"p-4","md:p-5"],["role","alert",1,"p-4","mb-4","text-sm","text-blue-800","rounded-lg","bg-blue-50","dark:bg-gray-800","dark:text-blue-400"],[1,"font-medium"],[4,"ngIf"],["enctype","multipart/form-data",1,"space-y-4","pb-1",3,"submit","formGroup"],[1,"mb-4","text-lg","font-medium","leading-none","text-gray-900"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],["for","jns_afirmasi_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"text-red-500"],["name","jns_afirmasi_id","id","jns_afirmasi_id","formControlName","jns_afirmasi_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],["value","null"],[4,"ngFor","ngForOf"],["for","no_kartu",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","text","name","no_kartu","id","no_kartu","placeholder","Nomor Kartu","formControlName","no_kartu",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],[1,"mb-4"],[1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"flex","justify-center","items-center","w-full"],["for","dropzone-file",1,"flex","flex-col","justify-center","items-center","w-full","h-64","bg-gray-50","rounded-lg","border-2","border-gray-300","border-dashed","cursor-pointerhover:bg-gray-100"],[1,"flex","flex-col","justify-center","items-center","pt-5","pb-6"],["accept","application/pdf, image/png, image/jpeg, image/jpg","id","dropzone-file","type","file",1,"hidden",3,"change"],[1,"items-center","space-y-2","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"gap-1","w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["fill-rule","evenodd","d","M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z","clip-rule","evenodd"],["type","submit",1,"w-full","sm:w-auto","justify-center","items-center","text-white","inline-flex","gap-3","bg-colors-primary","hover:bg-colors-secondary","hover:text-black","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],["fill-rule","evenodd","d","M14.47 2.47a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06l4.72-4.72H9a5.25 5.25 0 1 0 0 10.5h3a.75.75 0 0 1 0 1.5H9a6.75 6.75 0 0 1 0-13.5h10.19l-4.72-4.72a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],["role","alert",1,"p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],[3,"value"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],["aria-hidden","true","fill","none","stroke","currentColor","viewbox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"mb-3","w-10","h-10","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"mb-3","w-10","h-10","text-gray-400"],["fill-rule","evenodd","d","M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["target","_blank","rel","noopener noreferrer",1,"font-medium","text-md","hover:underline",3,"href"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(e,r){if(e&1){let f=Z();i(0,"div",1),p(1),i(2,"div",2)(3,"span",3),o(4,"Informasi!"),a(),o(5," Tahapan ini bisa dilewati, anda bisa langsung ke proses berikutnya "),a(),g(),v(6,ta,5,1,"ng-container",4),i(7,"form",5,0),k("submit",function(){return S(f),M(r.submit())}),i(9,"h3",6),o(10," Bukti Afirmasi atau Disabilitas "),a(),i(11,"div",7)(12,"div")(13,"label",8),o(14," Kategori "),i(15,"span",9),o(16,"*"),a()(),i(17,"select",10),k("change",function(x){return S(f),M(r.onJenisChange(x))}),i(18,"option",11),o(19,"Pilih Kategori Tujuan"),a(),v(20,ia,3,2,"ng-container",12),a(),v(21,aa,10,0,"ng-container",4),a(),i(22,"div")(23,"label",13),o(24," Nomor Kartu/Surat "),i(25,"span",9),o(26,"*"),a()(),c(27,"input",14),v(28,na,10,0,"ng-container",4),a()(),i(29,"div",15)(30,"span",16),o(31," Upload Kartu/Surat (format .jpeg/ .jpg/ .png / .pdf) "),i(32,"span",9),o(33,"*"),a()(),i(34,"div",17)(35,"label",18)(36,"div",19),v(37,ra,8,0,"ng-container",4)(38,sa,7,2,"ng-container",4),a(),i(39,"input",20),k("change",function(x){return S(f),M(r.uploadFile(x))}),a()()(),v(40,oa,10,0,"ng-container",4)(41,la,10,1,"ng-container",4),a(),i(42,"div",21)(43,"button",22),k("click",function(){return S(f),M(r.kembali())}),h(),i(44,"svg",23),c(45,"path",24),a(),y(),i(46,"span"),o(47,"Kembali"),a()(),i(48,"button",25),v(49,ma,2,0,"ng-container",4)(50,da,5,0,"ng-container",4),a(),i(51,"button",22),k("click",function(){return S(f),M(r.lewati())}),i(52,"span"),o(53,"Lewati"),a(),h(),i(54,"svg",23),c(55,"path",26),a()()()()()}e&2&&(l(6),m("ngIf",r.actionMessageError),l(),m("formGroup",r.afirmasiForm),l(13),m("ngForOf",r.jenis),l(),m("ngIf",r.noJenisAfirmasiId),l(7),m("ngIf",r.noNomorKartu),l(9),m("ngIf",r.nameFile===null),l(),m("ngIf",r.nameFile!==null),l(2),m("ngIf",r.noNameSertifikat),l(),m("ngIf",r.uploadError),l(8),m("ngIf",!r.isLoading),l(),m("ngIf",r.isLoading))},dependencies:[ee,P,ie,pe,ge,q,de,U,te,ae,ne]});let n=s;return n})();var xe=(()=>{let s=class s{constructor(){this.prosesRegister=new K(!1),this.getProsesRegister=this.prosesRegister.asObservable(),this.successRegister=new K(!1),this.getSuccessRegister=this.successRegister.asObservable()}updateProsesRegister(t){this.prosesRegister.next(t)}updateSuccessRegister(t){this.successRegister.next(t)}};s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();function pa(n,s){if(n&1&&(p(0),i(1,"div",13)(2,"span",14),o(3,"Info alert!"),a(),o(4),a(),g()),n&2){let d=E();l(4),z(" ",d.messageError," ")}}function ga(n,s){n&1&&(p(0),i(1,"span"),o(2,"Konfirmasi"),a(),h(),i(3,"svg",10),c(4,"path",15),a(),g())}function ca(n,s){n&1&&(p(0),h(),i(1,"svg",16),c(2,"path",17)(3,"path",18),a(),o(4," Loading... "),g())}var mr=(()=>{let s=class s{constructor(t,e,r){this.router=t,this.stateTahapanegistrasi=e,this.stateKonfirmasi=r,this.destroy=new T,this.agree=!1,this.actionMessageError=!1,this.messageError="",this.isLoading=!1}ngOnInit(){}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}onCheckboxChange(){this.agree=!this.agree}kembali(){let t=O;t.forEach(e=>{e.name==="data siswa"||e.name==="nilai rapor"||e.name==="prestasi"||e.name==="afirmasi / disabilitas"||e.name==="anak guru"?e.process="done":e.name==="perpindahan orang tua / wali"?e.process="on proses":e.name==="konfirmasi"&&(e.process="none")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(t,"registrasi/pindah-wali"),this.router.navigate(["registrasi/pindah-wali"])}konfirmasi(){L(this.agree).pipe(_(()=>this.actionMessageError=!1),_(()=>this.isLoading=!0),A(t=>{if(!t)throw new Error("Harap di ceklist");return t}),_(t=>{this.stateKonfirmasi.updateProsesRegister(!0),this.isLoading=!1}),F(t=>{throw this.isLoading=!1,this.actionMessageError=!0,this.messageError=t,t}),w(this.destroy)).subscribe()}};s.\u0275fac=function(e){return new(e||s)(u(V),u(N),u(xe))},s.\u0275cmp=D({type:s,selectors:[["prappdb-form-konfirmasi-registrasi"]],decls:20,vars:4,consts:[[1,"container","mx-auto","md:py-12"],[4,"ngIf"],[1,"max-w-full","mx-auto","md:px-8","md:py-4","px-2","py-2"],[1,"text-2xl","font-medium","mb-4"],[1,"font-normal","text-gray-700","mb-6"],[1,"flex","items-center","mb-4"],["type","checkbox",1,"form-checkbox","h-5","w-5","text-indigo-600",3,"change","ngModel"],[1,"ml-2","text-gray-700"],[1,"items-center","space-y-2","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"gap-1","w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["fill-rule","evenodd","d","M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z","clip-rule","evenodd"],["type","button",1,"gap-1","w-full","sm:w-auto","justify-center","text-white","inline-flex","bg-green-500","hover:bg-green-800","hover:text-white","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["role","alert",1,"p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],[1,"font-medium"],["fill-rule","evenodd","d","M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(e,r){e&1&&(i(0,"div",0),v(1,pa,5,1,"ng-container",1),i(2,"div",2)(3,"h2",3),o(4,"Konfirmasi Penggunaan Data Pribadi"),a(),i(5,"p",4),o(6,"Dengan ini saya menyetujui penggunaan data pribadi yang saya berikan untuk digunakan dalam proses Penerimaan Peserta Didik Baru (PPDB) dan saya menyatakan bahwa data yang saya isikan adalah benar. Jika dikemudian hari terbukti data yang saya isikan adalah palsu maka saya siap di diskualifikasi dari calon peserta didik baru dan ditindaklanjuti secara hukum yang berlaku."),a(),i(7,"label",5)(8,"input",6),k("change",function(){return r.onCheckboxChange()}),a(),i(9,"span",7),o(10,"Saya setuju dengan pernyataan di atas."),a()(),i(11,"div",8)(12,"button",9),k("click",function(){return r.kembali()}),h(),i(13,"svg",10),c(14,"path",11),a(),y(),i(15,"span"),o(16,"Kembali"),a()(),i(17,"button",12),k("click",function(){return r.konfirmasi()}),v(18,ga,5,0,"ng-container",1)(19,ca,5,0,"ng-container",1),a()()()()),e&2&&(l(),m("ngIf",r.actionMessageError),l(7),m("ngModel",r.agree),l(10),m("ngIf",!r.isLoading),l(),m("ngIf",r.isLoading))},dependencies:[P,mt,U,Re]});let n=s;return n})();var Rt=[],Pt=[],Vt=[],pr=[];function ha(n,s){if(n&1&&(p(0),i(1,"div",29)(2,"span",30),o(3,"Info alert!"),a(),o(4),a(),g()),n&2){let d=E();l(4),z(" ",d.messageError," ")}}function ua(n,s){n&1&&(p(0),i(1,"div",31),h(),i(2,"svg",32),c(3,"path",33),a(),y(),i(4,"span",34),o(5,"Info"),a(),i(6,"div")(7,"span",30),o(8,"Danger alert!"),a(),o(9," Nama prestasi harap diisi "),a()(),g())}function fa(n,s){n&1&&(p(0),i(1,"div",31),h(),i(2,"svg",32),c(3,"path",33),a(),y(),i(4,"span",34),o(5,"Info"),a(),i(6,"div")(7,"span",30),o(8,"Danger alert!"),a(),o(9," Nomor sertifikat harap diisi "),a()(),g())}function _a(n,s){if(n&1&&(p(0),i(1,"option",35),o(2),a(),g()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),R(d.n_prestasikategori)}}function va(n,s){n&1&&(p(0),i(1,"div",36),h(),i(2,"svg",32),c(3,"path",33),a(),y(),i(4,"span",34),o(5,"Info"),a(),i(6,"div")(7,"span",30),o(8,"Penting!"),a(),o(9," Kategori prestasi harap diisi "),a()(),g())}function ya(n,s){if(n&1&&(p(0),i(1,"option",35),o(2),a(),g()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),R(d.n_prestasi)}}function ba(n,s){n&1&&(p(0),i(1,"div",36),h(),i(2,"svg",32),c(3,"path",33),a(),y(),i(4,"span",34),o(5,"Info"),a(),i(6,"div")(7,"span",30),o(8,"Penting!"),a(),o(9," Tingkat prestasi harap diisi "),a()(),g())}function ka(n,s){if(n&1&&(p(0),i(1,"option",35),o(2),a(),g()),n&2){let d=s.$implicit;l(),m("value",d.id),l(),R(d.n_prestasibobot)}}function wa(n,s){n&1&&(p(0),i(1,"div",36),h(),i(2,"svg",32),c(3,"path",33),a(),y(),i(4,"span",34),o(5,"Info"),a(),i(6,"div")(7,"span",30),o(8,"Penting!"),a(),o(9," Bobot prestasi harap diisi "),a()(),g())}function xa(n,s){n&1&&(p(0),h(),i(1,"svg",37),c(2,"path",38),a(),y(),i(3,"p",39)(4,"span",40),o(5,"Click to upload"),a()(),i(6,"p",41),o(7,"Hanya file berformat PNG, JPG, Pdf "),a(),g())}function Ca(n,s){if(n&1&&(p(0),h(),i(1,"svg",42),c(2,"path",43)(3,"path",44),a(),y(),i(4,"p",39),o(5),a(),g()),n&2){let d=E();l(5),z(" ",d.nameFile," ")}}function Sa(n,s){n&1&&(p(0),i(1,"div",31),h(),i(2,"svg",32),c(3,"path",33),a(),y(),i(4,"span",34),o(5,"Info"),a(),i(6,"div")(7,"span",30),o(8,"Danger alert!"),a(),o(9," Harap mengupload surat "),a()(),g())}function Ma(n,s){if(n&1&&(p(0),i(1,"div",31),h(),i(2,"svg",32),c(3,"path",33),a(),y(),i(4,"span",34),o(5,"Info"),a(),i(6,"div")(7,"span",30),o(8,"Danger alert!"),a(),o(9),a()(),g()),n&2){let d=E();l(9),z(" ",d.uploadErrorMessage," ")}}function Ea(n,s){n&1&&(p(0),o(1," Tambah Data "),g())}function Ia(n,s){n&1&&(p(0),h(),i(1,"svg",45),c(2,"path",46)(3,"path",47),a(),o(4," Loading... "),g())}var _r=(()=>{let s=class s{constructor(t,e,r,f,b,x,B){this.fb=t,this.stateLogin=e,this.router=r,this.stateTahapanegistrasi=f,this.stateNavigasi=b,this.callApi=x,this.stateRespon=B,this.destroy=new T,this.kategori=Rt,this.kategoriError=!1,this.kategoriErrorMessage="",this.tingkat=Pt,this.tingkatError=!1,this.tingkatErrorMessage="",this.bobot=Vt,this.bobotError=!1,this.bobotErrorMessage="",this.nameFile=null,this.uploadError=!1,this.uploadErrorMessage="",this.prestasiFormData=null,this.actionMessageError=!1,this.messageError="",this.isLoading=!1}ngOnInit(){this.formPrestasi(),this.getKategori()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}formPrestasi(){this.prestasiForm=this.fb.group({nik:[{value:null,disabled:!0},[I.required]],nisn:[{value:null,disabled:!0},[I.required]],kategori_id:[null,[I.required]],tingkat_id:[{value:null,disabled:!0},[I.required]],bobot_id:[{value:null,disabled:!0},[I.required]],nama_prestasi:[null,[I.required]],no_sertifikat:[null,[I.required]],name_file:[null,[I.required]],sertifikat:[""]})}getKategori(){L(this.kategoriError=!1).pipe(C(()=>this.callApi.get("kategori_prestasi")),_(t=>this.kategori=t.data),F(t=>{throw this.kategoriError=!0,this.kategoriErrorMessage=t.error.message,t}),w(this.destroy)).subscribe()}onKategoriChange(t){let e=t.target.value;this.prestasiForm.get("kategori_id")?.setValue(e),this.prestasiForm.get("tingkat_id")?.enable(),this.getTingkat(t.target.value)}refreshDataGetKategori(){this.getKategori()}getTingkat(t){L(this.tingkatError=!1).pipe(C(()=>this.callApi.getWithParam("tingkat_prestasi","kategori",t)),_(e=>this.tingkat=e.data),F(e=>{throw this.tingkatError=!0,this.tingkatErrorMessage=e.error.message,e}),w(this.destroy)).subscribe()}onTingkatChange(t){let e=t.target.value;this.prestasiForm.get("tingkat_id")?.setValue(e),this.prestasiForm.get("bobot_id")?.enable(),this.getBobot(t.target.value)}refreshDataGetTingkat(){this.getTingkat(this.prestasiForm.get("kategori_id")?.value())}getBobot(t){L(this.bobotError=!1).pipe(C(()=>this.callApi.getWithParam("bobot_prestasi","tingkat",t)),_(e=>this.bobot=e.data),F(e=>{throw this.bobotError=!0,this.bobotErrorMessage=e.error.message,e}),w(this.destroy)).subscribe()}onBobotChange(t){let e=t.target.value;this.prestasiForm.get("bobot_id")?.setValue(e)}refreshDataGetBobot(){this.getBobot(this.prestasiForm.get("tingkat_id")?.value())}get namaPrestasiControl(){return this.prestasiForm.get("nama_prestasi")}get noMamaPrestasi(){return this.namaPrestasiControl.hasError("required")&&this.namaPrestasiControl.touched}get bobotControl(){return this.prestasiForm.get("bobot_id")}get noBobot(){return this.bobotControl.hasError("required")&&this.bobotControl.touched}get nomorSertifikatControl(){return this.prestasiForm.get("no_sertifikat")}get noNomorSertifikat(){return this.nomorSertifikatControl.hasError("required")&&this.nomorSertifikatControl.touched}get namaSertifikatControl(){return this.prestasiForm.get("nama_sertifikat")}get noNamaSertifikat(){return this.namaSertifikatControl.hasError("required")&&this.namaSertifikatControl.touched}get kategoriControl(){return this.prestasiForm.get("kategori_id")}get noKategori(){return this.kategoriControl.hasError("required")&&this.kategoriControl.touched}get tingkatControl(){return this.prestasiForm.get("tingkat_id")}get noTingkat(){return this.tingkatControl.hasError("required")&&this.tingkatControl.touched}get nameSertifikatControl(){return this.prestasiForm.get("name_file")}get noNameSertifikat(){return this.nameSertifikatControl.hasError("required")&&this.nameSertifikatControl.touched}uploadSertifikat(t){return G(this,null,function*(){try{this.uploadError=!1;let e=yield t.target.files[0];if(console.log(e),yield this.prestasiForm.patchValue({sertifikat:e}),yield this.prestasiForm.patchValue({name_file:e.name}),e.type!=="image/png"&&e.type!=="image/jpg"&&e.type!=="image/jpeg"&&e.type!=="application/pdf")throw new Error("Format File tidak diizinkan");this.nameFile=e.name}catch(e){this.uploadError=!0,this.uploadErrorMessage=e.message}})}cancel(){this.router.navigate(["registrasi/prestasi"])}submit(){L(this.prestasiForm.valid).pipe(_(()=>this.isLoading=!0),A(t=>{if(!t)throw Object.values(this.prestasiForm.controls).forEach(e=>{e.markAsTouched()}),new Error("harap mengisi form data");return t}),C(()=>this.stateLogin.getLogin),_(t=>{this.prestasiFormData=new FormData,this.prestasiFormData.append("nik",t.nik),this.prestasiFormData.append("nisn",t.nisn),this.prestasiFormData.append("bobot_id",this.prestasiForm.get("bobot_id")?.value),this.prestasiFormData.append("nama_prestasi",this.prestasiForm.get("nama_prestasi")?.value),this.prestasiFormData.append("no_sertifikat",this.prestasiForm.get("no_sertifikat")?.value),this.prestasiFormData.append("sertifikat",this.prestasiForm.get("sertifikat")?.value)}),C(()=>this.callApi.post(this.prestasiFormData,"siswa/simpan/prestasi")),_(t=>{this.stateRespon.updateModelToast({mode:"success",pesan:t.message});let e=O;e.forEach(r=>{r.name==="data siswa"||r.name==="nilai rapor"?r.process="done":r.name==="afirmasi"&&(r.process="on proses")}),this.stateTahapanegistrasi.updateTahapanRegistrasi(e,"registrasi/prestasi"),this.router.navigate(["registrasi/prestasi"])}),F(t=>{throw this.isLoading=!1,this.actionMessageError=!0,this.messageError=t.message==="harap mengisi form data"?t.message:t.error.message,t}),_(()=>this.isLoading=!1),Y(5e3),w(this.destroy)).subscribe()}};s.\u0275fac=function(e){return new(e||s)(u(re),u(W),u(V),u(N),u($),u(J),u(H))},s.\u0275cmp=D({type:s,selectors:[["prappdb-form-tambah-prestasi"]],decls:72,vars:16,consts:[["formDir","ngForm"],[1,"p-4","md:p-5"],[1,"text-2xl","font-bold","dark:text-white","mb-4"],[4,"ngIf"],["enctype","multipart/form-data",1,"space-y-4",3,"submit","formGroup"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],["for","nama_prestasi",1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"text-red-500"],["type","text","name","nama_prestasi","id","nama_prestasi","placeholder","Nama Prestasi","formControlName","nama_prestasi",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],["for","no_sertifikat",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","text","name","no_sertifikat","id","no_sertifikat","placeholder","Nama Prestasi","formControlName","no_sertifikat",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],[1,"grid","gap-4","sm:col-span-2","md:gap-6","sm:grid-cols-3"],["for","kategori_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["name","kategori_id","id","kategori_id","formControlName","kategori_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],["value","null"],[4,"ngFor","ngForOf"],["for","tingkat_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["name","tingkat_id","id","tingkat_id","formControlName","tingkat_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],["for","bobot_id",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["name","bobot_id","id","bobot_id","formControlName","bobot_id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5",3,"change"],[1,"mb-4"],[1,"block","mb-2","text-sm","font-medium","text-gray-900"],[1,"flex","justify-center","items-center","w-full"],["for","dropzone-file",1,"flex","flex-col","justify-center","items-center","w-full","h-64","bg-gray-50","rounded-lg","border-2","border-gray-300","border-dashed","cursor-pointerhover:bg-gray-100"],[1,"flex","flex-col","justify-center","items-center","pt-5","pb-6"],["accept","application/pdf, image/png, image/jpeg, image/jpg","id","dropzone-file","type","file",1,"hidden",3,"change"],[1,"items-center","space-y-2","md:flex-row","md:justify-end","sm:flex","sm:flex-col","sm:space-y-0","sm:space-x-4","mb-4","md:mb-4"],["type","button",1,"gap-1","w-full","sm:w-auto","justify-center","inline-flex","text-black","bg-gray-100","hover:ring-1","hover:ring-gray-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"click"],["type","submit",1,"w-full","sm:w-auto","justify-center","items-center","inline-flex","gap-3","text-white","bg-colors-primary","hover:bg-colors-secondary","hover:text-black","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center"],["role","alert",1,"p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],[1,"font-medium"],["role","alert",1,"mt-1","flex","items-center","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[3,"value"],["role","alert",1,"mt-1","flex","items-center","p-2","mb-4","text-xs","text-red-800","rounded-lg","bg-red-50"],["aria-hidden","true","fill","none","stroke","currentColor","viewbox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"mb-3","w-10","h-10","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"mb-3","w-10","h-10","text-gray-400"],["fill-rule","evenodd","d","M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule","evenodd"],["d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(e,r){if(e&1){let f=Z();i(0,"div",1)(1,"h4",2),o(2,"Prestasi"),a(),v(3,ha,5,1,"ng-container",3),i(4,"form",4,0),k("submit",function(){return S(f),M(r.submit())}),i(6,"div",5)(7,"div")(8,"label",6),o(9," Nama Prestasi "),i(10,"span",7),o(11,"*"),a()(),c(12,"input",8),v(13,ua,10,0,"ng-container",3),a(),i(14,"div")(15,"label",9),o(16," Nomor Sertifikat Prestasi "),i(17,"span",7),o(18,"*"),a()(),c(19,"input",10),v(20,fa,10,0,"ng-container",3),a(),i(21,"div",11)(22,"div")(23,"label",12),o(24," Kategori "),i(25,"span",7),o(26,"*"),a()(),i(27,"select",13),k("change",function(x){return S(f),M(r.onKategoriChange(x))}),i(28,"option",14),o(29,"Pilih Kategori Tujuan"),a(),v(30,_a,3,2,"ng-container",15),a(),v(31,va,10,0,"ng-container",3),a(),i(32,"div")(33,"label",16),o(34," Tingkat "),i(35,"span",7),o(36,"*"),a()(),i(37,"select",17),k("change",function(x){return S(f),M(r.onTingkatChange(x))}),i(38,"option",14),o(39,"Pilih Tingkat Tujuan"),a(),v(40,ya,3,2,"ng-container",15),a(),v(41,ba,10,0,"ng-container",3),a(),i(42,"div")(43,"label",18),o(44," Bobot "),i(45,"span",7),o(46,"*"),a()(),i(47,"select",19),k("change",function(x){return S(f),M(r.onBobotChange(x))}),i(48,"option",14),o(49,"Pilih Tingkat Tujuan"),a(),v(50,ka,3,2,"ng-container",15),a(),v(51,wa,10,0,"ng-container",3),a()()(),i(52,"div",20)(53,"span",21),o(54," Upload File (format .jpeg/ .jpg/ .png / .pdf) "),i(55,"span",7),o(56,"*"),a()(),i(57,"div",22)(58,"label",23)(59,"div",24),v(60,xa,8,0,"ng-container",3)(61,Ca,6,1,"ng-container",3),a(),i(62,"input",25),k("change",function(x){return S(f),M(r.uploadSertifikat(x))}),a()()(),v(63,Sa,10,0,"ng-container",3)(64,Ma,10,1,"ng-container",3),a(),i(65,"div",26)(66,"button",27),k("click",function(){return S(f),M(r.cancel())}),i(67,"span"),o(68,"Batal"),a()(),i(69,"button",28),v(70,Ea,2,0,"ng-container",3)(71,Ia,5,0,"ng-container",3),a()()()()}e&2&&(l(3),m("ngIf",r.actionMessageError),l(),m("formGroup",r.prestasiForm),l(9),m("ngIf",r.noMamaPrestasi),l(7),m("ngIf",r.noNomorSertifikat),l(10),m("ngForOf",r.kategori),l(),m("ngIf",r.noKategori),l(9),m("ngForOf",r.tingkat),l(),m("ngIf",r.noTingkat),l(9),m("ngForOf",r.bobot),l(),m("ngIf",r.noBobot),l(9),m("ngIf",r.nameFile===null),l(),m("ngIf",r.nameFile!==null),l(2),m("ngIf",r.noNameSertifikat),l(),m("ngIf",r.uploadError),l(6),m("ngIf",!r.isLoading),l(),m("ngIf",r.isLoading))},dependencies:[ee,P,ie,pe,ge,q,de,U,te,ae,ne]});let n=s;return n})();var kr=(()=>{let s=class s{constructor(t,e,r,f,b,x,B){this.stateLogin=t,this.router=e,this.stateTahapanegistrasi=r,this.stateNavigasi=f,this.callApi=b,this.stateRespon=x,this.stateKonfirmasi=B,this.destroy=new T}ngOnInit(){}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}cancel(){this.stateKonfirmasi.updateProsesRegister(!1)}submit(){this.stateLogin.getLogin.pipe(C(t=>this.callApi.post({nik:t.nik,nisn:t.nisn},"siswa/simpan/konfirmasi")),_(t=>this.stateKonfirmasi.updateSuccessRegister(!0)),_(t=>this.stateRespon.updateModelModal({mode:"success",pesan:t.message})),_(t=>this.stateKonfirmasi.updateProsesRegister(!1)),F(t=>{throw this.stateRespon.updateModelToast({mode:"error",pesan:t.error.message}),this.stateKonfirmasi.updateProsesRegister(!1),t.error.message==="Silahkan tunggu verifikasi operator"&&(this.stateLogin.clearLogin(),this.stateTahapanegistrasi.clearTahapanRegistrasi(),this.router.navigate(["/"])),t}),w(this.destroy)).subscribe()}};s.\u0275fac=function(e){return new(e||s)(u(W),u(V),u(N),u($),u(J),u(H),u(xe))},s.\u0275cmp=D({type:s,selectors:[["prappdb-modal-konfirmasi-registrasi"]],decls:18,vars:0,consts:[[1,"w-auto","fixed","inset-0","z-50","flex","justify-center","items-center","md:inset-0","h-modal","md:h-full","backdrop-blur-lg","bg-black","bg-opacity-50"],[1,"relative","p-4","w-full","max-w-md","h-full","md:h-auto"],[1,"relative","p-4","text-center","bg-white","rounded-lg","shadow","dark:bg-gray-800","sm:p-5"],["type","button","data-modal-toggle","deleteModal",1,"text-gray-400","absolute","top-2.5","right-2.5","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","p-1.5","ml-auto","inline-flex","items-center","dark:hover:bg-gray-600","dark:hover:text-white"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"text-gray-400","dark:text-gray-500","w-11","h-11","mb-3.5","mx-auto"],["fill-rule","evenodd","d","M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule","evenodd"],[1,"mb-4","text-gray-500","dark:text-gray-300"],[1,"flex","justify-center","items-center","space-x-4"],["data-modal-toggle","deleteModal","type","button",1,"py-2","px-3","text-sm","font-medium","text-gray-500","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-100","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-gray-900","focus:z-10","dark:bg-gray-700","dark:text-gray-300","dark:border-gray-500","dark:hover:text-white","dark:hover:bg-gray-600","dark:focus:ring-gray-600",3,"click"],["type","button",1,"py-2","px-3","text-sm","font-medium","text-center","text-white","bg-red-600","rounded-lg","hover:bg-red-700","focus:ring-4","focus:outline-none","focus:ring-red-300","dark:bg-red-500","dark:hover:bg-red-600","dark:focus:ring-red-900",3,"click"]],template:function(e,r){e&1&&(p(0),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),h(),i(5,"svg",4),c(6,"path",5),a(),y(),i(7,"span",6),o(8,"Close modal"),a()(),h(),i(9,"svg",7),c(10,"path",8),a(),y(),i(11,"p",9),o(12,"Apakah Anda yakin akan mengirim berkas pendaftaran pra ppdb ini?"),a(),i(13,"div",10)(14,"button",11),k("click",function(){return r.cancel()}),o(15," Tidak "),a(),i(16,"button",12),k("click",function(){return r.submit()}),o(17," Yakin, Daftar "),a()()()()(),g())}});let n=s;return n})();var Sr=(()=>{let s=class s{constructor(t,e,r,f,b){this.statePesan=t,this.router=e,this.stateTahapan=r,this.stateLogin=f,this.stateKonfirm=b,this.destroy=new T,this.respon=oe}ngOnInit(){this.getRespon()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}getRespon(){this.statePesan.getModelModal.pipe(_(t=>{this.respon=t}),C(()=>ve(2e3)),_(()=>this.statePesan.clearModelModal()),_(()=>this.stateLogin.clearLogin()),_(()=>this.stateTahapan.clearTahapanRegistrasi()),_(()=>this.stateKonfirm.updateSuccessRegister(!1)),_(()=>this.router.navigate(["/"])),w(this.destroy)).subscribe()}lanjut(){this.router.navigate(["/"]),this.statePesan.clearModelModal(),this.stateLogin.clearLogin(),this.stateTahapan.clearTahapanRegistrasi(),this.stateKonfirm.updateSuccessRegister(!1)}};s.\u0275fac=function(e){return new(e||s)(u(H),u(V),u(N),u(W),u(xe))},s.\u0275cmp=D({type:s,selectors:[["prappdb-respon-success-modal"]],decls:12,vars:1,consts:[[1,"fixed","inset-0","z-50","flex","justify-center","items-center","backdrop-blur-sm","bg-white","bg-opacity-50"],[1,"relative","p-4","w-full","max-w-md"],[1,"relative","p-4","text-center","bg-white","rounded-lg","shadow","sm:p-5"],[1,"w-12","h-12","rounded-full","bg-green-100","p-2","flex","items-center","justify-center","mx-auto","mb-3.5"],["xmlns","http://www.w3.org/2000/svg","height","100","width","100","viewBox","0 0 48 48","aria-hidden","true"],["fill","#5bb543","cx","24","cy","24","r","22",1,"circle-success"],["fill","none","stroke","#FFF","stroke-width","6","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","10","d","M14 27l5.917 4.917L34 17",1,"tick"],[1,"sr-only"],[1,"mb-4","text-lg","font-semibold","text-gray-900"]],template:function(e,r){e&1&&(p(0),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),h(),i(5,"svg",4),c(6,"circle",5)(7,"path",6),a(),y(),i(8,"span",7),o(9,"Success"),a()(),i(10,"p",8),o(11),a()()()(),g()),e&2&&(l(11),R(r.respon.pesan))},styles:["@supports (animation: grow .5s cubic-bezier(.25,.25,.25,1) forwards){.tick[_ngcontent-%COMP%]{stroke-opacity:0;stroke-dasharray:29px;stroke-dashoffset:29px;animation:_ngcontent-%COMP%_draw .5s cubic-bezier(.25,.25,.25,1) forwards;animation-delay:.6s}.circle-success[_ngcontent-%COMP%]{fill-opacity:0;stroke:#219a00;stroke-width:16px;transform-origin:center;transform:scale(0);animation:_ngcontent-%COMP%_grow-success 1s cubic-bezier(.25,.25,.25,1.25) forwards}.circle-failed[_ngcontent-%COMP%]{fill-opacity:0;stroke:red;stroke-width:16px;transform-origin:center;transform:scale(0);animation:_ngcontent-%COMP%_grow-failed 1s cubic-bezier(.25,.25,.25,1.25) forwards}}@keyframes _ngcontent-%COMP%_grow-success{60%{transform:scale(.8);stroke-width:4px;fill-opacity:0}to{transform:scale(.9);stroke-width:8px;fill-opacity:1;fill:#219a00}}@keyframes _ngcontent-%COMP%_grow-failed{60%{transform:scale(.8);stroke-width:4px;fill-opacity:0}to{transform:scale(.9);stroke-width:8px;fill-opacity:1;fill:red}}@keyframes _ngcontent-%COMP%_draw{0%,to{stroke-opacity:1}to{stroke-dashoffset:0}}"]});let n=s;return n})();var Er=(()=>{let s=class s{};s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=D({type:s,selectors:[["prappdb-modal-allow-geolokasi-registrasi"]],decls:10,vars:0,consts:[[1,"w-auto","fixed","inset-0","z-50","flex","justify-center","items-center","md:inset-0","h-modal","md:h-full","backdrop-blur-lg","bg-black","bg-opacity-50"],[1,"relative","p-4","w-full","max-w-md","h-full","md:h-auto"],[1,"relative","p-4","text-center","bg-white","rounded-lg","shadow","dark:bg-gray-800","sm:p-5"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"text-red-700","dark:text-gray-500","w-11","h-11","mb-3.5","mx-auto"],["fill-rule","evenodd","d","M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule","evenodd"],[1,"mb-4","text-gray-500","dark:text-gray-300"],["onclick","location.reload();",1,"mt-2","px-4","py-2","bg-red-700","text-white","hover:bg-colors-primary","rounded-lg"]],template:function(e,r){e&1&&(p(0),i(1,"div",0)(2,"div",1)(3,"div",2),h(),i(4,"svg",3),c(5,"path",4),a(),y(),i(6,"p",5),o(7,"Harap aktifkan izin lokasi dan lakukan reload halaman. "),a(),i(8,"button",6),o(9," Reload Halaman "),a()()()(),g())}});let n=s;return n})();var ls=(()=>{let s=class s{};s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=be({type:s}),s.\u0275inj=ye({imports:[Oe,ut,pt,dt,Et,lt]});let n=s;return n})();export{xe as a,Ft as b,In as c,Dn as d,kr as e,Sr as f,Er as g,xn as h,Vn as i,Un as j,tr as k,mr as l,pr as m,_r as n,ls as o};
